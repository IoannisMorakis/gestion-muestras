"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[179],{8824:(fe,b,R)=>{function F(t){return"function"==typeof t}function U(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const V=U(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function O(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class B{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(F(r))try{r()}catch(o){e=o instanceof V?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{H(o)}catch(s){e=e??[],s instanceof V?e=[...e,...s.errors]:e.push(s)}}if(e)throw new V(e)}}add(e){var n;if(e&&e!==this)if(this.closed)H(e);else{if(e instanceof B){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&O(n,e)}remove(e){const{_finalizers:n}=this;n&&O(n,e),e instanceof B&&e._removeParent(this)}}B.EMPTY=(()=>{const t=new B;return t.closed=!0,t})();const z=B.EMPTY;function x(t){return t instanceof B||t&&"closed"in t&&F(t.remove)&&F(t.add)&&F(t.unsubscribe)}function H(t){F(t)?t():t.unsubscribe()}const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},f={setTimeout(t,e,...n){const{delegate:r}=f;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=f;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function g(t){f.setTimeout(()=>{const{onUnhandledError:e}=C;if(!e)throw t;e(t)})}function _(){}const m=S("C",void 0,void 0);function S(t,e,n){return{kind:t,value:e,error:n}}let q=null;function J(t){if(C.useDeprecatedSynchronousErrorHandling){const e=!q;if(e&&(q={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=q;if(q=null,n)throw r}}else t()}class ut extends B{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,x(e)&&e.add(this)):this.destination=Ot}static create(e,n,r){return new us(e,n,r)}next(e){this.isStopped?ct(function I(t){return S("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ct(function w(t){return S("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ct(m,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fr=Function.prototype.bind;function Yr(t,e){return Fr.call(t,e)}class fa{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){cs(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){cs(r)}else cs(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){cs(n)}}}class us extends ut{constructor(e,n,r){let i;if(super(),F(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&C.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Yr(e.next,o),error:e.error&&Yr(e.error,o),complete:e.complete&&Yr(e.complete,o)}):i=e}this.destination=new fa(i)}}function cs(t){C.useDeprecatedSynchronousErrorHandling?function oe(t){C.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=t)}(t):g(t)}function ct(t,e){const{onStoppedNotification:n}=C;n&&f.setTimeout(()=>n(t,e))}const Ot={closed:!0,next:_,error:function Fe(t){throw t},complete:_},st="function"==typeof Symbol&&Symbol.observable||"@@observable";function He(t){return t}function Tp(t){return 0===t.length?He:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let At=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function b9(t){return t&&t instanceof ut||function C9(t){return t&&F(t.next)&&F(t.error)&&F(t.complete)}(t)&&x(t)}(n)?n:new us(n,r,i);return J(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=_N(r))((i,o)=>{const s=new us({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[st](){return this}pipe(...n){return Tp(n)(this)}toPromise(n){return new(n=_N(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function _N(t){var e;return null!==(e=t??C.Promise)&&void 0!==e?e:Promise}const I9=U(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ki=(()=>{class t extends At{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new yN(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new I9}next(n){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){J(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?z:(this.currentObservers=null,o.push(n),new B(()=>{this.currentObservers=null,O(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new At;return n.source=this,n}}return t.create=(e,n)=>new yN(e,n),t})();class yN extends ki{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:z}}class Er extends ki{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function vN(t){return F(t?.lift)}function _n(t){return e=>{if(vN(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function cn(t,e,n,r,i){return new D9(t,e,n,r,i)}class D9 extends ut{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function lt(t,e){return _n((n,r)=>{let i=0;n.subscribe(cn(r,o=>{r.next(t.call(e,o,i++))}))})}function zv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ls(t){return this instanceof ls?(this.v=t,this):new ls(t)}function bN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function qv(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const IN=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function DN(t){return F(t?.then)}function TN(t){return F(t[st])}function SN(t){return Symbol.asyncIterator&&F(t?.[Symbol.asyncIterator])}function AN(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xN=function q9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function MN(t){return F(t?.[xN])}function NN(t){return function CN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(p){return new Promise(function(y,E){o.push([h,p,y,E])>1||a(h,p)})})}function a(h,p){try{!function u(h){h.value instanceof ls?Promise.resolve(h.value.v).then(c,l):d(o[0][2],h)}(r[h](p))}catch(y){d(o[0][3],y)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ls(n.read());if(i)return yield ls(void 0);yield yield ls(r)}}finally{n.releaseLock()}})}function RN(t){return F(t?.getReader)}function Xr(t){if(t instanceof At)return t;if(null!=t){if(TN(t))return function W9(t){return new At(e=>{const n=t[st]();if(F(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(IN(t))return function K9(t){return new At(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(DN(t))return function Q9(t){return new At(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,g)})}(t);if(SN(t))return ON(t);if(MN(t))return function Y9(t){return new At(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(RN(t))return function X9(t){return ON(NN(t))}(t)}throw AN(t)}function ON(t){return new At(e=>{(function J9(t,e){var n,r,i,o;return function wN(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=bN(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Eo(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function On(t,e,n=1/0){return F(e)?On((r,i)=>lt((o,s)=>e(r,o,i,s))(Xr(t(r,i))),n):("number"==typeof e&&(n=e),_n((r,i)=>function Z9(t,e,n,r,i,o,s,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},p=E=>c<r?y(E):u.push(E),y=E=>{o&&e.next(E),c++;let D=!1;Xr(n(E,l++)).subscribe(cn(e,N=>{i?.(N),o?p(N):e.next(N)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;u.length&&c<r;){const N=u.shift();s?Eo(e,s,()=>y(N)):y(N)}h()}catch(N){e.error(N)}}))};return t.subscribe(cn(e,p,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Nu(t=1/0){return On(He,t)}const Fi=new At(t=>t.complete());function Wv(t){return t[t.length-1]}function PN(t){return F(Wv(t))?t.pop():void 0}function Wl(t){return function tq(t){return t&&F(t.schedule)}(Wv(t))?t.pop():void 0}function Sp(t,e=0){return _n((n,r)=>{n.subscribe(cn(r,i=>Eo(r,t,()=>r.next(i),e),()=>Eo(r,t,()=>r.complete(),e),i=>Eo(r,t,()=>r.error(i),e)))})}function Ap(t,e=0){return _n((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kN(t,e){if(!t)throw new Error("Iterable cannot be null");return new At(n=>{Eo(n,e,()=>{const r=t[Symbol.asyncIterator]();Eo(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yn(t,e){return e?function uq(t,e){if(null!=t){if(TN(t))return function rq(t,e){return Xr(t).pipe(Ap(e),Sp(e))}(t,e);if(IN(t))return function oq(t,e){return new At(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(DN(t))return function iq(t,e){return Xr(t).pipe(Ap(e),Sp(e))}(t,e);if(SN(t))return kN(t,e);if(MN(t))return function sq(t,e){return new At(n=>{let r;return Eo(n,e,()=>{r=t[xN](),Eo(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}(t,e);if(RN(t))return function aq(t,e){return kN(NN(t),e)}(t,e)}throw AN(t)}(t,e):Xr(t)}function ve(...t){return yn(t,Wl(t))}function FN(t={}){const{connector:e=(()=>new ki),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),s=u=void 0,l=d=!1},y=()=>{const E=s;p(),E?.unsubscribe()};return _n((E,D)=>{c++,!d&&!l&&h();const N=u=u??e();D.add(()=>{c--,0===c&&!d&&!l&&(a=Kv(y,i))}),N.subscribe(D),!s&&c>0&&(s=new us({next:T=>N.next(T),error:T=>{d=!0,h(),a=Kv(p,n,T),N.error(T)},complete:()=>{l=!0,h(),a=Kv(p,r),N.complete()}}),Xr(E).subscribe(s))})(o)}}function Kv(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new us({next:()=>{r.unsubscribe(),t()}});return Xr(e(...n)).subscribe(r)}function Li(t,e){return _n((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(cn(r,u=>{i?.unsubscribe();let c=0;const l=o++;Xr(t(u,l)).subscribe(i=cn(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function dq(t,e){return t===e}function Ze(t){for(let e in t)if(t[e]===Ze)return e;throw Error("Could not find renamed property on target object.")}function xp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ln(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ln).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Qv(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const hq=Ze({__forward_ref__:Ze});function gt(t){return t.__forward_ref__=gt,t.toString=function(){return ln(this())},t}function we(t){return Yv(t)?t():t}function Yv(t){return"function"==typeof t&&t.hasOwnProperty(hq)&&t.__forward_ref__===gt}function Xv(t){return t&&!!t.\u0275providers}const LN="https://g.co/ng/security#xss";class Q extends Error{constructor(e,n){super(function Mp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ce(t){return"string"==typeof t?t:null==t?"":String(t)}function Np(t,e){throw new Q(-201,!1)}function Jr(t,e){null==t&&function We(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ge(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rp(t){return VN(t,Op)||VN(t,BN)}function VN(t,e){return t.hasOwnProperty(e)?t[e]:null}function UN(t){return t&&(t.hasOwnProperty(Jv)||t.hasOwnProperty(wq))?t[Jv]:null}const Op=Ze({\u0275prov:Ze}),Jv=Ze({\u0275inj:Ze}),BN=Ze({ngInjectableDef:Ze}),wq=Ze({ngInjectorDef:Ze});var Ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ne||{});let Zv;function Cr(t){const e=Zv;return Zv=t,e}function $N(t,e,n){const r=Rp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ne.Optional?null:void 0!==e?e:void Np(ln(t))}const dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Kl={},e0="__NG_DI_FLAG__",Pp="ngTempTokenPath",Cq=/\n/gm,HN="__source";let Ru;function ds(t){const e=Ru;return Ru=t,e}function Dq(t,e=Ne.Default){if(void 0===Ru)throw new Q(-203,!1);return null===Ru?$N(t,void 0,e):Ru.get(t,e&Ne.Optional?null:void 0,e)}function pe(t,e=Ne.Default){return(function jN(){return Zv}()||Dq)(we(t),e)}function ue(t,e=Ne.Default){return pe(t,kp(e))}function kp(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function t0(t){const e=[];for(let n=0;n<t.length;n++){const r=we(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Q(900,!1);let i,o=Ne.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Tq(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(pe(i,o))}else e.push(pe(r))}return e}function Ql(t,e){return t[e0]=e,t.prototype[e0]=e,t}function Tq(t){return t[e0]}function Co(t){return{toString:t}.toString()}var Fp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Fp||{}),fi=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(fi||{});const Vi={},ze=[],Lp=Ze({\u0275cmp:Ze}),n0=Ze({\u0275dir:Ze}),r0=Ze({\u0275pipe:Ze}),GN=Ze({\u0275mod:Ze}),bo=Ze({\u0275fac:Ze}),Yl=Ze({__NG_ELEMENT_ID__:Ze}),qN=Ze({__NG_ENV_ID__:Ze});function WN(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function o0(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];QN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function KN(t){return 3===t||4===t||6===t}function QN(t){return 64===t.charCodeAt(0)}function Xl(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||YN(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function YN(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const XN="ng-template";function xq(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==WN(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function JN(t){return 4===t.type&&t.value!==XN}function Mq(t,e,n){return e===(4!==t.type||n?t.value:XN)}function Nq(t,e,n){let r=4;const i=t.attrs||[],o=function Pq(t){for(let e=0;e<t.length;e++)if(KN(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Mq(t,u,n)||""===u&&1===e.length){if(pi(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!xq(t.attrs,c,n)){if(pi(r))return!1;s=!0}continue}const d=Rq(8&r?"class":u,i,JN(t),n);if(-1===d){if(pi(r))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":i[d+1].toLowerCase();const p=8&r?h:null;if(p&&-1!==WN(p,c,0)||2&r&&c!==h){if(pi(r))return!1;s=!0}}}}else{if(!s&&!pi(r)&&!pi(u))return!1;if(s&&pi(u))continue;s=!1,r=u|1&r}}return pi(r)||s}function pi(t){return 0==(1&t)}function Rq(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function kq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ZN(t,e,n=!1){for(let r=0;r<e.length;r++)if(Nq(t,e[r],n))return!0;return!1}function eR(t,e){return t?":not("+e.trim()+")":e}function Lq(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!pi(s)&&(e+=eR(o,i),i=""),r=s,o=o||!pi(r);n++}return""!==i&&(e+=eR(o,i)),e}function qt(t){return Co(()=>{const e=nR(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Fp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||fi.Emulated,styles:t.styles||ze,_:null,schemas:t.schemas||null,tView:null,id:""};rR(n);const r=t.dependencies;return n.directiveDefs=Vp(r,!1),n.pipeDefs=Vp(r,!0),n.id=function Gq(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function jq(t){return Ke(t)||Gn(t)}function $q(t){return null!==t}function Wt(t){return Co(()=>({type:t.type,bootstrap:t.bootstrap||ze,declarations:t.declarations||ze,imports:t.imports||ze,exports:t.exports||ze,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function tR(t,e){if(null==t)return Vi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function ye(t){return Co(()=>{const e=nR(t);return rR(e),e})}function Ke(t){return t[Lp]||null}function Gn(t){return t[n0]||null}function Ir(t){return t[r0]||null}function Vr(t,e){const n=t[GN]||null;if(!n&&!0===e)throw new Error(`Type ${ln(t)} does not have '\u0275mod' property.`);return n}function nR(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vi,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ze,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:tR(t.inputs,e),outputs:tR(t.outputs)}}function rR(t){t.features?.forEach(e=>e(t))}function Vp(t,e){if(!t)return null;const n=e?Ir:jq;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter($q)}const dn=0,re=1,Ie=2,Pt=3,gi=4,Jl=5,qn=6,Pu=7,Kt=8,ku=9,ga=10,De=11,Zl=12,iR=13,Fu=14,Qt=15,ed=16,Lu=17,Ui=18,td=19,oR=20,hs=21,Io=22,Up=23,Bp=24,ke=25,s0=1,sR=2,Bi=7,Vu=9,Wn=11;function Ur(t){return Array.isArray(t)&&"object"==typeof t[s0]}function Dr(t){return Array.isArray(t)&&!0===t[s0]}function a0(t){return 0!=(4&t.flags)}function ma(t){return t.componentOffset>-1}function $p(t){return 1==(1&t.flags)}function mi(t){return!!t.template}function u0(t){return 0!=(512&t[Ie])}function _a(t,e){return t.hasOwnProperty(bo)?t[bo]:null}let Xq=dt.WeakRef??class Yq{constructor(e){this.ref=e}deref(){return this.ref}},Zq=0,ji=null,Hp=!1;function vn(t){const e=ji;return ji=t,e}class dR{constructor(){this.id=Zq++,this.ref=function Jq(t){return new Xq(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Hp;Hp=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Hp=e}}producerAccessed(){if(Hp)throw new Error("");if(null===ji)return;let e=ji.producers.get(this.id);void 0===e?(e={consumerNode:ji.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ji.trackingVersion},ji.producers.set(this.id,e),this.consumers.set(ji.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=ji.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ji?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let hR=null;const pR=()=>{};class rW extends dR{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=pR,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=vn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=pR,this.watch(this.registerOnCleanup)}finally{vn(e)}}cleanup(){this.cleanupFn()}}class iW{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Zr(){return gR}function gR(t){return t.type.prototype.ngOnChanges&&(t.setInput=sW),oW}function oW(){const t=_R(this),e=t?.current;if(e){const n=t.previous;if(n===Vi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sW(t,e,n,r){const i=this.declaredInputs[n],o=_R(t)||function aW(t,e){return t[mR]=e}(t,{previous:Vi,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new iW(u&&u.currentValue,e,a===Vi),t[r]=e}Zr.ngInherit=!0;const mR="__ngSimpleChanges__";function _R(t){return t[mR]||null}const $i=function(t,e,n){};function Ct(t){for(;Array.isArray(t);)t=t[dn];return t}function qp(t,e){return Ct(e[t])}function Tr(t,e){return Ct(e[t.index])}function wR(t,e){return t.data[e]}function Br(t,e){const n=e[t];return Ur(n)?n:n[dn]}function fs(t,e){return null==e?null:t[e]}function ER(t){t[Lu]=0}function pW(t){1024&t[Ie]||(t[Ie]|=1024,bR(t,1))}function CR(t){1024&t[Ie]&&(t[Ie]&=-1025,bR(t,-1))}function bR(t,e){let n=t[Pt];if(null===n)return;n[Jl]+=e;let r=n;for(n=n[Pt];null!==n&&(1===e&&1===r[Jl]||-1===e&&0===r[Jl]);)n[Jl]+=e,r=n,n=n[Pt]}const _e={lFrame:PR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function TR(){return _e.bindingsEnabled}function G(){return _e.lFrame.lView}function Ue(){return _e.lFrame.tView}function Kn(t){return _e.lFrame.contextLView=t,t[Kt]}function Qn(t){return _e.lFrame.contextLView=null,t}function Pn(){let t=SR();for(;null!==t&&64===t.type;)t=t.parent;return t}function SR(){return _e.lFrame.currentTNode}function Hi(t,e){const n=_e.lFrame;n.currentTNode=t,n.isParent=e}function p0(){return _e.lFrame.isParent}function ju(){return _e.lFrame.bindingIndex++}function TW(t,e){const n=_e.lFrame;n.bindingIndex=n.bindingRootIndex=t,m0(e)}function m0(t){_e.lFrame.currentDirectiveIndex=t}function NR(){return _e.lFrame.currentQueryIndex}function y0(t){_e.lFrame.currentQueryIndex=t}function AW(t){const e=t[re];return 2===e.type?e.declTNode:1===e.type?t[qn]:null}function RR(t,e,n){if(n&Ne.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&Ne.Host||(i=AW(o),null===i||(o=o[Fu],10&i.type))););if(null===i)return!1;e=i,t=o}const r=_e.lFrame=OR();return r.currentTNode=e,r.lView=t,!0}function v0(t){const e=OR(),n=t[re];_e.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function OR(){const t=_e.lFrame,e=null===t?null:t.child;return null===e?PR(t):e}function PR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function kR(){const t=_e.lFrame;return _e.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const FR=kR;function w0(){const t=kR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cr(){return _e.lFrame.selectedIndex}function ya(t){_e.lFrame.selectedIndex=t}function E0(){_e.lFrame.currentNamespace="svg"}let UR=!0;function Wp(){return UR}function ps(t){UR=t}function Kp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Qp(t,e,n){BR(t,e,3,n)}function Yp(t,e,n,r){(3&t[Ie])===n&&BR(t,e,n,r)}function C0(t,e){let n=t[Ie];(3&n)===e&&(n&=8191,n+=1,t[Ie]=n)}function BR(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Lu]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Lu]+=65536),(a<o||-1==o)&&(PW(t,n,e,u),t[Lu]=(4294901760&t[Lu])+u+2),u++}function jR(t,e){$i(4,t,e);const n=vn(null);try{e.call(t)}finally{vn(n),$i(5,t,e)}}function PW(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[Ie]>>13<t[Lu]>>16&&(3&t[Ie])===e&&(t[Ie]+=8192,jR(a,o)):jR(a,o)}const $u=-1;class id{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function $R(t){return t!==$u}function Xp(t){return 32767&t}function Jp(t,e){let n=function VW(t){return t>>16}(t),r=e;for(;n>0;)r=r[Fu],n--;return r}let I0=!0;function Zp(t){const e=I0;return I0=t,e}const HR=255,zR=5;let UW=0;const zi={};function eg(t,e){const n=GR(t,e);if(-1!==n)return n;const r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,D0(r.data,t),D0(e,null),D0(r.blueprint,null));const i=T0(t,e),o=t.injectorIndex;if($R(i)){const s=Xp(i),a=Jp(i,e),u=a[re].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function D0(t,e){t.push(0,0,0,0,0,0,0,0,e)}function GR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function T0(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=JR(i),null===r)return $u;if(n++,i=i[Fu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return $u}function S0(t,e,n){!function BW(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yl)&&(r=n[Yl]),null==r&&(r=n[Yl]=UW++);const i=r&HR;e.data[t+(i>>zR)]|=1<<i}(t,e,n)}function qR(t,e,n){if(n&Ne.Optional||void 0!==t)return t;Np()}function WR(t,e,n,r){if(n&Ne.Optional&&void 0===r&&(r=null),!(n&(Ne.Self|Ne.Host))){const i=t[ku],o=Cr(void 0);try{return i?i.get(e,r,n&Ne.Optional):$N(e,r,n&Ne.Optional)}finally{Cr(o)}}return qR(r,0,n)}function KR(t,e,n,r=Ne.Default,i){if(null!==t){if(2048&e[Ie]&&!(r&Ne.Self)){const s=function GW(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[Ie]&&!(512&s[Ie]);){const a=QR(o,s,n,r|Ne.Self,zi);if(a!==zi)return a;let u=o.parent;if(!u){const c=s[oR];if(c){const l=c.get(n,zi,r);if(l!==zi)return l}u=JR(s),s=s[Fu]}o=u}return i}(t,e,n,r,zi);if(s!==zi)return s}const o=QR(t,e,n,r,zi);if(o!==zi)return o}return WR(e,n,r,i)}function QR(t,e,n,r,i){const o=function HW(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Yl)?t[Yl]:void 0;return"number"==typeof e?e>=0?e&HR:zW:e}(n);if("function"==typeof o){if(!RR(e,t,r))return r&Ne.Host?qR(i,0,r):WR(e,n,r,i);try{const s=o(r);if(null!=s||r&Ne.Optional)return s;Np()}finally{FR()}}else if("number"==typeof o){let s=null,a=GR(t,e),u=$u,c=r&Ne.Host?e[Qt][qn]:null;for((-1===a||r&Ne.SkipSelf)&&(u=-1===a?T0(t,e):e[a+8],u!==$u&&XR(r,!1)?(s=e[re],a=Xp(u),e=Jp(u,e)):a=-1);-1!==a;){const l=e[re];if(YR(o,a,l.data)){const d=$W(a,e,n,s,r,c);if(d!==zi)return d}u=e[a+8],u!==$u&&XR(r,e[re].data[a+8]===c)&&YR(o,a,e)?(s=l,a=Xp(u),e=Jp(u,e)):a=-1}}return i}function $W(t,e,n,r,i,o){const s=e[re],a=s.data[t+8],l=tg(a,s,n,null==r?ma(a)&&I0:r!=s&&0!=(3&a.type),i&Ne.Host&&o===a);return null!==l?va(e,s,l,a):zi}function tg(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,l=o>>20,h=i?a+l:t.directiveEnd;for(let p=r?a:a+l;p<h;p++){const y=s[p];if(p<u&&n===y||p>=u&&y.type===n)return p}if(i){const p=s[u];if(p&&mi(p)&&p.type===n)return u}return null}function va(t,e,n,r){let i=t[n];const o=e.data;if(function kW(t){return t instanceof id}(i)){const s=i;s.resolving&&function fq(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ce(t)}(o[n]));const a=Zp(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Cr(s.injectImpl):null;RR(t,r,Ne.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function OW(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=gR(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==u&&Cr(u),Zp(a),s.resolving=!1,FR()}}return i}function YR(t,e,n){return!!(n[e+(t>>zR)]&1<<t)}function XR(t,e){return!(t&Ne.Self||t&Ne.Host&&e)}class Hu{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return KR(this._tNode,this._lView,e,kp(r),n)}}function zW(){return new Hu(Pn(),G())}function kn(t){return Co(()=>{const e=t.prototype.constructor,n=e[bo]||A0(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[bo]||A0(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function A0(t){return Yv(t)?()=>{const e=A0(we(t));return e&&e()}:_a(t)}function JR(t){const e=t[re],n=e.type;return 2===n?e.declTNode:1===n?t[qn]:null}const Gu="__parameters__";function Wu(t,e,n){return Co(()=>{const r=function x0(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,l){const d=u.hasOwnProperty(Gu)?u[Gu]:Object.defineProperty(u,Gu,{value:[]})[Gu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function sd(t,e){t.forEach(n=>Array.isArray(n)?sd(n,e):e(n))}function eO(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function rg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function jr(t,e,n){let r=Qu(t,e);return r>=0?t[1|r]=n:(r=~r,function JW(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function M0(t,e){const n=Qu(t,e);if(n>=0)return t[1|n]}function Qu(t,e){return function tO(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const Ft=Ql(Wu("Optional"),8),og=Ql(Wu("SkipSelf"),4);function lg(t){return 128==(128&t.flags)}var gs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(gs||{});const k0=new Map;let C8=0;const L0="__ngContext__";function Yn(t,e){Ur(e)?(t[L0]=e[td],function I8(t){k0.set(t[td],t)}(e)):t[L0]=e}let V0;function U0(t,e){return V0(t,e)}function ld(t){const e=t[Pt];return Dr(e)?e[Pt]:e}function EO(t){return bO(t[Zl])}function CO(t){return bO(t[gi])}function bO(t){for(;null!==t&&!Dr(t);)t=t[gi];return t}function Ju(t,e,n,r,i){if(null!=r){let o,s=!1;Dr(r)?o=r:Ur(r)&&(s=!0,r=r[dn]);const a=Ct(r);0===t&&null!==n?null==i?AO(e,n,a):wa(e,n,a,i||null,!0):1===t&&null!==n?wa(e,n,a,i||null,!0):2===t?function mg(t,e,n){const r=pg(t,e);r&&function H8(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function q8(t,e,n,r,i){const o=n[Bi];o!==Ct(n)&&Ju(e,t,r,o,i);for(let a=Wn;a<n.length;a++){const u=n[a];hd(u[re],u,t,e,r,o)}}(e,t,o,n,i)}}function fg(t,e,n){return t.createElement(e,n)}function DO(t,e){const n=t[Vu],r=n.indexOf(e);CR(e),n.splice(r,1)}function j0(t,e){if(t.length<=Wn)return;const n=Wn+e,r=t[n];if(r){const i=r[ed];null!==i&&i!==t&&DO(i,r),e>0&&(t[n-1][gi]=r[gi]);const o=rg(t,Wn+e);!function k8(t,e){hd(t,e,e[De],2,null,null),e[dn]=null,e[qn]=null}(r[re],r);const s=o[Ui];null!==s&&s.detachView(o[re]),r[Pt]=null,r[gi]=null,r[Ie]&=-129}return r}function TO(t,e){if(!(256&e[Ie])){const n=e[De];e[Up]?.destroy(),e[Bp]?.destroy(),n.destroyNode&&hd(t,e,n,3,null,null),function V8(t){let e=t[Zl];if(!e)return $0(t[re],t);for(;e;){let n=null;if(Ur(e))n=e[Zl];else{const r=e[Wn];r&&(n=r)}if(!n){for(;e&&!e[gi]&&e!==t;)Ur(e)&&$0(e[re],e),e=e[Pt];null===e&&(e=t),Ur(e)&&$0(e[re],e),n=e&&e[gi]}e=n}}(e)}}function $0(t,e){if(!(256&e[Ie])){e[Ie]&=-129,e[Ie]|=256,function $8(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof id)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];$i(4,a,u);try{u.call(a)}finally{$i(5,a,u)}}else{$i(4,i,o);try{o.call(i)}finally{$i(5,i,o)}}}}}(t,e),function j8(t,e){const n=t.cleanup,r=e[Pu];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[Pu]=null);const i=e[hs];if(null!==i){e[hs]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[re].type&&e[De].destroy();const n=e[ed];if(null!==n&&Dr(e[Pt])){n!==e[Pt]&&DO(n,e);const r=e[Ui];null!==r&&r.detachView(t)}!function D8(t){k0.delete(t[td])}(e)}}function H0(t,e,n){return function SO(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[dn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===fi.None||o===fi.Emulated)return null}return Tr(r,n)}}(t,e.parent,n)}function wa(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AO(t,e,n){t.appendChild(e,n)}function xO(t,e,n,r,i){null!==r?wa(t,e,n,r,i):AO(t,e,n)}function pg(t,e){return t.parentNode(e)}let z0,K0,RO=function NO(t,e,n){return 40&t.type?Tr(t,n):null};function gg(t,e,n,r){const i=H0(t,r,e),o=e[De],a=function MO(t,e,n){return RO(t,e,n)}(r.parent||e[qn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)xO(o,i,n[u],a,!1);else xO(o,i,n,a,!1);void 0!==z0&&z0(o,r,e,n,i)}function dd(t,e){if(null!==e){const n=e.type;if(3&n)return Tr(e,t);if(4&n)return G0(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return dd(t,r);{const i=t[e.index];return Dr(i)?G0(-1,i):Ct(i)}}if(32&n)return U0(e,t)()||Ct(t[e.index]);{const r=PO(t,e);return null!==r?Array.isArray(r)?r[0]:dd(ld(t[Qt]),r):dd(t,e.next)}}return null}function PO(t,e){return null!==e?t[Qt][qn].projection[e.projection]:null}function G0(t,e){const n=Wn+t+1;if(n<e.length){const r=e[n],i=r[re].firstChild;if(null!==i)return dd(r,i)}return e[Bi]}function q0(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&Yn(Ct(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)q0(t,e,n.child,r,i,o,!1),Ju(e,t,i,a,o);else if(32&u){const c=U0(n,r);let l;for(;l=c();)Ju(e,t,i,l,o);Ju(e,t,i,a,o)}else 16&u?FO(t,e,r,n,i,o):Ju(e,t,i,a,o);n=s?n.projectionNext:n.next}}function hd(t,e,n,r,i,o){q0(n,r,t.firstChild,e,i,o,!1)}function FO(t,e,n,r,i,o){const s=n[Qt],u=s[qn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ju(e,t,i,u[c],o);else{let c=u;const l=s[Pt];lg(r)&&(c.flags|=128),q0(t,e,c,l,i,o,!0)}}function LO(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function VO(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&o0(t,e,r),null!==i&&LO(t,e,i),null!==o&&function K8(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}class $O{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${LN})`}}function ms(t){return t instanceof $O?t.changingThisBreaksApplicationSecurity:t}const u7=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ec=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ec||{});function ew(t){const e=function md(){const t=G();return t&&t[ga].sanitizer}();return e?e.sanitize(ec.URL,t)||"":function pd(t,e){const n=function i7(t){return t instanceof $O&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${LN})`)}return n===e}(t,"URL")?ms(t):function Y0(t){return(t=String(t)).match(u7)?t:"unsafe:"+t}(Ce(t))}class ae{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _d=new ae("ENVIRONMENT_INITIALIZER"),XO=new ae("INJECTOR",-1),JO=new ae("INJECTOR_DEF_TYPES");class ZO{get(e,n=Kl){if(n===Kl){const r=new Error(`NullInjectorError: No provider for ${ln(e)}!`);throw r.name="NullInjectorError",r}return n}}function E7(...t){return{\u0275providers:tP(0,t),\u0275fromNgModule:!0}}function tP(t,...e){const n=[],r=new Set;let i;return sd(e,o=>{const s=o;tw(s,n,[],r)&&(i||=[],i.push(s))}),void 0!==i&&nP(i,n),n}function nP(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];nw(i,o=>{e.push(o)})}}function tw(t,e,n,r){if(!(t=we(t)))return!1;let i=null,o=UN(t);const s=!o&&Ke(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const u=t.ngModule;if(o=UN(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)tw(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{sd(o.imports,l=>{tw(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&nP(c,e)}if(!a){const c=_a(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ze},{provide:JO,useValue:i,multi:!0},{provide:_d,useValue:()=>pe(i),multi:!0})}const u=o.providers;null==u||a||nw(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function nw(t,e){for(let n of t)Xv(n)&&(n=n.\u0275providers),Array.isArray(n)?nw(n,e):e(n)}const C7=Ze({provide:String,useValue:Ze});function rw(t){return null!==t&&"object"==typeof t&&C7 in t}function Ea(t){return"function"==typeof t}const iw=new ae("Set Injector scope."),wg={},I7={};let ow;function Eg(){return void 0===ow&&(ow=new ZO),ow}class Ao{}class sw extends Ao{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uw(e,s=>this.processProvider(s)),this.records.set(XO,tc(void 0,this)),i.has("environment")&&this.records.set(Ao,tc(void 0,this));const o=this.records.get(iw);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(JO.multi,ze,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ds(this),r=Cr(void 0);try{return e()}finally{ds(n),Cr(r)}}get(e,n=Kl,r=Ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(qN))return e[qN](this);r=kp(r);const i=ds(this),o=Cr(void 0);try{if(!(r&Ne.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function x7(t){return"function"==typeof t||"object"==typeof t&&t instanceof ae}(e)&&Rp(e);a=u&&this.injectableDefInScope(u)?tc(aw(e),wg):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Ne.Self?Eg():this.parent).get(e,n=r&Ne.Optional&&n===Kl?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Pp]=s[Pp]||[]).unshift(ln(e)),i)throw s;return function Sq(t,e,n,r){const i=t[Pp];throw e[HN]&&i.unshift(e[HN]),t.message=function Aq(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ln(e);if(Array.isArray(e))i=e.map(ln).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ln(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Cq,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Pp]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{Cr(o),ds(i)}}resolveInjectorInitializers(){const e=ds(this),n=Cr(void 0);try{const r=this.get(_d.multi,ze,Ne.Self);for(const i of r)i()}finally{ds(e),Cr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ln(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){let n=Ea(e=we(e))?e:we(e&&e.provide);const r=function T7(t){return rw(t)?tc(void 0,t.useValue):tc(oP(t),wg)}(e);if(Ea(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=tc(void 0,wg,!0),i.factory=()=>t0(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===wg&&(n.value=I7,n.value=n.factory()),"object"==typeof n.value&&n.value&&function A7(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=we(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function aw(t){const e=Rp(t),n=null!==e?e.factory:_a(t);if(null!==n)return n;if(t instanceof ae)throw new Q(204,!1);if(t instanceof Function)return function D7(t){const e=t.length;if(e>0)throw function ad(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Q(204,!1);const n=function vq(t){return t&&(t[Op]||t[BN])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Q(204,!1)}function oP(t,e,n){let r;if(Ea(t)){const i=we(t);return _a(i)||aw(i)}if(rw(t))r=()=>we(t.useValue);else if(function iP(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...t0(t.deps||[]));else if(function rP(t){return!(!t||!t.useExisting)}(t))r=()=>pe(we(t.useExisting));else{const i=we(t&&(t.useClass||t.provide));if(!function S7(t){return!!t.deps}(t))return _a(i)||aw(i);r=()=>new i(...t0(t.deps))}return r}function tc(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function uw(t,e){for(const n of t)Array.isArray(n)?uw(n,e):n&&Xv(n)?uw(n.\u0275providers,e):e(n)}const Cg=new ae("AppId",{providedIn:"root",factory:()=>M7}),M7="ng",sP=new ae("Platform Initializer"),_s=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aP=new ae("CSP nonce",{providedIn:"root",factory:()=>function fd(){if(void 0!==K0)return K0;if(typeof document<"u")return document;throw new Q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cP=(t,e)=>null;function lP(t,e){return cP(t,e)}class U7{}class fP{}class j7{resolveComponentFactory(e){throw function B7(t){const e=Error(`No component factory found for ${ln(t)}.`);return e.ngComponent=t,e}(e)}}let Sg=(()=>{class t{}return t.NULL=new j7,t})();function $7(){return rc(Pn(),G())}function rc(t,e){return new Ar(Tr(t,e))}let Ar=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=$7,t})();function H7(t){return t instanceof Ar?t.nativeElement:t}class gP{}let _i=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function z7(){const t=G(),n=Br(Pn().index,t);return(Ur(n)?n:t)[De]}(),t})(),G7=(()=>{class t{}return t.\u0275prov=ge({token:t,providedIn:"root",factory:()=>null}),t})();class ic{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const mP=new ic("16.1.6"),vw={};function wd(t){for(;t;){t[Ie]|=64;const e=ld(t);if(u0(t)&&!e)return t;t=e}return null}function ww(t){return t.ngOriginalError}class Ca{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ww(e);for(;n&&ww(n);)n=ww(n);return n||null}}const vP=new ae("",{providedIn:"root",factory:()=>!1});function xo(t){return t instanceof Function?t():t}class IP extends dR{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){wd(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=vn(this);this.trackingVersion++;try{e(n,r)}finally{vn(i)}}destroy(){this.trackingVersion++}}let xg=null;function DP(){return xg??=new IP,xg}function TP(t,e){return t[e]??DP()}function SP(t,e){const n=DP();n.hasReadASignal&&(t[e]=xg,n.lView=t,xg=new IP)}const Te={};function Se(t){AP(Ue(),G(),cr()+t,!1)}function AP(t,e,n,r){if(!r)if(3==(3&e[Ie])){const o=t.preOrderCheckHooks;null!==o&&Qp(e,o,n)}else{const o=t.preOrderHooks;null!==o&&Yp(e,o,0,n)}ya(n)}function RP(t,e=null,n=null,r){const i=OP(t,e,n,r);return i.resolveInjectorInitializers(),i}function OP(t,e=null,n=null,r,i=new Set){const o=[n||ze,E7(t)];return r=r||("object"==typeof t?void 0:ln(t)),new sw(o,e||Eg(),r||null,i)}let lr=(()=>{class t{static create(n,r){if(Array.isArray(n))return RP({name:""},r,n,"");{const i=n.name??"";return RP({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Kl,t.NULL=new ZO,t.\u0275prov=ge({token:t,providedIn:"any",factory:()=>pe(XO)}),t.__NG_ELEMENT_ID__=-1,t})();function k(t,e=Ne.Default){const n=G();return null===n?pe(t,e):KR(Pn(),n,we(t),e)}function Mg(t,e,n,r,i,o,s,a,u,c,l){const d=e.blueprint.slice();return d[dn]=i,d[Ie]=140|r,(null!==c||t&&2048&t[Ie])&&(d[Ie]|=2048),ER(d),d[Pt]=d[Fu]=t,d[Kt]=n,d[ga]=s||t&&t[ga],d[De]=a||t&&t[De],d[ku]=u||t&&t[ku]||null,d[qn]=o,d[td]=function b8(){return C8++}(),d[Io]=l,d[oR]=c,d[Qt]=2==e.type?t[Qt]:d,d}function sc(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Ew(t,e,n,r,i){const o=SR(),s=p0(),u=t.data[e]=function hK(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Bu(){return null!==_e.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(t,e,n,r,i),function DW(){return _e.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function rd(){const t=_e.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Hi(o,!0),o}function Ed(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function kP(t,e,n,r,i){const o=TP(e,Up),s=cr(),a=2&r;try{if(ya(-1),a&&e.length>ke&&AP(t,e,ke,!1),$i(a?2:0,i),a)o.runInContext(n,r,i);else{const c=vn(null);try{n(r,i)}finally{vn(c)}}}finally{a&&null===e[Up]&&SP(e,Up),ya(s),$i(a?3:1,i)}}function Cw(t,e,n){if(a0(e)){const r=vn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{vn(r)}}}function bw(t,e,n){TR()&&(function vK(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;ma(n)&&function TK(t,e,n){const r=Tr(e,t),i=FP(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Ng(t,Mg(t,i,null,s,r,e,null,t[ga].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||eg(n,e),Yn(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const u=t.data[a],c=va(e,t,a,n);Yn(c,e),null!==s&&SK(0,a-i,c,u,0,s),mi(u)&&(Br(n.index,e)[Kt]=va(e,t,a,n))}}(t,e,n,Tr(n,e)),64==(64&n.flags)&&jP(t,e,n))}function Iw(t,e,n=Tr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function FP(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Dw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Dw(t,e,n,r,i,o,s,a,u,c,l){const d=ke+r,h=d+i,p=function sK(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Te);return n}(d,h),y="function"==typeof c?c():c;return p[re]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1,ssrId:l}}let LP=t=>null;function VP(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?UP(n,e,i,o):r.hasOwnProperty(i)&&UP(n,e,r[i],o)}return n}function UP(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Tw(t,e,n,r){if(TR()){const i=null===r?null:{"":-1},o=function EK(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(ZN(e,s.selectors,!1))if(r||(r=[]),mi(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Sw(t,e,a.length)}else r.unshift(s),Sw(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&BP(t,e,n,s,i,a),i&&function CK(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new Q(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Xl(n.mergedAttrs,n.attrs)}function BP(t,e,n,r,i,o){for(let c=0;c<r.length;c++)S0(eg(n,e),t,r[c].type);!function IK(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,u=Ed(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Xl(n.mergedAttrs,l.hostAttrs),DK(t,n,e,u,l),bK(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function fK(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,y=h?h.outputs:null;u=VP(d.inputs,l,u,h?h.inputs:null),c=VP(d.outputs,l,c,y);const E=null===u||null===s||JN(e)?null:AK(u,l,s);a.push(E)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,o)}function jP(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function SW(){return _e.lFrame.currentDirectiveIndex}();try{ya(o);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];m0(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&wK(u,c)}}finally{ya(-1),m0(s)}}function wK(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Sw(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bK(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mi(e)&&(n[""]=t)}}function DK(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=_a(i.type)),s=new id(o,mi(i),k);t.blueprint[r]=s,n[r]=s,function _K(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function yK(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,Ed(t,n,i.hostVars,Te),i)}function SK(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)$P(r,n,s[a++],s[a++],s[a++])}function $P(t,e,n,r,i){const o=vn(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{vn(o)}}function AK(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function HP(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function zP(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];y0(n[r]),s.contentQueries(2,e[o],o)}}}function Ng(t,e){return t[Zl]?t[iR][gi]=e:t[Zl]=e,t[iR]=e,e}function xw(t,e,n){y0(0);const r=vn(null);try{e(t,n)}finally{vn(r)}}function GP(t){return t[Pu]||(t[Pu]=[])}function qP(t){return t.cleanup||(t.cleanup=[])}function KP(t,e){const n=t[ku],r=n?n.get(Ca,null):null;r&&r.handleError(e)}function Mw(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];$P(t.data[s],e[s],r,a,i)}}function xK(t,e){const n=Br(e,t),r=n[re];!function MK(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[dn];null!==i&&null===n[Io]&&(n[Io]=lP(i,n[ku])),Nw(r,n,n[Kt])}function Nw(t,e,n){v0(e);try{const r=t.viewQuery;null!==r&&xw(1,r,n);const i=t.template;null!==i&&kP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&zP(t,e),t.staticViewQueries&&xw(2,t.viewQuery,n);const o=t.components;null!==o&&function NK(t,e){for(let n=0;n<e.length;n++)xK(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ie]&=-5,w0()}}let QP=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new rW(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=ge({token:t,providedIn:"root",factory:()=>new t}),t})();function Rg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Qv(i,a):2==o&&(r=Qv(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Cd(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Ct(o)),Dr(o)){for(let a=Wn;a<o.length;a++){const u=o[a],c=u[re].firstChild;null!==c&&Cd(u[re],u,c,r)}o[Bi]!==o[dn]&&r.push(o[Bi])}const s=n.type;if(8&s)Cd(t,e,n.child,r);else if(32&s){const a=U0(n,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=PO(e,n);if(Array.isArray(a))r.push(...a);else{const u=ld(e[Qt]);Cd(u[re],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Og(t,e,n,r=!0){const i=e[ga].rendererFactory;i.begin&&i.begin();try{YP(t,e,t.template,n)}catch(s){throw r&&KP(e,s),s}finally{i.end&&i.end(),e[ga].effectManager?.flush()}}function YP(t,e,n,r){const i=e[Ie];if(256!=(256&i)){e[ga].effectManager?.flush(),v0(e);try{ER(e),function xR(t){return _e.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&kP(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&Qp(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Yp(e,c,0,null),C0(e,0)}if(function FK(t){for(let e=EO(t);null!==e;e=CO(e)){if(!e[sR])continue;const n=e[Vu];for(let r=0;r<n.length;r++){pW(n[r])}}}(e),XP(e,2),null!==t.contentQueries&&zP(t,e),s){const c=t.contentCheckHooks;null!==c&&Qp(e,c)}else{const c=t.contentHooks;null!==c&&Yp(e,c,1),C0(e,1)}!function oK(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=TP(e,Bp);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)ya(~o);else{const s=o,a=n[++i],u=n[++i];TW(a,s),r.runInContext(u,2,e[s])}}}finally{null===e[Bp]&&SP(e,Bp),ya(-1)}}(t,e);const a=t.components;null!==a&&ZP(e,a,0);const u=t.viewQuery;if(null!==u&&xw(2,u,r),s){const c=t.viewCheckHooks;null!==c&&Qp(e,c)}else{const c=t.viewHooks;null!==c&&Yp(e,c,2),C0(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Ie]&=-73,CR(e)}finally{w0()}}}function XP(t,e){for(let n=EO(t);null!==n;n=CO(n))for(let r=Wn;r<n.length;r++)JP(n[r],e)}function LK(t,e,n){JP(Br(e,t),n)}function JP(t,e){if(!function hW(t){return 128==(128&t[Ie])}(t))return;const n=t[re];if(80&t[Ie]&&0===e||1024&t[Ie]||2===e)YP(n,t,n.template,t[Kt]);else if(t[Jl]>0){XP(t,1);const i=t[re].components;null!==i&&ZP(t,i,1)}}function ZP(t,e,n){for(let r=0;r<e.length;r++)LK(t,e[r],n)}class bd{get rootNodes(){const e=this._lView,n=e[re];return Cd(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(e){this._lView[Kt]=e}get destroyed(){return 256==(256&this._lView[Ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Pt];if(Dr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(j0(e,r),rg(n,r))}this._attachedToViewContainer=!1}TO(this._lView[re],this._lView)}onDestroy(e){!function IR(t,e){if(256==(256&t[Ie]))throw new Q(911,!1);null===t[hs]&&(t[hs]=[]),t[hs].push(e)}(this._lView,e)}markForCheck(){wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ie]&=-129}reattach(){this._lView[Ie]|=128}detectChanges(){Og(this._lView[re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function L8(t,e){hd(t,e,e[De],2,null,null)}(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e}}class VK extends bd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Og(e[re],e,e[Kt],!1)}checkNoChanges(){}get context(){return null}}class ek extends Sg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ke(e);return new Id(n,this.ngModule)}}function tk(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class BK{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=kp(r);const i=this.injector.get(e,vw,r);return i!==vw||n===vw?i:this.parentInjector.get(e,n,r)}}class Id extends fP{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=tk(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tk(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Vq(t){return t.map(Lq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof Ao?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new BK(e,o):e,a=s.get(gP,null);if(null===a)throw new Q(407,!1);const l={rendererFactory:a,sanitizer:s.get(G7,null),effectManager:s.get(QP,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function aK(t,e,n,r){const o=r.get(vP,!1)||n===fi.ShadowDom,s=t.selectRootElement(e,o);return function uK(t){LP(t)}(s),s}(d,r,this.componentDef.encapsulation,s):fg(d,h,function UK(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),D=this.componentDef.signals?4608:this.componentDef.onPush?576:528,N=Dw(0,null,null,1,0,null,null,null,null,null,null),T=Mg(null,N,null,D,null,null,l,d,s,null,null);let $,Y;v0(T);try{const ie=this.componentDef;let me,Et=null;ie.findHostDirectiveDefs?(me=[],Et=new Map,ie.findHostDirectiveDefs(ie,me,Et),me.push(ie)):me=[ie];const un=function $K(t,e){const n=t[re],r=ke;return t[r]=e,sc(n,r,2,"#host",null)}(T,p),hi=function HK(t,e,n,r,i,o,s){const a=i[re];!function zK(t,e,n,r){for(const i of t)e.mergedAttrs=Xl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Rg(e,e.mergedAttrs,!0),null!==n&&VO(r,n,e))}(r,t,e,s);let u=null;null!==e&&(u=lP(e,i[ku]));const c=o.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Mg(i,FP(n),null,l,i[t.index],t,o,c,null,null,u);return a.firstCreatePass&&Sw(a,t,r.length-1),Ng(i,d),i[t.index]=d}(un,p,ie,me,T,l,d);Y=wR(N,ke),p&&function qK(t,e,n,r){if(r)o0(t,n,["ng-version",mP.full]);else{const{attrs:i,classes:o}=function Uq(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!pi(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&o0(t,n,i),o&&o.length>0&&LO(t,n,o.join(" "))}}(d,ie,p,r),void 0!==n&&function WK(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Y,this.ngContentSelectors,n),$=function GK(t,e,n,r,i,o){const s=Pn(),a=i[re],u=Tr(s,i);BP(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Yn(va(i,a,s.directiveStart+l,s),i);jP(a,i,s),u&&Yn(u,i);const c=va(i,a,s.directiveStart+s.componentOffset,s);if(t[Kt]=i[Kt]=c,null!==o)for(const l of o)l(c,e);return Cw(a,s,t),c}(hi,ie,me,Et,T,[KK]),Nw(N,T,null)}finally{w0()}return new jK(this.componentType,$,rc(Y,T),T,Y)}}class jK extends U7{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new VK(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Mw(o[re],o,i,e,n),this.previousInputValues.set(e,n),wd(Br(this._tNode.index,o))}}get injector(){return new Hu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function KK(){const t=Pn();Kp(G()[re],t)}function et(t){let e=function nk(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(mi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=Pg(t.inputs),s.inputTransforms=Pg(t.inputTransforms),s.declaredInputs=Pg(t.declaredInputs),s.outputs=Pg(t.outputs);const a=i.hostBindings;a&&JK(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&YK(t,u),c&&XK(t,c),xp(t.inputs,i.inputs),xp(t.declaredInputs,i.declaredInputs),xp(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),xp(s.inputTransforms,i.inputTransforms)),mi(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===et&&(n=!1)}}e=Object.getPrototypeOf(e)}!function QK(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xl(i.hostAttrs,n=Xl(n,i.hostAttrs))}}(r)}function Pg(t){return t===Vi?{}:t===ze?[]:t}function YK(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function XK(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function JK(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function kg(t){return!!function Rw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Xn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function xd(t,e,n,r,i,o,s,a){const u=G(),c=Ue(),l=t+ke,d=c.firstCreatePass?function bQ(t,e,n,r,i,o,s,a,u){const c=e.consts,l=sc(e,t,4,s||null,fs(c,a));Tw(e,n,l,fs(c,u)),Kp(e,l);const d=l.tView=Dw(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Hi(d,!1);const h=vk(c,u,d,t);Wp()&&gg(c,u,h,d),Yn(h,u),Ng(u,u[l]=HP(h,u,h,d)),$p(d)&&bw(c,u,d),null!=s&&Iw(u,d,a)}let vk=function wk(t,e,n,r){return ps(!0),e[De].createComment("")};function ni(t){return function Uu(t,e){return t[e]}(function IW(){return _e.lFrame.contextLView}(),ke+t)}function Lt(t,e,n){const r=G();return Xn(r,ju(),e)&&function $r(t,e,n,r,i,o,s,a){const u=Tr(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Mw(t,n,l,r,i),ma(e)&&function gK(t,e){const n=Br(e,t);16&n[Ie]||(n[Ie]|=64)}(n,e.index)):3&e.type&&(r=function pK(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(Ue(),function kt(){const t=_e.lFrame;return wR(t.tView,t.selectedIndex)}(),r,t,e,r[De],n,!1),Lt}function Vw(t,e,n,r,i){const s=i?"class":"style";Mw(t,n,e.inputs[s],s,r)}function M(t,e,n,r){const i=G(),o=Ue(),s=ke+t,a=i[De],u=o.firstCreatePass?function SQ(t,e,n,r,i,o){const s=e.consts,u=sc(e,t,2,r,fs(s,i));return Tw(e,n,u,fs(s,o)),null!==u.attrs&&Rg(u,u.attrs,!1),null!==u.mergedAttrs&&Rg(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,n,r):o.data[s],c=Ek(o,i,u,a,e,t);i[s]=c;const l=$p(u);return Hi(u,!0),VO(a,c,u),32!=(32&u.flags)&&Wp()&&gg(o,i,c,u),0===function mW(){return _e.lFrame.elementDepthCount}()&&Yn(c,i),function _W(){_e.lFrame.elementDepthCount++}(),l&&(bw(o,i,u),Cw(o,u,i)),null!==r&&Iw(i,u),M}function A(){let t=Pn();p0()?function g0(){_e.lFrame.isParent=!1}():(t=t.parent,Hi(t,!1));const e=t;(function vW(t){return _e.skipHydrationRootTNode===t})(e)&&function bW(){_e.skipHydrationRootTNode=null}(),function yW(){_e.lFrame.elementDepthCount--}();const n=Ue();return n.firstCreatePass&&(Kp(n,t),a0(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function FW(t){return 0!=(8&t.flags)}(e)&&Vw(n,e,G(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function LW(t){return 0!=(16&t.flags)}(e)&&Vw(n,e,G(),e.stylesWithoutHost,!1),A}function he(t,e,n,r){return M(t,e,n,r),A(),he}let Ek=(t,e,n,r,i,o)=>(ps(!0),fg(r,i,function VR(){return _e.lFrame.currentNamespace}()));function Hr(){return G()}function Md(t){return!!t&&"function"==typeof t.then}function Ik(t){return!!t&&"function"==typeof t.subscribe}function de(t,e,n,r){const i=G(),o=Ue(),s=Pn();return function Tk(t,e,n,r,i,o,s){const a=$p(r),c=t.firstCreatePass&&qP(t),l=e[Kt],d=GP(e);let h=!0;if(3&r.type||s){const E=Tr(r,e),D=s?s(E):E,N=d.length,T=s?Y=>s(Ct(Y[r.index])):r.index;let $=null;if(!s&&a&&($=function OQ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[Pu],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,h=!1;else{o=Ak(r,e,l,o,!1);const Y=n.listen(D,i,o);d.push(o,Y),c&&c.push(i,T,N,N+1)}}else o=Ak(r,e,l,o,!1);const p=r.outputs;let y;if(h&&null!==p&&(y=p[i])){const E=y.length;if(E)for(let D=0;D<E;D+=2){const ie=e[y[D]][y[D+1]].subscribe(o),me=d.length;d.push(o,ie),c&&c.push(i,r.index,me,-(me+1))}}}(o,i,i[De],s,t,e,r),de}function Sk(t,e,n,r){try{return $i(6,e,n),!1!==n(r)}catch(i){return KP(t,i),!1}finally{$i(7,e,n)}}function Ak(t,e,n,r,i){return function o(s){if(s===Function)return r;wd(t.componentOffset>-1?Br(t.index,e):e);let u=Sk(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)u=Sk(e,n,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function mc(t=1){return function xW(t){return(_e.lFrame.contextLView=function MW(t,e){for(;t>0;)e=e[Fu],t--;return e}(t,_e.lFrame.contextLView))[Kt]}(t)}function Bg(t,e){return t<<17|e<<2}function ys(t){return t>>17&32767}function $w(t){return 2|t}function Ia(t){return(131068&t)>>2}function Hw(t,e){return-131069&t|e<<2}function zw(t){return 1|t}function Vk(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ys(o):Ia(o),u=!1;for(;0!==a&&(!1===u||s);){const l=t[a+1];$Q(t[a],e)&&(u=!0,t[a+1]=r?zw(l):$w(l)),a=r?ys(l):Ia(l)}u&&(t[n+1]=r?$w(o):zw(o))}function $Q(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Qu(t,e)>=0}function Nd(t,e){return function yi(t,e,n,r){const i=G(),o=Ue(),s=function To(t){const e=_e.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);o.firstUpdatePass&&function Wk(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[cr()],s=function qk(t,e){return e>=t.expandoStartIndex}(t,n);(function Xk(t,e){return 0!=(t.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function XQ(t,e,n,r){const i=function _0(t){const e=_e.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Rd(n=Gw(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Gw(i,t,e,n,r),null===o){let u=function JQ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ia(r))return t[ys(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Gw(null,t,e,u[1],r),u=Rd(u,e.attrs,r),function ZQ(t,e,n,r){t[ys(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else o=function eY(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Rd(r,t[o].hostAttrs,n);return Rd(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function BQ(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ys(s),u=Ia(s);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||Qu(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ys(t[a+1]);t[r+1]=Bg(h,a),0!==h&&(t[h+1]=Hw(t[h+1],r)),t[a+1]=function VQ(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Bg(a,0),0!==a&&(t[a+1]=Hw(t[a+1],r)),a=r;else t[r+1]=Bg(u,0),0===a?a=r:t[u+1]=Hw(t[u+1],r),u=r;c&&(t[r+1]=$w(t[r+1])),Vk(t,l,r,!0),Vk(t,l,r,!1),function jQ(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Qu(o,e)>=0&&(n[r+1]=zw(n[r+1]))}(e,l,t,r,o),s=Bg(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==Te&&Xn(i,s,e)&&function Qk(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function UQ(t){return 1==(1&t)}(c)?Yk(u,e,n,i,Ia(c),s):void 0;jg(l)||(jg(o)||function LQ(t){return 2==(2&t)}(c)&&(o=Yk(u,null,n,i,a,s)),function W8(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:gs.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=gs.Important),t.setStyle(n,r,i,o))}}(r,s,qp(cr(),n),i,o))}(o,o.data[cr()],i,i[De],t,i[s+1]=function iY(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ln(ms(t)))),t}(e,n),r,s)}(t,e,null,!0),Nd}function Gw(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Rd(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Rd(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jr(t,s,!!n||e[++o]))}return void 0===t?null:t}function Yk(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Te&&(h=d?ze:void 0);let p=d?M0(h,r):l===r?h:void 0;if(c&&!jg(p)&&(p=M0(u,r)),jg(p)&&(a=p,s))return a;const y=t[i+1];i=s?ys(y):Ia(y)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=M0(u,r))}return a}function jg(t){return void 0!==t}function j(t,e=""){const n=G(),r=Ue(),i=t+ke,o=r.firstCreatePass?sc(r,i,1,e,null):r.data[i],s=Jk(r,n,o,e,t);n[i]=s,Wp()&&gg(r,n,s,o),Hi(o,!1)}let Jk=(t,e,n,r,i)=>(ps(!0),function hg(t,e){return t.createText(e)}(e[De],r));function xr(t){return ri("",t,""),xr}function ri(t,e,n){const r=G(),i=function uc(t,e,n,r){return Xn(t,ju(),n)?e+Ce(n)+r:Te}(r,t,e,n);return i!==Te&&function Mo(t,e,n){const r=qp(e,t);!function IO(t,e,n){t.setValue(e,n)}(t[De],r,n)}(r,cr(),i),ri}const vc="en-US";let wF=vc;function Kw(t,e,n,r,i){if(t=we(t),Array.isArray(t))for(let o=0;o<t.length;o++)Kw(t[o],e,n,r,i);else{const o=Ue(),s=G();let a=Ea(t)?t:we(t.provide),u=oP(t);const c=Pn(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ea(t)||!t.multi){const p=new id(u,i,k),y=Yw(a,e,i?l:l+h,d);-1===y?(S0(eg(c,s),o,a),Qw(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(p),s.push(p)):(n[y]=p,s[y]=p)}else{const p=Yw(a,e,l+h,d),y=Yw(a,e,l,l+h),D=y>=0&&n[y];if(i&&!D||!i&&!(p>=0&&n[p])){S0(eg(c,s),o,a);const N=function IX(t,e,n,r,i){const o=new id(t,n,k);return o.multi=[],o.index=e,o.componentProviders=0,GF(o,i,r&&!n),o}(i?bX:CX,n.length,i,r,u);!i&&D&&(n[y].providerFactory=N),Qw(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(N),s.push(N)}else Qw(o,t,p>-1?p:y,GF(n[i?y:p],u,!i&&r));!i&&r&&D&&n[y].componentProviders++}}}function Qw(t,e,n,r){const i=Ea(e),o=function b7(t){return!!t.useClass}(e);if(i||o){const u=(o?we(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function GF(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Yw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function CX(t,e,n,r){return Xw(this.multi,[])}function bX(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=va(n,n[re],this.providerFactory.index,r);o=a.slice(0,s),Xw(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Xw(i,o);return o}function Xw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function EX(t,e,n){const r=Ue();if(r.firstCreatePass){const i=mi(t);Kw(n,r.data,r.blueprint,i,!0),Kw(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class wc{}class qF{}class Jw extends wc{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ek(this);const i=Vr(e);this._bootstrapComponents=xo(i.bootstrap),this._r3Injector=OP(e,n,[{provide:wc,useValue:this},{provide:Sg,useValue:this.componentFactoryResolver},...r],ln(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Zw extends qF{constructor(e){super(),this.moduleType=e}create(e){return new Jw(this.moduleType,e,[])}}class WF extends wc{constructor(e){super(),this.componentFactoryResolver=new ek(this),this.instance=null;const n=new sw([...e.providers,{provide:wc,useValue:this},{provide:Sg,useValue:this.componentFactoryResolver}],e.parent||Eg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function eE(t,e,n=null){return new WF({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let SX=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=tP(0,n.type),i=r.length>0?eE([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=ge({token:t,providedIn:"environment",factory:()=>new t(pe(Ao))}),t})();function KF(t){t.getStandaloneInjector=e=>e.get(SX).getOrCreateStandaloneInjector(t)}function nE(t){return e=>{setTimeout(t,void 0,e)}}const ht=class ZX extends ki{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=nE(o),i&&(i=nE(i)),s&&(s=nE(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof B&&e.add(a),a}};function eJ(){return this._results[Symbol.iterator]()}class rE{get changes(){return this._changes||(this._changes=new ht)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=rE.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=eJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ei(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function YW(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let No=(()=>{class t{}return t.__NG_ELEMENT_ID__=rJ,t})();const tJ=No,nJ=class extends tJ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const s=this._declarationTContainer.tView,a=Mg(this._declarationLView,s,e,4096&this._declarationLView[Ie]?4096:16,null,s.declTNode,null,null,null,n||null,r||null);a[ed]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[Ui];return null!==c&&(a[Ui]=c.createEmbeddedView(s)),Nw(s,a,e),new bd(a)}};function rJ(){return qg(Pn(),G())}function qg(t,e){return 4&t.type?new nJ(e,t,rc(t,e)):null}let wi=(()=>{class t{}return t.__NG_ELEMENT_ID__=lJ,t})();function lJ(){return dL(Pn(),G())}const dJ=wi,cL=class extends dJ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return rc(this._hostTNode,this._hostLView)}get injector(){return new Hu(this._hostTNode,this._hostLView)}get parentInjector(){const e=T0(this._hostTNode,this._hostLView);if($R(e)){const n=Jp(e,this._hostLView),r=Xp(e);return new Hu(n[re].data[r+8],n)}return new Hu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=lL(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Wn}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function od(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}const u=s?e:new Id(Ke(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const D=(s?c:this.parentInjector).get(Ao,null);D&&(o=D)}Ke(u.componentType??{});const p=u.create(c,i,null,o);return this.insertImpl(p.hostView,a,false),p}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,o=i[re];if(function fW(t){return Dr(t[Pt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Pt],l=new cL(c,c[qn],c[Pt]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;if(function U8(t,e,n,r){const i=Wn+r,o=n.length;r>0&&(n[i-1][gi]=e),r<o-Wn?(e[gi]=n[i],eO(n,Wn+r,e)):(n.push(e),e[gi]=null),e[Pt]=n;const s=e[ed];null!==s&&n!==s&&function B8(t,e){const n=t[Vu];e[Qt]!==e[Pt][Pt][Qt]&&(t[sR]=!0),null===n?t[Vu]=[e]:n.push(e)}(s,e);const a=e[Ui];null!==a&&a.insertView(t),e[Ie]|=128}(o,i,a,s),!r){const u=G0(s,a),c=i[De],l=pg(c,a[Bi]);null!==l&&function F8(t,e,n,r,i,o){r[dn]=i,r[qn]=e,hd(t,r,n,1,i,o)}(o,a[qn],c,i,l,u)}return e.attachToViewContainerRef(),eO(oE(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=lL(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=j0(this._lContainer,n);r&&(rg(oE(this._lContainer),n),TO(r[re],r))}detach(e){const n=this._adjustIndex(e,-1),r=j0(this._lContainer,n);return r&&null!=rg(oE(this._lContainer),n)?new bd(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lL(t){return t[8]}function oE(t){return t[8]||(t[8]=[])}function dL(t,e){let n;const r=e[t.index];return Dr(r)?n=r:(n=HP(r,e,null,t),e[t.index]=n,Ng(e,n)),hL(n,e,t,r),new cL(n,t,e)}let hL=function fL(t,e,n,r){if(t[Bi])return;let i;i=8&n.type?Ct(r):function hJ(t,e){const n=t[De],r=n.createComment(""),i=Tr(e,t);return wa(n,pg(n,i),r,function z8(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Bi]=i};class sE{constructor(e){this.queryList=e,this.matches=null}clone(){return new sE(this.queryList)}setDirty(){this.queryList.setDirty()}}class aE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new aE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==vL(e,n).matches&&this.queries[n].setDirty()}}class pL{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class uE{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new uE(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class cE{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new cE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,gJ(n,o)),this.matchTNodeWithReadOption(e,n,tg(n,e,o,!1,!1))}else r===No?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,tg(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ar||i===wi||i===No&&4&n.type)this.addMatch(n.index,-2);else{const o=tg(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function gJ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function _J(t,e,n,r){return-1===n?function mJ(t,e){return 11&t.type?rc(t,e):4&t.type?qg(t,e):null}(e,t):-2===n?function yJ(t,e,n){return n===Ar?rc(e,t):n===No?qg(e,t):n===wi?dL(e,t):void 0}(t,e,r):va(t,t[re],n,e)}function gL(t,e,n,r){const i=e[Ui].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:_J(e,o[c],s[u+1],n.metadata.read))}i.matches=a}return i.matches}function lE(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=gL(t,e,i,n);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],l=e[-u];for(let d=Wn;d<l.length;d++){const h=l[d];h[ed]===h[Pt]&&lE(h[re],h,c,r)}if(null!==l[Vu]){const d=l[Vu];for(let h=0;h<d.length;h++){const p=d[h];lE(p[re],p,c,r)}}}}}return r}function Ei(t){const e=G(),n=Ue(),r=NR();y0(r+1);const i=vL(n,r);if(t.dirty&&function dW(t){return 4==(4&t[Ie])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?lE(n,e,r,[]):gL(n,e,i,r);t.reset(o,H7),t.notifyOnChanges()}return!0}return!1}function Yi(t,e,n){const r=Ue();r.firstCreatePass&&(function yL(t,e,n){null===t.queries&&(t.queries=new uE),t.queries.track(new cE(e,n))}(r,new pL(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function _L(t,e,n){const r=new rE(4==(4&n));(function dK(t,e,n,r){const i=GP(e);i.push(n),t.firstCreatePass&&qP(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Ui]&&(e[Ui]=new aE),e[Ui].queries.push(new sE(r))}(r,G(),e)}function Ci(){return function vJ(t,e){return t[Ui].queries[e].queryList}(G(),NR())}function vL(t,e){return t.queries.getByIndex(e)}const mE=new ae("Application Initializer");let _E=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ue(mE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Md(o))n.push(o);else if(Ik(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),FL=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ro=new ae("LocaleId",{providedIn:"root",factory:()=>ue(Ro,Ne.Optional|Ne.SkipSelf)||function $J(){return typeof $localize<"u"&&$localize.locale||vc}()});let LL=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Er(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class GJ{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let VL=(()=>{class t{compileModuleSync(n){return new Zw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=xo(Vr(n).declarations).reduce((s,a)=>{const u=Ke(a);return u&&s.push(new Id(u)),s},[]);return new GJ(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jL(...t){}class tt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function KJ(){const t="function"==typeof dt.requestAnimationFrame;let e=dt[t?"requestAnimationFrame":"setTimeout"],n=dt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function XJ(t){const e=()=>{!function YJ(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vE(t),t.isCheckStableRunning=!0,yE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return $L(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),HL(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return $L(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),HL(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,vE(t),yE(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,QJ,jL,jL);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const QJ={};function yE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function $L(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function HL(t){t._nesting--,yE(t)}class JJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const zL=new ae("",{providedIn:"root",factory:GL});function GL(){const t=ue(tt);let e=!0;return function cq(...t){const e=Wl(t),n=function nq(t,e){return"number"==typeof Wv(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Xr(r[0]):Nu(n)(yn(r,e)):Fi}(new At(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new At(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{tt.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(FN()))}const qL=new ae(""),Kg=new ae("");let CE,wE=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CE||(function ZJ(t){CE=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(pe(tt),pe(EE),pe(Kg))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})(),EE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return CE?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),vs=null;const WL=new ae("AllowMultipleToken"),bE=new ae("PlatformDestroyListeners"),IE=new ae("appBootstrapListener");class QL{constructor(e,n){this.name=e,this.token=n}}function XL(t,e,n=[]){const r=`Platform: ${e}`,i=new ae(r);return(o=[])=>{let s=DE();if(!s||s.injector.get(WL,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function nZ(t){if(vs&&!vs.get(WL,!1))throw new Q(400,!1);(function KL(){!function tW(t){hR=t}(()=>{throw new Q(600,!1)})})(),vs=t;const e=t.get(ZL);(function YL(t){t.get(sP,null)?.forEach(n=>n())})(t)}(function JL(t=[],e){return lr.create({name:e,providers:[{provide:iw,useValue:"platform"},{provide:bE,useValue:new Set([()=>vs=null])},...t]})}(a,r))}return function iZ(t){const e=DE();if(!e)throw new Q(401,!1);return e}()}}function DE(){return vs?.get(ZL)??null}let ZL=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function oZ(t="zone.js",e){return"noop"===t?new JJ:"zone.js"===t?new tt(e):t}(r?.ngZone,function e2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function TX(t,e,n){return new Jw(t,e,n)}(n.moduleType,this.injector,function o2(t){return[{provide:tt,useFactory:t},{provide:_d,multi:!0,useFactory:()=>{const e=ue(aZ,{optional:!0});return()=>e.initialize()}},{provide:i2,useFactory:sZ},{provide:zL,useFactory:GL}]}(()=>i)),s=o.injector.get(Ca,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Qg(this._modules,o),a.unsubscribe()})}),function t2(t,e,n){try{const r=n();return Md(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(_E);return a.runInitializers(),a.donePromise.then(()=>(function EF(t){Jr(t,"Expected localeId to be defined"),"string"==typeof t&&(wF=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ro,vc)||vc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=n2({},r);return function eZ(t,e,n){const r=new Zw(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(bc);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Q(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(bE,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(pe(lr))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function n2(t,e){return Array.isArray(e)?e.reduce(n2,t):{...t,...e}}let bc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ue(i2),this.zoneIsStable=ue(zL),this.componentTypes=[],this.components=[],this.isStable=ue(LL).hasPendingTasks.pipe(Li(n=>n?ve(!1):this.zoneIsStable),function lq(t,e=He){return t=t??dq,_n((n,r)=>{let i,o=!0;n.subscribe(cn(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),FN()),this._injector=ue(Ao)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof fP;if(!this._injector.get(_E).done)throw!i&&function Ou(t){const e=Ke(t)||Gn(t)||Ir(t);return null!==e&&e.standalone}(n),new Q(405,!1);let s;s=i?n:this._injector.get(Sg).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function tZ(t){return t.isBoundToModule}(s)?void 0:this._injector.get(wc),c=s.create(lr.NULL,[],r||s.selector,a),l=c.location.nativeElement,d=c.injector.get(qL,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Qg(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Q(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Qg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(IE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Qg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const i2=new ae("",{providedIn:"root",factory:()=>ue(Ca).handleError.bind(void 0)});function sZ(){const t=ue(tt),e=ue(Ca);return n=>t.runOutsideAngular(()=>e.handleError(n))}let aZ=(()=>{class t{constructor(){this.zone=ue(tt),this.applicationRef=ue(bc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Yg=(()=>{class t{}return t.__NG_ELEMENT_ID__=cZ,t})();function cZ(t){return function lZ(t,e,n){if(ma(t)&&!n){const r=Br(t.index,e);return new bd(r,r)}return 47&t.type?new bd(e[Qt],e):null}(Pn(),G(),16==(16&t))}class c2{constructor(){}supports(e){return kg(e)}create(e){return new mZ(e)}}const gZ=(t,e)=>e;class mZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gZ}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<d2(r,i,o)?n:r,a=d2(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const p=h<o.length?o[h]:o[h]=0,y=p+h;l<=y&&y<c&&(o[h]=p+1)}o[s.previousIndex]=l-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!kg(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function oQ(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new _Z(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new l2),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l2),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _Z{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class l2{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new yZ,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function d2(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function f2(){return new Zg([new c2])}let Zg=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||f2()),deps:[[t,new og,new Ft]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Q(901,!1)}}return t.\u0275prov=ge({token:t,providedIn:"root",factory:f2}),t})();const bZ=XL(null,"core",[]);let IZ=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(pe(bc))},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({}),t})();let RE=null;function ws(){return RE}class FZ{}const ii=new ae("DocumentToken");let OE=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:function(){return ue(VZ)},providedIn:"platform"}),t})();const LZ=new ae("Location Initialized");let VZ=(()=>{class t extends OE{constructor(){super(),this._doc=ue(ii),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ws().getBaseHref(this._doc)}onPopState(n){const r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ws().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function PE(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function E2(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Oo(t){return t&&"?"!==t[0]?"?"+t:t}let Es=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:function(){return ue(b2)},providedIn:"root"}),t})();const C2=new ae("appBaseHref");let b2=(()=>{class t extends Es{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ue(ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return PE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Oo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Oo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Oo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(pe(OE),pe(C2,8))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),I2=(()=>{class t extends Es{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=PE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Oo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Oo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(pe(OE),pe(C2,8))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})(),kE=(()=>{class t{constructor(n){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function jZ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(E2(D2(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Oo(r))}normalize(n){return t.stripTrailingSlash(function BZ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,D2(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Oo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Oo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Oo,t.joinWithSlash=PE,t.stripTrailingSlash=E2,t.\u0275fac=function(n){return new(n||t)(pe(Es))},t.\u0275prov=ge({token:t,factory:function(){return function UZ(){return new kE(pe(Es))}()},providedIn:"root"}),t})();function D2(t){return t.replace(/\/index.html$/,"")}class Aee{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dm=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Aee(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),F2(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{F2(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(k(wi),k(No),k(Zg))},t.\u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function F2(t,e){t.context.$implicit=e.item}let L2=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new xee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){V2("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){V2("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(k(wi),k(No))},t.\u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class xee{constructor(){this.$implicit=null,this.ngIf=null}}function V2(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ln(e)}'.`)}let hm=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({}),t})();function $2(t){return"server"===t}let rte=(()=>{class t{}return t.\u0275prov=ge({token:t,providedIn:"root",factory:()=>new ite(pe(ii),window)}),t})();class ite{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function ote(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=H2(this.window.history)||H2(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function H2(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class xte extends FZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class JE extends xte{static makeCurrent(){!function kZ(t){RE||(RE=t)}(new JE)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Mte(){return Gd=Gd||document.querySelector("base"),Gd?Gd.getAttribute("href"):null}();return null==n?null:function Nte(t){gm=gm||document.createElement("a"),gm.setAttribute("href",t);const e=gm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Gd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Dee(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let gm,Gd=null,Ote=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const ZE=new ae("EventManagerPlugins");let K2=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(pe(ZE),pe(tt))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class Q2{constructor(e){this._doc=e}}const eC="ng-app-id";let Y2=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$2(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${eC}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(eC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(eC,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(pe(ii),pe(Cg),pe(aP,8),pe(_s))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const tC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nC=/%COMP%/g,Lte=new ae("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function J2(t,e){return e.map(n=>n.replace(nC,t))}let Z2=(()=>{class t{constructor(n,r,i,o,s,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=$2(a),this.defaultRenderer=new rC(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fi.ShadowDom&&(r={...r,encapsulation:fi.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof tV?i.applyToHost(n):i instanceof iC&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case fi.Emulated:o=new tV(u,c,r,this.appId,l,s,a,d);break;case fi.ShadowDom:return new jte(u,c,n,r,s,a,this.nonce,d);default:o=new iC(u,c,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(pe(K2),pe(Y2),pe(Cg),pe(Lte),pe(ii),pe(_s),pe(tt),pe(aP))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();class rC{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(tC[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(eV(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(eV(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=tC[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=tC[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(gs.DashCase|gs.Important)?e.style.setProperty(n,r,i&gs.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&gs.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=ws().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function eV(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class jte extends rC{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=J2(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class iC extends rC{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?J2(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class tV extends iC{constructor(e,n,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,n,r,o,s,a,u,c),this.contentAttr=function Vte(t){return"_ngcontent-%COMP%".replace(nC,t)}(c),this.hostAttr=function Ute(t){return"_nghost-%COMP%".replace(nC,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let $te=(()=>{class t extends Q2{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(pe(ii))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const nV=["alt","control","meta","shift"],Hte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Gte=(()=>{class t extends Q2{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ws().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nV.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=Hte[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nV.forEach(s=>{s!==i&&(0,zte[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(pe(ii))},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();const iV=[{provide:_s,useValue:"browser"},{provide:sP,useValue:function qte(){JE.makeCurrent()},multi:!0},{provide:ii,useFactory:function Kte(){return function J8(t){K0=t}(document),document},deps:[]}],Qte=XL(bZ,"browser",iV),Yte=new ae(""),oV=[{provide:Kg,useClass:class Rte{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Q(5103,!1);return o},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements(),dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(r=>{const i=dt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?ws().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:qL,useClass:wE,deps:[tt,EE,Kg]},{provide:wE,useClass:wE,deps:[tt,EE,Kg]}],sV=[{provide:iw,useValue:"root"},{provide:Ca,useFactory:function Wte(){return new Ca},deps:[]},{provide:ZE,useClass:$te,multi:!0,deps:[ii,tt,_s]},{provide:ZE,useClass:Gte,multi:!0,deps:[ii]},Z2,Y2,K2,{provide:gP,useExisting:Z2},{provide:class ste{},useClass:Ote,deps:[]},[]];let Xte=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Cg,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(pe(Yte,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({providers:[...sV,...oV],imports:[hm,IZ]}),t})(),aV=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(pe(ii))},t.\u0275prov=ge({token:t,factory:function(n){let r=null;return r=n?new n:function Zte(){return new aV(pe(ii))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:ine}=Array,{getPrototypeOf:one,prototype:sne,keys:ane}=Object;function dV(t){if(1===t.length){const e=t[0];if(ine(e))return{args:e,keys:null};if(function une(t){return t&&"object"==typeof t&&one(t)===sne}(e)){const n=ane(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:cne}=Array;function hV(t){return lt(e=>function lne(t,e){return cne(e)?t(...e):t(e)}(t,e))}function fV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let pV=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(k(_i),k(Ar))},t.\u0275dir=ye({type:t}),t})(),Sa=(()=>{class t extends pV{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=kn(t)))(r||t)}}(),t.\u0275dir=ye({type:t,features:[et]}),t})();const Xi=new ae("NgValueAccessor"),fne={provide:Xi,useExisting:gt(()=>Ji),multi:!0},gne=new ae("CompositionEventMode");let Ji=(()=>{class t extends pV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pne(){const t=ws()?ws().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(k(_i),k(Ar),k(gne,8))},t.\u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&de("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[xt([fne]),et]}),t})();const Jn=new ae("NgValidators"),Is=new ae("NgAsyncValidators");function DV(t){return null!=t}function TV(t){return Md(t)?yn(t):t}function SV(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function AV(t,e){return e.map(n=>n(t))}function xV(t){return t.map(e=>function _ne(t){return!t.validate}(e)?e:n=>e.validate(n))}function sC(t){return null!=t?function MV(t){if(!t)return null;const e=t.filter(DV);return 0==e.length?null:function(n){return SV(AV(n,e))}}(xV(t)):null}function aC(t){return null!=t?function NV(t){if(!t)return null;const e=t.filter(DV);return 0==e.length?null:function(n){return function dne(...t){const e=PN(t),{args:n,keys:r}=dV(t),i=new At(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let l=0;l<s;l++){let d=!1;Xr(n[l]).subscribe(cn(o,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||o.next(r?fV(r,a):a),o.complete())}))}});return e?i.pipe(hV(e)):i}(AV(n,e).map(TV)).pipe(lt(SV))}}(xV(t)):null}function RV(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function uC(t){return t?Array.isArray(t)?t:[t]:[]}function _m(t,e){return Array.isArray(t)?t.includes(e):t===e}function kV(t,e){const n=uC(e);return uC(t).forEach(i=>{_m(n,i)||n.push(i)}),n}function FV(t,e){return uC(e).filter(n=>!_m(t,n))}class LV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class pr extends LV{get formDirective(){return null}get path(){return null}}class Ds extends LV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ts=(()=>{class t extends VV{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(k(Ds,2))},t.\u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Nd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[et]}),t})(),Fo=(()=>{class t extends VV{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(k(pr,10))},t.\u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Nd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[et]}),t})();const qd="VALID",vm="INVALID",Tc="PENDING",Wd="DISABLED";function dC(t){return(wm(t)?t.validators:t)||null}function hC(t,e){return(wm(e)?e.asyncValidators:t)||null}function wm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class $V{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qd}get invalid(){return this.status===vm}get pending(){return this.status==Tc}get disabled(){return this.status===Wd}get enabled(){return this.status!==Wd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FV(e,this._rawAsyncValidators))}hasValidator(e){return _m(this._rawValidators,e)}hasAsyncValidator(e){return _m(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Tc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Wd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=qd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qd||this.status===Tc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wd:qd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Tc,this._hasOwnPendingAsyncValidator=!0;const n=TV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?Wd:this.errors?vm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Tc)?Tc:this._anyControlsHaveStatus(vm)?vm:qd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ene(t){return Array.isArray(t)?sC(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Cne(t){return Array.isArray(t)?aC(t):t||null}(this._rawAsyncValidators)}}class fC extends $V{constructor(e,n,r){super(dC(n),hC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function jV(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new Q(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function BV(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Sc=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>Em}),Em="always";function Kd(t,e,n=Em){pC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Dne(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&HV(t,e)})}(t,e),function Sne(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Tne(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&HV(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Ine(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Im(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pC(t,e){const n=function OV(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(RV(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function PV(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(RV(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Im(e._rawValidators,i),Im(e._rawAsyncValidators,i)}function HV(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Rne={provide:pr,useExisting:gt(()=>Ti)},Qd=(()=>Promise.resolve())();let Ti=(()=>{class t extends pr{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ht,this.form=new fC({},sC(n),aC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Qd.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Kd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Qd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Qd.then(()=>{const r=this._findContainer(n.path),i=new fC({});(function zV(t,e){pC(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Qd.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Qd.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function GV(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(k(Jn,10),k(Is,10),k(Sc,8))},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&de("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xt([Rne]),et]}),t})();function qV(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function WV(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const KV=class extends $V{constructor(e=null,n,r){super(dC(n),hC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=WV(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){WV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},kne={provide:Ds,useExisting:gt(()=>Lo)},XV=(()=>Promise.resolve())();let Lo=(()=>{class t extends Ds{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new KV,this._registered=!1,this.name="",this.update=new ht,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function _C(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Ji?n=o:function Mne(t){return Object.getPrototypeOf(t.constructor)===Sa}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function mC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){XV.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Ic(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);XV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Cm(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(k(pr,9),k(Jn,10),k(Is,10),k(Xi,10),k(Yg,8),k(Sc,8))},t.\u0275dir=ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xt([kne]),et,Zr]}),t})(),Vo=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),ZV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({}),t})();const Gne={provide:Xi,useExisting:gt(()=>EC),multi:!0};function sU(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let EC=(()=>{class t extends Sa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=sU(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function qne(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=kn(t)))(r||t)}}(),t.\u0275dir=ye({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&de("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[xt([Gne]),et]}),t})(),Tm=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(sU(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(k(Ar),k(_i),k(EC,9))},t.\u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Wne={provide:Xi,useExisting:gt(()=>CC),multi:!0};function aU(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let CC=(()=>{class t extends Sa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Kne(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=kn(t)))(r||t)}}(),t.\u0275dir=ye({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&de("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[xt([Wne]),et]}),t})(),Sm=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(aU(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(aU(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(k(Ar),k(_i),k(CC,9))},t.\u0275dir=ye({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),rre=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({imports:[ZV]}),t})(),IC=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Sc,useValue:n.callSetDisabledState??Em}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({imports:[rre]}),t})();function DC(...t){const e=Wl(t),n=PN(t),{args:r,keys:i}=dV(t);if(0===r.length)return yn([],e);const o=new At(function sre(t,e,n=He){return r=>{_U(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)_U(e,()=>{const c=yn(t[u],e);let l=!1;c.subscribe(cn(r,d=>{o[u]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>fV(i,s):He));return n?o.pipe(hV(n)):o}function _U(t,e,n){t?Eo(n,t,e):e()}const Am=U(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function TC(...t){return function are(){return Nu(1)}()(yn(t,Wl(t)))}function yU(t){return new At(e=>{Xr(t()).subscribe(e)})}function Yd(t,e){const n=F(t)?t:()=>t,r=i=>i.error(n());return new At(e?i=>e.schedule(r,0,i):r)}function SC(){return _n((t,e)=>{let n=null;t._refCount++;const r=cn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class vU extends At{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new B;const n=this.getSubject();e.add(this.source.subscribe(cn(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=B.EMPTY)}return e}refCount(){return SC()(this)}}function Ac(t){return t<=0?()=>Fi:_n((e,n)=>{let r=0;e.subscribe(cn(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ss(t,e){return _n((n,r)=>{let i=0;n.subscribe(cn(r,o=>t.call(e,o,i++)&&r.next(o)))})}function xm(t){return _n((e,n)=>{let r=!1;e.subscribe(cn(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wU(t=cre){return _n((e,n)=>{let r=!1;e.subscribe(cn(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cre(){return new Am}function xa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ss((i,o)=>t(i,o,r)):He,Ac(1),n?xm(e):wU(()=>new Am))}function Xd(t,e){return F(e)?On(t,e,1):On(t,1)}function Zn(t,e,n){const r=F(t)||e||n?{next:t,error:e,complete:n}:t;return r?_n((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(cn(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):He}function Ma(t){return _n((e,n)=>{let o,r=null,i=!1;r=e.subscribe(cn(n,void 0,void 0,s=>{o=Xr(t(s,Ma(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function AC(t){return t<=0?()=>Fi:_n((e,n)=>{let r=[];e.subscribe(cn(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xC(t){return _n((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const xe="primary",Jd=Symbol("RouteTitle");class pre{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function xc(t){return new pre(t)}function gre(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Zi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!EU(t[i],e[i]))return!1;return!0}function EU(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function CU(t){return t.length>0?t[t.length-1]:null}function As(t){return function ore(t){return!!t&&(t instanceof At||F(t.lift)&&F(t.subscribe))}(t)?t:Md(t)?yn(Promise.resolve(t)):ve(t)}const _re={exact:function DU(t,e,n){if(!Na(t.segments,e.segments)||!Mm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!DU(t.children[r],e.children[r],n))return!1;return!0},subset:TU},bU={exact:function yre(t,e){return Zi(t,e)},subset:function vre(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>EU(t[n],e[n]))},ignored:()=>!0};function IU(t,e,n){return _re[n.paths](t.root,e.root,n.matrixParams)&&bU[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function TU(t,e,n){return SU(t,e,e.segments,n)}function SU(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Na(i,n)||e.hasChildren()||!Mm(i,n,r))}if(t.segments.length===n.length){if(!Na(t.segments,n)||!Mm(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!TU(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Na(t.segments,i)&&Mm(t.segments,i,r)&&t.children[xe])&&SU(t.children[xe],e,o,r)}}function Mm(t,e,n){return e.every((r,i)=>bU[n](t[i].parameters,r.parameters))}class Mc{constructor(e=new nt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xc(this.queryParams)),this._queryParamMap}toString(){return Cre.serialize(this)}}class nt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nm(this)}}class Zd{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=xc(this.parameters)),this._parameterMap}toString(){return MU(this)}}function Na(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let eh=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:function(){return new MC},providedIn:"root"}),t})();class MC{parse(e){const n=new Ore(e);return new Mc(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${th(e.root,!0)}`,r=function Dre(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Rm(n)}=${Rm(i)}`).join("&"):`${Rm(n)}=${Rm(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function bre(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Cre=new MC;function Nm(t){return t.segments.map(e=>MU(e)).join("/")}function th(t,e){if(!t.hasChildren())return Nm(t);if(e){const n=t.children[xe]?th(t.children[xe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==xe&&r.push(`${i}:${th(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ere(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===xe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==xe&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===xe?[th(t.children[xe],!1)]:[`${i}:${th(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[xe]?`${Nm(t)}/${n[0]}`:`${Nm(t)}/(${n.join("//")})`}}function AU(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rm(t){return AU(t).replace(/%3B/gi,";")}function NC(t){return AU(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Om(t){return decodeURIComponent(t)}function xU(t){return Om(t.replace(/\+/g,"%20"))}function MU(t){return`${NC(t.path)}${function Ire(t){return Object.keys(t).map(e=>`;${NC(e)}=${NC(t[e])}`).join("")}(t.parameters)}`}const Tre=/^[^\/()?;#]+/;function RC(t){const e=t.match(Tre);return e?e[0]:""}const Sre=/^[^\/()?;=#]+/,xre=/^[^=?&#]+/,Nre=/^[^&#]+/;class Ore{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nt([],{}):new nt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[xe]=new nt(e,n)),r}parseSegment(){const e=RC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Zd(Om(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Are(t){const e=t.match(Sre);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=RC(this.remaining);i&&(r=i,this.capture(r))}e[Om(n)]=Om(r)}parseQueryParam(e){const n=function Mre(t){const e=t.match(xre);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Rre(t){const e=t.match(Nre);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=xU(n),o=xU(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=RC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=xe);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[xe]:new nt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}}function NU(t){return t.segments.length>0?new nt([],{[xe]:t}):t}function RU(t){const e={};for(const r of Object.keys(t.children)){const o=RU(t.children[r]);if(r===xe&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Pre(t){if(1===t.numberOfChildren&&t.children[xe]){const e=t.children[xe];return new nt(t.segments.concat(e.segments),e.children)}return t}(new nt(t.segments,e))}function Ra(t){return t instanceof Mc}function OU(t){let e;const i=NU(function n(o){const s={};for(const u of o.children){const c=n(u);s[u.outlet]=c}const a=new nt(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function PU(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return OC(i,i,i,n,r);const o=function Fre(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new FU(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new FU(n,e,r)}(e);if(o.toRoot())return OC(i,i,new nt([],{}),n,r);const s=function Lre(t,e,n){if(t.isAbsolute)return new km(e,!0,0);if(!n)return new km(e,!1,NaN);if(null===n.parent)return new km(n,!0,0);const r=Pm(t.commands[0])?0:1;return function Vre(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new km(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?rh(s.segmentGroup,s.index,o.commands):LU(s.segmentGroup,s.index,o.commands);return OC(i,s.segmentGroup,a,n,r)}function Pm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function nh(t){return"object"==typeof t&&null!=t&&t.outlets}function OC(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),s=t===e?n:kU(t,e,n);const a=NU(RU(s));return new Mc(a,o,i)}function kU(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:kU(o,e,n)}),new nt(t.segments,r)}class FU{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pm(r[0]))throw new Q(4003,!1);const i=r.find(nh);if(i&&i!==CU(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class km{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function LU(t,e,n){if(t||(t=new nt([],{})),0===t.segments.length&&t.hasChildren())return rh(t,e,n);const r=function Bre(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(nh(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!UU(u,c,s))return o;r+=2}else{if(!UU(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new nt(t.segments.slice(0,r.pathIndex),{});return o.children[xe]=new nt(t.segments.slice(r.pathIndex),t.children),rh(o,0,i)}return r.match&&0===i.length?new nt(t.segments,{}):r.match&&!t.hasChildren()?PC(t,e,n):r.match?rh(t,0,i):PC(t,e,n)}function rh(t,e,n){if(0===n.length)return new nt(t.segments,{});{const r=function Ure(t){return nh(t[0])?t[0].outlets:{[xe]:t}}(n),i={};if(!r[xe]&&t.children[xe]&&1===t.numberOfChildren&&0===t.children[xe].segments.length){const o=rh(t.children[xe],e,n);return new nt(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=LU(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new nt(t.segments,i)}}function PC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(nh(o)){const u=jre(o.outlets);return new nt(r,u)}if(0===i&&Pm(n[0])){r.push(new Zd(t.segments[e].path,VU(n[0]))),i++;continue}const s=nh(o)?o.outlets[xe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pm(a)?(r.push(new Zd(s,VU(a))),i+=2):(r.push(new Zd(s,{})),i++)}return new nt(r,{})}function jre(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=PC(new nt([],{}),0,r))}),e}function VU(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function UU(t,e,n){return t==n.path&&Zi(e,n.parameters)}const ih="imperative";class eo{constructor(e,n){this.id=e,this.url=n}}class kC extends eo{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oa extends eo{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fm extends eo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oh extends eo{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class FC extends eo{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $re extends eo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hre extends eo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zre extends eo{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gre extends eo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qre extends eo{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wre{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kre{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qre{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yre{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xre{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jre{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BU{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zre{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sh,this.attachRef=null}}let sh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Zre,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class jU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=LC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=LC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=VC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return VC(e,this._root).map(n=>n.value)}}function LC(t,e){if(t===e.value)return e;for(const n of e.children){const r=LC(t,n);if(r)return r}return null}function VC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=VC(t,n);if(r.length)return r.unshift(e),r}return[]}class Uo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class $U extends jU{constructor(e,n){super(e),this.snapshot=n,UC(this,e)}toString(){return this.snapshot.toString()}}function HU(t,e){const n=function eie(t,e){const s=new Lm([],{},{},"",{},xe,e,null,{});return new GU("",new Uo(s,[]))}(0,e),r=new Er([new Zd("",{})]),i=new Er({}),o=new Er({}),s=new Er({}),a=new Er(""),u=new er(r,i,s,a,o,xe,e,n.root);return u.snapshot=n.root,new $U(new Uo(u,[]),n)}class er{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(lt(c=>c[Jd]))??ve(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(lt(e=>xc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(lt(e=>xc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zU(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function tie(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Lm{get title(){return this.data?.[Jd]}constructor(e,n,r,i,o,s,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GU extends jU{constructor(e,n){super(n),this.url=e,UC(this,n)}toString(){return qU(this._root)}}function UC(t,e){e.value._routerState=t,e.children.forEach(n=>UC(t,n))}function qU(t){const e=t.children.length>0?` { ${t.children.map(qU).join(", ")} } `:"";return`${t.value}${e}`}function BC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zi(e.params,n.params)||t.paramsSubject.next(n.params),function mre(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Zi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function jC(t,e){const n=Zi(t.params,e.params)&&function wre(t,e){return Na(t,e)&&t.every((n,r)=>Zi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||jC(t.parent,e.parent))}let ah=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=xe,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=ue(sh),this.location=ue(wi),this.changeDetector=ue(Yg),this.environmentInjector=ue(Ao),this.inputBinder=ue(Vm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new nie(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=ye({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zr]}),t})();class nie{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===er?this.route:e===sh?this.childContexts:this.parent.get(e,n)}}const Vm=new ae("");let WU=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=DC([r.queryParams,r.params,r.data]).pipe(Li(([o,s,a],u)=>(a={...o,...s,...a},0===u?ve(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function PZ(t){const e=Ke(t);if(!e)return null;const n=new Id(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();function uh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function iie(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return uh(t,r,i);return uh(t,r)})}(t,e,n);return new Uo(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>uh(t,a)),s}}const r=function oie(t){return new er(new Er(t.url),new Er(t.params),new Er(t.queryParams),new Er(t.fragment),new Er(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>uh(t,o));return new Uo(r,i)}}const $C="ngNavigationCancelingError";function KU(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ra(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=QU(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function QU(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[$C]=!0,r.cancellationCode=e,n&&(r.url=n),r}function YU(t){return XU(t)&&Ra(t.url)}function XU(t){return t&&t[$C]}let JU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qt({type:t,selectors:[["ng-component"]],standalone:!0,features:[KF],decls:1,vars:0,template:function(n,r){1&n&&he(0,"router-outlet")},dependencies:[ah],encapsulation:2}),t})();function HC(t){const e=t.children&&t.children.map(HC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==xe&&(n.component=JU),n}function Si(t){return t.outlet||xe}function ch(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class hie{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),BC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Nc(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Nc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Nc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Nc(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Jre(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yre(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(BC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),BC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=ch(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class ZU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Um{constructor(e,n){this.component=e,this.route=n}}function fie(t,e,n){const r=t._root;return lh(r,e?e._root:null,n,[r.value])}function Rc(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function yq(t){return null!==Rp(t)}(t)?e.get(t):t:r}function lh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Nc(e);return t.children.forEach(s=>{(function gie(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function mie(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Na(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Na(t.url,e.url)||!Zi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jC(t,e)||!Zi(t.queryParams,e.queryParams);default:return!jC(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ZU(r)):(o.data=s.data,o._resolvedData=s._resolvedData),lh(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Um(a.outlet.component,s))}else s&&dh(e,a,i),i.canActivateChecks.push(new ZU(r)),lh(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>dh(a,n.getContext(s),i)),i}function dh(t,e,n){const r=Nc(t),i=t.value;Object.entries(r).forEach(([o,s])=>{dh(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Um(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function hh(t){return"function"==typeof t}function eB(t){return t instanceof Am||"EmptyError"===t?.name}const Bm=Symbol("INITIAL_VALUE");function Oc(){return Li(t=>DC(t.map(e=>e.pipe(Ac(1),function ure(...t){const e=Wl(t);return _n((n,r)=>{(e?TC(t,n,e):TC(t,n)).subscribe(r)})}(Bm)))).pipe(lt(e=>{for(const n of e)if(!0!==n){if(n===Bm)return Bm;if(!1===n||n instanceof Mc)return n}return!0}),Ss(e=>e!==Bm),Ac(1)))}function tB(t){return function wr(...t){return Tp(t)}(Zn(e=>{if(Ra(e))throw KU(0,e)}),lt(e=>!0===e))}class jm{constructor(e){this.segmentGroup=e||null}}class nB{constructor(e){this.urlTree=e}}function Pc(t){return Yd(new jm(t))}function rB(t){return Yd(new nB(t))}class Fie{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new Q(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ve(r);if(i.numberOfChildren>1||!i.children[xe])return Yd(new Q(4e3,!1));i=i.children[xe]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new Mc(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new nt(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const zC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lie(t,e,n,r,i){const o=GC(t,e,n);return o.matched?(r=function sie(t,e){return t.providers&&!t._injector&&(t._injector=eE(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Oie(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?ve(i.map(s=>{const a=Rc(s,t);return As(function Cie(t){return t&&hh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oc(),tB()):ve(!0)}(r,e,n).pipe(lt(s=>!0===s?o:{...zC}))):ve(o)}function GC(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...zC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gre)(n,t,e);if(!i)return{...zC};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function iB(t,e,n,r){return n.length>0&&function Bie(t,e,n){return n.some(r=>$m(t,e,r)&&Si(r)!==xe)}(t,n,r)?{segmentGroup:new nt(e,Uie(r,new nt(n,t.children))),slicedSegments:[]}:0===n.length&&function jie(t,e,n){return n.some(r=>$m(t,e,r))}(t,n,r)?{segmentGroup:new nt(t.segments,Vie(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new nt(t.segments,t.children),slicedSegments:n}}function Vie(t,e,n,r,i){const o={};for(const s of r)if($m(t,n,s)&&!i[Si(s)]){const a=new nt([],{});o[Si(s)]=a}return{...i,...o}}function Uie(t,e){const n={};n[xe]=e;for(const r of t)if(""===r.path&&Si(r)!==xe){const i=new nt([],{});n[Si(r)]=i}return n}function $m(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class Gie{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Fie(this.urlSerializer,this.urlTree)}noMatchError(e){return new Q(4002,!1)}recognize(){const e=iB(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,xe).pipe(Ma(n=>{if(n instanceof nB)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof jm?this.noMatchError(n):n}),lt(n=>{const r=new Lm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},xe,this.rootComponentType,null,{}),i=new Uo(r,n),o=new GU("",i),s=function kre(t,e,n=null,r=null){return PU(OU(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,xe).pipe(Ma(r=>{throw r instanceof jm?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=zU(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return yn(i).pipe(Xd(o=>{const s=r.children[o],a=function lie(t,e){const n=t.filter(r=>Si(r)===e);return n.push(...t.filter(r=>Si(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function dre(t,e){return _n(function lre(t,e,n,r,i){return(o,s)=>{let a=n,u=e,c=0;o.subscribe(cn(s,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),xm(null),function hre(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ss((i,o)=>t(i,o,r)):He,AC(1),n?xm(e):wU(()=>new Am))}(),On(o=>{if(null===o)return Pc(r);const s=oB(o);return function qie(t){t.sort((e,n)=>e.value.outlet===xe?-1:n.value.outlet===xe?1:e.value.outlet.localeCompare(n.value.outlet))}(s),ve(s)}))}processSegment(e,n,r,i,o,s){return yn(n).pipe(Xd(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Ma(u=>{if(u instanceof jm)return ve(null);throw u}))),xa(a=>!!a),Ma(a=>{if(eB(a))return function Hie(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?ve([]):Pc(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function $ie(t,e,n,r){return!!(Si(t)===r||r!==xe&&$m(e,n,t))&&("**"===t.path||GC(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Pc(i):Pc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?rB(o):this.applyRedirects.lineralizeSegments(r,o).pipe(On(s=>{const a=new nt(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=GC(n,i,o);if(!a)return Pc(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?rB(d):this.applyRedirects.lineralizeSegments(i,d).pipe(On(h=>this.processSegment(e,r,n,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?CU(i).parameters:{};a=ve({snapshot:new Lm(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sB(r),Si(r),r.component??r._loadedComponent??null,r,aB(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Lie(n,r,i,e).pipe(lt(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Lm(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,sB(r),Si(r),r.component??r._loadedComponent??null,r,aB(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Li(u=>null===u?Pc(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Li(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:p}=u,{segmentGroup:y,slicedSegments:E}=iB(n,h,p,c);if(0===E.length&&y.hasChildren())return this.processChildren(l,c,y).pipe(lt(N=>null===N?null:[new Uo(d,N)]));if(0===c.length&&0===E.length)return ve([new Uo(d,[])]);const D=Si(r)===o;return this.processSegment(l,c,y,E,D?xe:o,!0).pipe(lt(N=>[new Uo(d,N)]))}))))}getChildConfig(e,n,r){return n.children?ve({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?ve({routes:n._loadedRoutes,injector:n._loadedInjector}):function Rie(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?ve(!0):ve(i.map(s=>{const a=Rc(s,t);return As(function yie(t){return t&&hh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oc(),tB())}(e,n,r).pipe(On(i=>i?this.configLoader.loadChildren(e,n).pipe(Zn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function kie(t){return Yd(QU(!1,3))}())):ve({routes:[],injector:e})}}function Wie(t){const e=t.value.routeConfig;return e&&""===e.path}function oB(t){const e=[],n=new Set;for(const r of t){if(!Wie(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=oB(r.children);e.push(new Uo(r.value,i))}return e.filter(r=>!n.has(r))}function sB(t){return t.data||{}}function aB(t){return t.resolve||{}}function uB(t){return"string"==typeof t.title||null===t.title}function qC(t){return Li(e=>{const n=t(e);return n?yn(n).pipe(lt(()=>e)):ve(e)})}const kc=new ae("ROUTES");let WC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ue(VL)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=As(n.loadComponent()).pipe(lt(cB),Zn(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),xC(()=>{this.componentLoaders.delete(n)})),i=new vU(r,()=>new ki).pipe(SC());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(lt(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(kc,[],Ne.Self|Ne.Optional).flat()),{routes:c.map(HC),injector:u}}),xC(()=>{this.childrenLoaders.delete(r)})),s=new vU(o,()=>new ki).pipe(SC());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return As(n()).pipe(lt(cB),On(r=>r instanceof qF||Array.isArray(r)?ve(r):yn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cB(t){return function eoe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Hm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ki,this.configLoader=ue(WC),this.environmentInjector=ue(Ao),this.urlSerializer=ue(eh),this.rootContexts=ue(sh),this.inputBindingEnabled=null!==ue(Vm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Kre(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Wre(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Er({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ih,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ss(r=>0!==r.id),lt(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Li(r=>{let i=!1,o=!1;return ve(r).pipe(Zn(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Li(s=>{const a=n.browserUrlTree.toString(),u=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new oh(s.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),Fi}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return lB(s.source)&&(n.browserUrlTree=s.extractedUrl),ve(s).pipe(Li(l=>{const d=this.transitions?.getValue();return this.events.next(new kC(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Fi:Promise.resolve(l)}),function Kie(t,e,n,r,i,o){return On(s=>function zie(t,e,n,r,i,o,s="emptyOnly"){return new Gie(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(lt(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Zn(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new $re(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:p,extras:y}=s,E=new kC(l,this.urlSerializer.serialize(d),h,p);this.events.next(E);const D=HU(0,this.rootComponentType).snapshot;return ve(r={...s,targetSnapshot:D,urlAfterRedirects:d,extras:{...y,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new oh(s.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),Fi}}),Zn(s=>{const a=new Hre(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),lt(s=>r={...s,guards:fie(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function Iie(t,e){return On(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?ve({...n,guardsResult:!0}):function Die(t,e,n,r){return yn(t).pipe(On(i=>function Nie(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ve(o.map(a=>{const u=ch(e)??i,c=Rc(a,u);return As(function Eie(t){return t&&hh(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(xa())})).pipe(Oc()):ve(!0)}(i.component,i.route,n,e,r)),xa(i=>!0!==i,!0))}(s,r,i,t).pipe(On(a=>a&&function _ie(t){return"boolean"==typeof t}(a)?function Tie(t,e,n,r){return yn(e).pipe(Xd(i=>TC(function Aie(t,e){return null!==t&&e&&e(new Qre(t)),ve(!0)}(i.route.parent,r),function Sie(t,e){return null!==t&&e&&e(new Xre(t)),ve(!0)}(i.route,r),function Mie(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function pie(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>yU(()=>ve(s.guards.map(u=>{const c=ch(s.node)??n,l=Rc(u,c);return As(function wie(t){return t&&hh(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(xa())})).pipe(Oc())));return ve(o).pipe(Oc())}(t,i.path,n),function xie(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ve(!0);const i=r.map(o=>yU(()=>{const s=ch(e)??n,a=Rc(o,s);return As(function vie(t){return t&&hh(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(xa())}));return ve(i).pipe(Oc())}(t,i.route,n))),xa(i=>!0!==i,!0))}(r,o,t,e):ve(a)),lt(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Zn(s=>{if(r.guardsResult=s.guardsResult,Ra(s.guardsResult))throw KU(0,s.guardsResult);const a=new zre(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ss(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),qC(s=>{if(s.guards.canActivateChecks.length)return ve(s).pipe(Zn(a=>{const u=new Gre(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Li(a=>{let u=!1;return ve(a).pipe(function Qie(t,e){return On(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ve(n);let o=0;return yn(i).pipe(Xd(s=>function Yie(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!uB(i)&&(o[Jd]=i.title),function Xie(t,e,n,r){const i=function Jie(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return ve({});const o={};return yn(i).pipe(On(s=>function Zie(t,e,n,r){const i=ch(e)??r,o=Rc(t,i);return As(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(xa(),Zn(a=>{o[s]=a}))),AC(1),function fre(t){return lt(()=>t)}(o),Ma(s=>eB(s)?Fi:Yd(s)))}(o,t,e,r).pipe(lt(s=>(t._resolvedData=s,t.data=zU(t,n).resolve,i&&uB(i)&&(t.data[Jd]=i.title),null)))}(s.route,r,t,e)),Zn(()=>o++),AC(1),On(s=>o===i.length?ve(n):Fi))})}(n.paramsInheritanceStrategy,this.environmentInjector),Zn({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Zn(a=>{const u=new qre(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),qC(s=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Zn(l=>{u.component=l}),lt(()=>{})));for(const l of u.children)c.push(...a(l));return c};return DC(a(s.targetSnapshot.root)).pipe(xm(),Ac(1))}),qC(()=>this.afterPreactivation()),lt(s=>{const a=function rie(t,e,n){const r=uh(t,e._root,n?n._root:void 0);return new $U(r,e)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Zn(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((t,e,n,r)=>lt(i=>(new hie(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Ac(1),Zn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Oa(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),xC(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ma(s=>{if(o=!0,XU(s)){YU(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Fm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),YU(s)){const u=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||lB(r.source)};n.scheduleNavigation(u,ih,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new FC(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(u){r.reject(u)}}return Fi}))}))}cancelNavigationTransition(n,r,i){const o=new Fm(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lB(t){return t!==ih}let dB=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===xe);return r}getResolvedTitleForRoute(n){return n.data[Jd]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:function(){return ue(toe)},providedIn:"root"}),t})(),toe=(()=>{class t extends dB{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(pe(aV))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),noe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:function(){return ue(ioe)},providedIn:"root"}),t})();class roe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let ioe=(()=>{class t extends roe{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=kn(t)))(r||t)}}(),t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zm=new ae("",{providedIn:"root",factory:()=>({})});let ooe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:function(){return ue(soe)},providedIn:"root"}),t})(),soe=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var fh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fh||{});function hB(t,e){t.events.pipe(Ss(n=>n instanceof Oa||n instanceof Fm||n instanceof FC||n instanceof oh),lt(n=>n instanceof Oa||n instanceof oh?fh.COMPLETE:n instanceof Fm&&(0===n.code||1===n.code)?fh.REDIRECTING:fh.FAILED),Ss(n=>n!==fh.REDIRECTING),Ac(1)).subscribe(()=>{e()})}function aoe(t){throw t}function uoe(t,e,n){return e.parse("/")}const coe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},loe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rt=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ue(FL),this.isNgZoneEnabled=!1,this.options=ue(zm,{optional:!0})||{},this.pendingTasks=ue(LL),this.errorHandler=this.options.errorHandler||aoe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uoe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ue(ooe),this.routeReuseStrategy=ue(noe),this.titleStrategy=ue(dB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ue(kc,{optional:!0})?.flat()??[],this.navigationTransitions=ue(Hm),this.urlSerializer=ue(eh),this.location=ue(kE),this.componentInputBindingEnabled=!!ue(Vm,{optional:!0}),this.isNgZoneEnabled=ue(tt)instanceof tt&&tt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Mc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=HU(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ih,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(HC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=OU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return PU(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ra(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ih,null,r)}navigate(n,r={skipLocationChange:!1}){return function doe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new Q(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...coe}:!1===r?{...loe}:r,Ra(n))return IU(this.currentUrlTree,n,i);const o=this.parseUrl(n);return IU(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return hB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class fB{}let poe=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Ss(n=>n instanceof Oa),Xd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=eE(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return yn(i).pipe(Nu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):ve(null);const o=i.pipe(On(s=>null===s?ve(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?yn([o,this.loader.loadComponent(r)]).pipe(Nu()):o})}}return t.\u0275fac=function(n){return new(n||t)(pe(rt),pe(VL),pe(Ao),pe(fB),pe(WC))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const QC=new ae("");let pB=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof kC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Oa?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof oh&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof BU&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new BU(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function PP(){throw new Error("invalid")}()},t.\u0275prov=ge({token:t,factory:t.\u0275fac}),t})();function Bo(t,e){return{\u0275kind:t,\u0275providers:e}}function mB(){const t=ue(lr);return e=>{const n=t.get(bc);if(e!==n.components[0])return;const r=t.get(rt),i=t.get(_B);1===t.get(YC)&&r.initialNavigation(),t.get(yB,null,Ne.Optional)?.setUpPreloading(),t.get(QC,null,Ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _B=new ae("",{factory:()=>new ki}),YC=new ae("",{providedIn:"root",factory:()=>1}),yB=new ae("");function yoe(t){return Bo(0,[{provide:yB,useExisting:poe},{provide:fB,useExisting:t}])}const vB=new ae("ROUTER_FORROOT_GUARD"),woe=[kE,{provide:eh,useClass:MC},rt,sh,{provide:er,useFactory:function gB(t){return t.routerState.root},deps:[rt]},WC,[]];function Eoe(){return new QL("Router",rt)}let Pa=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[woe,[],{provide:kc,multi:!0,useValue:n},{provide:vB,useFactory:Doe,deps:[[rt,new Ft,new og]]},{provide:zm,useValue:r||{}},r?.useHash?{provide:Es,useClass:I2}:{provide:Es,useClass:b2},{provide:QC,useFactory:()=>{const t=ue(rte),e=ue(tt),n=ue(zm),r=ue(Hm),i=ue(eh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new pB(i,r,t,e,n)}},r?.preloadingStrategy?yoe(r.preloadingStrategy).\u0275providers:[],{provide:QL,multi:!0,useFactory:Eoe},r?.initialNavigation?Toe(r):[],r?.bindToComponentInputs?Bo(8,[WU,{provide:Vm,useExisting:WU}]).\u0275providers:[],[{provide:wB,useFactory:mB},{provide:IE,multi:!0,useExisting:wB}]]}}static forChild(n){return{ngModule:t,providers:[{provide:kc,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(pe(vB,8))},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({}),t})();function Doe(t){return"guarded"}function Toe(t){return["disabled"===t.initialNavigation?Bo(3,[{provide:mE,multi:!0,useFactory:()=>{const e=ue(rt);return()=>{e.setUpLocationChangeListener()}}},{provide:YC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Bo(2,[{provide:YC,useValue:0},{provide:mE,multi:!0,deps:[lr],useFactory:e=>{const n=e.get(LZ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(rt),o=e.get(_B);hB(i,()=>{r(!0)}),e.get(Hm).afterPreactivation=()=>(r(!0),o.closed?ve(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const wB=new ae("");function EB(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(u){EB(o,r,i,s,a,"next",u)}function a(u){EB(o,r,i,s,a,"throw",u)}s(void 0)})}}const ee=function(t,e){if(!t)throw Fc(e)},Fc=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},CB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Gm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==d)throw new xoe;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xoe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bB=function(t){const e=CB(t);return Gm.encodeByteArray(e,!0)},qm=function(t){return bB(t).replace(/\./g,"")},Wm=function(t){try{return Gm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Moe(t){return IB(void 0,t)}function IB(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Noe(n)||(t[n]=IB(t[n],e[n]));return t}function Noe(t){return"__proto__"!==t}const Km=()=>{try{return function Roe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wm(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},DB=t=>{var e,n;return null===(n=null===(e=Km())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},JC=t=>{const e=DB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TB=()=>{var t;return null===(t=Km())||void 0===t?void 0:t.config},SB=t=>{var e;return null===(e=Km())||void 0===e?void 0:e[`_${t}`]};class Lc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function AB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qm(JSON.stringify({alg:"none",type:"JWT"})),qm(JSON.stringify(s)),""].join(".")}function wn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ZC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function eb(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function xB(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ka(){try{return"object"==typeof indexedDB}catch{return!1}}function ph(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){e(n)}})}function tb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,to.prototype.create)}}class to{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Uoe(t,e){return t.replace(Boe,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ai(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Boe=/\{\$([^}]+)}/g;function gh(t){return JSON.parse(t)}function Fn(t){return JSON.stringify(t)}const Qm=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=gh(Wm(o[0])||""),n=gh(Wm(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function $o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function nb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ym(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Xm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(MB(o)&&MB(s)){if(!Xm(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MB(t){return null!==t&&"object"==typeof t}function mh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _h(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function yh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Hoe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),l=1518500249):(c=o^s^a,l=1859775393):d<60?(c=o&s|a&(o|s),l=2400959708):(c=o^s^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class Goe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function qoe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=rb),void 0===i.error&&(i.error=rb),void 0===i.complete&&(i.complete=rb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rb(){}const Zm=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},Koe=1e3,Qoe=2,Yoe=144e5,Xoe=.5;function ib(t,e=Koe,n=Qoe){const r=e*Math.pow(n,t),i=Math.round(Xoe*r*(Math.random()-.5)*2);return Math.min(Yoe,r+i)}function Mt(t){return t&&t._delegate?t._delegate:t}class En{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class Zoe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tse(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Fa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zoe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const ob=[];var Be=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Be||{});const NB={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},rse=Be.INFO,ise={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},ose=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=ise[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class La{constructor(e){this.name=e,this._logLevel=rse,this._logHandler=ose,this._userLogHandler=null,ob.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?NB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const sse=(t,e)=>e.some(n=>t instanceof n);let RB,OB;const PB=new WeakMap,sb=new WeakMap,kB=new WeakMap,ab=new WeakMap,ub=new WeakMap;let cb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return sb.get(t);if("objectStoreNames"===e)return t.objectStoreNames||kB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function fse(t){return"function"==typeof t?function hse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function use(){return OB||(OB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(lb(this),e),xs(PB.get(this))}:function(...e){return xs(t.apply(lb(this),e))}:function(e,...n){const r=t.call(lb(this),e,...n);return kB.set(r,e.sort?e.sort():[e]),xs(r)}}(t):(t instanceof IDBTransaction&&function lse(t){if(sb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});sb.set(t,e)}(t),sse(t,function ase(){return RB||(RB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,cb):t)}function xs(t){if(t instanceof IDBRequest)return function cse(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(xs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&PB.set(n,t)}).catch(()=>{}),ub.set(e,t),e}(t);if(ab.has(t))return ab.get(t);const e=fse(t);return e!==t&&(ab.set(t,e),ub.set(e,t)),e}const lb=t=>ub.get(t),gse=["get","getKey","getAll","getAllKeys","count"],mse=["put","add","delete","clear"],db=new Map;function FB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(db.get(e))return db.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gse.includes(n))return;const o=function(){var s=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return db.set(e,o),o}!function dse(t){cb=t(cb)}(t=>({...t,get:(e,n,r)=>FB(e,n)||t.get(e,n,r),has:(e,n)=>!!FB(e,n)||t.has(e,n)}));class _se{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function yse(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const hb="@firebase/app",Va=new La("@firebase/app"),e_="[DEFAULT]",zse={[hb]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ua=new Map,t_=new Map;function Gse(t,e){try{t.container.addComponent(e)}catch(n){Va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ln(t){const e=t.name;if(t_.has(e))return Va.debug(`There were multiple attempts to register component ${e}.`),!1;t_.set(e,t);for(const n of Ua.values())Gse(n,t);return!0}function Ms(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ho=new to("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ho.create("app-deleted",{appName:this._name})}}const Ns="9.23.0";function VB(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:e_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ho.create("bad-app-name",{appName:String(i)});if(n||(n=TB()),!n)throw Ho.create("no-options");const o=Ua.get(i);if(o){if(Xm(n,o.options)&&Xm(r,o.config))return o;throw Ho.create("duplicate-app",{appName:i})}const s=new nse(i);for(const u of t_.values())s.addComponent(u);const a=new Wse(n,r,s);return Ua.set(i,a),a}function vh(t=e_){const e=Ua.get(t);if(!e&&t===e_&&TB())return VB();if(!e)throw Ho.create("no-app",{appName:t});return e}function UB(){return Array.from(Ua.values())}function at(t,e,n){var r;let i=null!==(r=zse[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Va.warn(a.join(" "))}Ln(new En(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Kse="firebase-heartbeat-database",Qse=1,wh="firebase-heartbeat-store";let pb=null;function BB(){return pb||(pb=function pse(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=xs(s);return r&&s.addEventListener("upgradeneeded",u=>{r(xs(s.result),u.oldVersion,u.newVersion,xs(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Kse,Qse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(wh)}}).catch(t=>{throw Ho.create("idb-open",{originalErrorMessage:t.message})})),pb}function gb(){return(gb=v(function*(t){try{return yield(yield BB()).transaction(wh).objectStore(wh).get($B(t))}catch(e){if(e instanceof ai)Va.warn(e.message);else{const n=Ho.create("idb-get",{originalErrorMessage:e?.message});Va.warn(n.message)}}})).apply(this,arguments)}function jB(t,e){return mb.apply(this,arguments)}function mb(){return(mb=v(function*(t,e){try{const r=(yield BB()).transaction(wh,"readwrite");yield r.objectStore(wh).put(e,$B(t)),yield r.done}catch(n){if(n instanceof ai)Va.warn(n.message);else{const r=Ho.create("idb-set",{originalErrorMessage:n?.message});Va.warn(r.message)}}})).apply(this,arguments)}function $B(t){return`${t.name}!${t.options.appId}`}class Zse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tae(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=HB();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=HB(),{heartbeatsToSend:r,unsentEntries:i}=function eae(t,e=1024){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),zB(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zB(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=qm(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function HB(){return(new Date).toISOString().substring(0,10)}class tae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!ka()&&ph().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Yse(t){return gb.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return jB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return jB(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function zB(t){return qm(JSON.stringify({version:2,heartbeats:t})).length}!function nae(t){Ln(new En("platform-logger",e=>new _se(e),"PRIVATE")),Ln(new En("heartbeat",e=>new Zse(e),"PRIVATE")),at(hb,"0.9.13",t),at(hb,"0.9.13","esm2017"),at("fire-js","")}(""),at("firebase","9.23.0","app");const oae=(t,e)=>e.some(n=>t instanceof n);let GB,qB;const WB=new WeakMap,_b=new WeakMap,KB=new WeakMap,yb=new WeakMap,vb=new WeakMap;let wb={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return _b.get(t);if("objectStoreNames"===e)return t.objectStoreNames||KB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function hae(t){return"function"==typeof t?function dae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function aae(){return qB||(qB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Eb(this),e),Rs(WB.get(this))}:function(...e){return Rs(t.apply(Eb(this),e))}:function(e,...n){const r=t.call(Eb(this),e,...n);return KB.set(r,e.sort?e.sort():[e]),Rs(r)}}(t):(t instanceof IDBTransaction&&function cae(t){if(_b.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_b.set(t,e)}(t),oae(t,function sae(){return GB||(GB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,wb):t)}function Rs(t){if(t instanceof IDBRequest)return function uae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Rs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&WB.set(n,t)}).catch(()=>{}),vb.set(e,t),e}(t);if(yb.has(t))return yb.get(t);const e=hae(t);return e!==t&&(yb.set(t,e),vb.set(e,t)),e}const Eb=t=>vb.get(t),pae=["get","getKey","getAll","getAllKeys","count"],gae=["put","add","delete","clear"],Cb=new Map;function QB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Cb.get(e))return Cb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pae.includes(n))return;const o=function(){var s=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return Cb.set(e,o),o}!function lae(t){wb=t(wb)}(t=>({...t,get:(e,n,r)=>QB(e,n)||t.get(e,n,r),has:(e,n)=>!!QB(e,n)||t.has(e,n)}));const YB="@firebase/installations",bb="0.6.4",XB=1e4,JB=`w:${bb}`,ZB="FIS_v2",mae="https://firebaseinstallations.googleapis.com/v1",_ae=36e5,zo=new to("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ej(t){return t instanceof ai&&t.code.includes("request-failed")}function Ib({projectId:t}){return`${mae}/projects/${t}/installations`}function tj(t){return{token:t.token,requestStatus:2,expiresIn:Eae(t.expiresIn),creationTime:Date.now()}}function Db(t,e){return Tb.apply(this,arguments)}function Tb(){return(Tb=v(function*(t,e){const r=(yield e.json()).error;return zo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function nj({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Sb(t){return Ab.apply(this,arguments)}function Ab(){return(Ab=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Eae(t){return Number(t.replace("s","000"))}function xb(){return(xb=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Ib(t),i=nj(t),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:ZB,appId:t.appId,sdkVersion:JB})},u=yield Sb(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:tj(c.authToken)}}throw yield Db("Create Installation",u)})).apply(this,arguments)}function ij(t){return new Promise(e=>{setTimeout(e,t)})}const Dae=/^[cdef][\w-]{21}$/,Mb="";function Tae(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Sae(t){return function Iae(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Dae.test(n)?n:Mb}catch{return Mb}}function Uc(t){return`${t.appName}!${t.appId}`}const Bc=new Map;function oj(t,e){const n=Uc(t);sj(n,e),function Mae(t,e){const n=function aj(){return!Ba&&"BroadcastChannel"in self&&(Ba=new BroadcastChannel("[Firebase] FID Change"),Ba.onmessage=t=>{sj(t.data.key,t.data.fid)}),Ba}();n&&n.postMessage({key:t,fid:e}),function uj(){0===Bc.size&&Ba&&(Ba.close(),Ba=null)}()}(n,e)}function sj(t,e){const n=Bc.get(t);if(n)for(const r of n)r(e)}let Ba=null;const Nae="firebase-installations-database",Rae=1,ja="firebase-installations-store";let Nb=null;function Rb(){return Nb||(Nb=function fae(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Rs(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Rs(s.result),u.oldVersion,u.newVersion,Rs(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Nae,Rae,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ja)}})),Nb}function n_(t,e){return Ob.apply(this,arguments)}function Ob(){return(Ob=v(function*(t,e){const n=Uc(t),i=(yield Rb()).transaction(ja,"readwrite"),o=i.objectStore(ja),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&oj(t,e.fid),e})).apply(this,arguments)}function Pb(t){return kb.apply(this,arguments)}function kb(){return(kb=v(function*(t){const e=Uc(t),r=(yield Rb()).transaction(ja,"readwrite");yield r.objectStore(ja).delete(e),yield r.done})).apply(this,arguments)}function Eh(t,e){return Fb.apply(this,arguments)}function Fb(){return(Fb=v(function*(t,e){const n=Uc(t),i=(yield Rb()).transaction(ja,"readwrite"),o=i.objectStore(ja),s=yield o.get(n),a=e(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&oj(t,a.fid),a})).apply(this,arguments)}function Lb(t){return Vb.apply(this,arguments)}function Vb(){return Vb=v(function*(t){let e;const n=yield Eh(t.appConfig,r=>{const i=function Oae(t){return lj(t||{fid:Tae(),registrationStatus:0})}(r),o=function Pae(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(zo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function kae(t,e){return Ub.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Fae(t)}:{installationEntry:e}}(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===Mb?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Vb.apply(this,arguments)}function Ub(){return Ub=v(function*(t,e){try{const n=yield function bae(t,e){return xb.apply(this,arguments)}(t,e);return n_(t.appConfig,n)}catch(n){throw ej(n)&&409===n.customData.serverCode?yield Pb(t.appConfig):yield n_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Ub.apply(this,arguments)}function Fae(t){return Bb.apply(this,arguments)}function Bb(){return(Bb=v(function*(t){let e=yield cj(t.appConfig);for(;1===e.registrationStatus;)yield ij(100),e=yield cj(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Lb(t);return r||n}return e})).apply(this,arguments)}function cj(t){return Eh(t,e=>{if(!e)throw zo.create("installation-not-found");return lj(e)})}function lj(t){return function Lae(t){return 1===t.registrationStatus&&t.registrationTime+XB<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function jb(){return(jb=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Uae(t,{fid:e}){return`${Ib(t)}/${e}/authTokens:generate`}(t,n),i=function rj(t,{refreshToken:e}){const n=nj(t);return n.append("Authorization",function Cae(t){return`${ZB} ${t}`}(e)),n}(t,n),o=e.getImmediate({optional:!0});if(o){const c=yield o.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:JB,appId:t.appId}})},u=yield Sb(()=>fetch(r,a));if(u.ok)return tj(yield u.json());throw yield Db("Generate Auth Token",u)})).apply(this,arguments)}function $b(t){return Hb.apply(this,arguments)}function Hb(){return Hb=v(function*(t,e=!1){let n;const r=yield Eh(t.appConfig,o=>{if(!hj(o))throw zo.create("not-registered");const s=o.authToken;if(!e&&function $ae(t){return 2===t.requestStatus&&!function Hae(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_ae}(t)}(s))return o;if(1===s.requestStatus)return n=function Bae(t,e){return zb.apply(this,arguments)}(t,e),o;{if(!navigator.onLine)throw zo.create("app-offline");const a=function zae(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(o);return n=function jae(t,e){return Gb.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),Hb.apply(this,arguments)}function zb(){return(zb=v(function*(t,e){let n=yield dj(t.appConfig);for(;1===n.authToken.requestStatus;)yield ij(100),n=yield dj(t.appConfig);const r=n.authToken;return 0===r.requestStatus?$b(t,e):r})).apply(this,arguments)}function dj(t){return Eh(t,e=>{if(!hj(e))throw zo.create("not-registered");return function Gae(t){return 1===t.requestStatus&&t.requestTime+XB<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Gb(){return Gb=v(function*(t,e){try{const n=yield function Vae(t,e){return jb.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield n_(t.appConfig,r),n}catch(n){if(!ej(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield n_(t.appConfig,r)}else yield Pb(t.appConfig);throw n}}),Gb.apply(this,arguments)}function hj(t){return void 0!==t&&2===t.registrationStatus}function qb(){return(qb=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Lb(e);return r?r.catch(console.error):$b(e).catch(console.error),n.fid})).apply(this,arguments)}function Wb(){return Wb=v(function*(t,e=!1){const n=t;return yield function Kae(t){return Kb.apply(this,arguments)}(n),(yield $b(n,e)).token}),Wb.apply(this,arguments)}function Kb(){return(Kb=v(function*(t){const{registrationPromise:e}=yield Lb(t);e&&(yield e)})).apply(this,arguments)}function Xb(t){return zo.create("missing-app-config-values",{valueName:t})}const fj="installations",Zae=t=>{const e=t.getProvider("app").getImmediate(),n=function Xae(t){if(!t||!t.options)throw Xb("App Configuration");if(!t.name)throw Xb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ms(e,"heartbeat"),_delete:()=>Promise.resolve()}},eue=t=>{const n=Ms(t.getProvider("app").getImmediate(),fj).getImmediate();return{getId:()=>function qae(t){return qb.apply(this,arguments)}(n),getToken:i=>function Wae(t){return Wb.apply(this,arguments)}(n,i)}};(function tue(){Ln(new En(fj,Zae,"PUBLIC")),Ln(new En("installations-internal",eue,"PRIVATE"))})(),at(YB,bb),at(YB,bb,"esm2017");const Jb="@firebase/remote-config",Nr=new to("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hue{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield n.client.fetch(e),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function fue(t=navigator){return t.languages&&t.languages[0]||t.language}class pue{constructor(e,n,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:fue()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(s,c),d=new Promise((N,T)=>{e.signal.addEventListener(()=>{const $=new Error("The operation was aborted.");$.name="AbortError",T($)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(N){let T="fetch-client-network";throw"AbortError"===N?.name&&(T="fetch-timeout"),Nr.create(T,{originalErrorMessage:N?.message})}let p=h.status;const y=h.headers.get("ETag")||void 0;let E,D;if(200===h.status){let N;try{N=yield h.json()}catch(T){throw Nr.create("fetch-client-parse",{originalErrorMessage:T?.message})}E=N.entries,D=N.state}if("INSTANCE_STATE_UNSPECIFIED"===D?p=500:"NO_CHANGE"===D?p=304:("NO_TEMPLATE"===D||"EMPTY_CONFIG"===D)&&(E={}),304!==p&&200!==p)throw Nr.create("fetch-status",{httpStatus:p});return{status:p,eTag:y,config:E}})()}}class _ue{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return v(function*(){yield function gue(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Nr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function mue(t){if(!(t instanceof ai&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+ib(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class wue{constructor(e,n,r,i,o){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function i_(t,e){const n=t.target.error||void 0;return Nr.create(e,{originalErrorMessage:n&&n?.message})}const $a="app_namespace_store";class Iue{constructor(e,n,r,i=function bue(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(i_(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($a,{keyPath:"compositeKey"})}}catch(n){e(Nr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([$a],"readonly").objectStore($a),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{o(i_(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){o(Nr.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const u=i.transaction([$a],"readwrite").objectStore($a),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{s(i_(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(Nr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([$a],"readwrite").objectStore($a),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{o(i_(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){o(Nr.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Due{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield n;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Sue(){return rI.apply(this,arguments)}function rI(){return(rI=v(function*(){if(!ka())return!1;try{return yield ph()}catch{return!1}})).apply(this,arguments)}!function Tue(){Ln(new En("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nr.create("registration-window");if(!ka())throw Nr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Nr.create("registration-project-id");if(!s)throw Nr.create("registration-api-key");if(!a)throw Nr.create("registration-app-id");const u=new Iue(a,r.name,n=n||"firebase"),c=new Due(u),l=new La(Jb);l.logLevel=Be.ERROR;const d=new pue(i,Ns,n,o,s,a),h=new _ue(d,u),p=new hue(h,u,c,l),y=new wue(r,p,c,u,l);return function cue(t){const e=Mt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),at(Jb,"0.4.4"),at(Jb,"0.4.4","esm2017")}();const Aue=(t,e)=>e.some(n=>t instanceof n);let _j,yj;const vj=new WeakMap,iI=new WeakMap,wj=new WeakMap,oI=new WeakMap,sI=new WeakMap;let aI={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return iI.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wj.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Go(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function kue(t){return"function"==typeof t?function Pue(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mue(){return yj||(yj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(uI(this),e),Go(vj.get(this))}:function(...e){return Go(t.apply(uI(this),e))}:function(e,...n){const r=t.call(uI(this),e,...n);return wj.set(r,e.sort?e.sort():[e]),Go(r)}}(t):(t instanceof IDBTransaction&&function Rue(t){if(iI.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});iI.set(t,e)}(t),Aue(t,function xue(){return _j||(_j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,aI):t)}function Go(t){if(t instanceof IDBRequest)return function Nue(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Go(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&vj.set(n,t)}).catch(()=>{}),sI.set(e,t),e}(t);if(oI.has(t))return oI.get(t);const e=kue(t);return e!==t&&(oI.set(t,e),sI.set(e,t)),e}const uI=t=>sI.get(t);function Ej(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Go(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Go(s.result),u.oldVersion,u.newVersion,Go(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function cI(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Go(n).then(()=>{})}const Fue=["get","getKey","getAll","getAllKeys","count"],Lue=["put","add","delete","clear"],lI=new Map;function Cj(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(lI.get(e))return lI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Lue.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Fue.includes(n))return;const o=function(){var s=v(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return lI.set(e,o),o}!function Oue(t){aI=t(aI)}(t=>({...t,get:(e,n,r)=>Cj(e,n)||t.get(e,n,r),has:(e,n)=>!!Cj(e,n)||t.has(e,n)}));const Vue="/firebase-messaging-sw.js",Uue="/firebase-cloud-messaging-push-scope",bj="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bue="https://fcmregistrations.googleapis.com/v1",Ij="google.c.a.c_id",jue="google.c.a.c_l",$ue="google.c.a.ts";var o_=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(o_||{});function qo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gue(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const dI="fcm_token_details_db",que=5,Dj="fcm_token_object_Store";function hI(){return hI=v(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(dI))return null;let e=null;return(yield Ej(dI,que,{upgrade:(r=v(function*(i,o,s,a){var u;if(o<2||!i.objectStoreNames.contains(Dj))return;const c=a.objectStore(Dj),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:qo(d.vapidKey)}}}else if(3===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qo(d.auth),p256dh:qo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qo(d.vapidKey)}}}else if(4===o){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:qo(d.auth),p256dh:qo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:qo(d.vapidKey)}}}}),function(o,s,a,u){return r.apply(this,arguments)})})).close(),yield cI(dI),yield cI("fcm_vapid_details_db"),yield cI("undefined"),function Kue(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),hI.apply(this,arguments)}const Que="firebase-messaging-database",Yue=1,Ha="firebase-messaging-store";let fI=null;function pI(){return fI||(fI=Ej(Que,Yue,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ha)}})),fI}function Tj(t){return gI.apply(this,arguments)}function gI(){return gI=v(function*(t){const e=vI(t),r=yield(yield pI()).transaction(Ha).objectStore(Ha).get(e);if(r)return r;{const i=yield function Wue(t){return hI.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield mI(t,i),i}}),gI.apply(this,arguments)}function mI(t,e){return _I.apply(this,arguments)}function _I(){return(_I=v(function*(t,e){const n=vI(t),i=(yield pI()).transaction(Ha,"readwrite");return yield i.objectStore(Ha).put(e,n),yield i.done,e})).apply(this,arguments)}function yI(){return(yI=v(function*(t){const e=vI(t),r=(yield pI()).transaction(Ha,"readwrite");yield r.objectStore(Ha).delete(e),yield r.done})).apply(this,arguments)}function vI({appConfig:t}){return t.appId}const Vn=new to("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zue(t,e){return wI.apply(this,arguments)}function wI(){return(wI=v(function*(t,e){const n=yield II(t),r=Aj(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(bI(t.appConfig),i)).json()}catch(s){throw Vn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Vn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Vn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function EI(){return(EI=v(function*(t,e){const n=yield II(t),r=Aj(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${bI(t.appConfig)}/${e.token}`,i)).json()}catch(s){throw Vn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Vn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Vn.create("token-update-no-token");return o.token})).apply(this,arguments)}function Sj(t,e){return CI.apply(this,arguments)}function CI(){return(CI=v(function*(t,e){const r={method:"DELETE",headers:yield II(t)};try{const o=yield(yield fetch(`${bI(t.appConfig)}/${e}`,r)).json();if(o.error)throw Vn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Vn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function bI({projectId:t}){return`${Bue}/projects/${t}/registrations`}function II(t){return DI.apply(this,arguments)}function DI(){return(DI=v(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function Aj({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==bj&&(i.web.applicationPubKey=r),i}const tce=6048e5;function TI(){return TI=v(function*(t){const e=yield function ice(t,e){return MI.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:qo(e.getKey("auth")),p256dh:qo(e.getKey("p256dh"))},r=yield Tj(t.firebaseDependencies);if(r){if(function oce(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+tce?function rce(t,e){return AI.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Sj(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Mj(t.firebaseDependencies,n)}return Mj(t.firebaseDependencies,n)}),TI.apply(this,arguments)}function SI(){return SI=v(function*(t){const e=yield Tj(t.firebaseDependencies);e&&(yield Sj(t.firebaseDependencies,e.token),yield function Xue(t){return yI.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),SI.apply(this,arguments)}function AI(){return AI=v(function*(t,e){try{const n=yield function ece(t,e){return EI.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield mI(t.firebaseDependencies,r),n}catch(n){throw yield function xj(t){return SI.apply(this,arguments)}(t),n}}),AI.apply(this,arguments)}function Mj(t,e){return xI.apply(this,arguments)}function xI(){return(xI=v(function*(t,e){const r={token:yield Zue(t,e),createTime:Date.now(),subscriptionOptions:e};return yield mI(t,r),r.token})).apply(this,arguments)}function MI(){return(MI=v(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gue(e)})})).apply(this,arguments)}function Nj(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function sce(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const o=e.notification.icon;o&&(t.notification.icon=o)}(e,t),function ace(t,e){e.data&&(t.data=e.data)}(e,t),function uce(t,e){var n,r,i,o,s;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(t.fcmOptions.link=a);const u=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function Rj(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function NI(t){return Vn.create("missing-app-config-values",{valueName:t})}Rj("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rj("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dce{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function lce(t){if(!t||!t.options)throw NI("App Configuration Object");if(!t.name)throw NI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw NI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function RI(){return(RI=v(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Vue,{scope:Uue}),t.swRegistration.update().catch(()=>{})}catch(e){throw Vn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function OI(){return(OI=v(function*(t,e){if(!e&&!t.swRegistration&&(yield function Oj(t){return RI.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Vn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function PI(){return(PI=v(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=bj)})).apply(this,arguments)}function kI(){return kI=v(function*(t,e){if(!navigator)throw Vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Vn.create("permission-blocked");return yield function fce(t,e){return PI.apply(this,arguments)}(t,e?.vapidKey),yield function hce(t,e){return OI.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function nce(t){return TI.apply(this,arguments)}(t)}),kI.apply(this,arguments)}function FI(){return(FI=v(function*(t,e,n){const r=function gce(t){switch(t){case o_.NOTIFICATION_CLICKED:return"notification_open";case o_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Ij],message_name:n[jue],message_time:n[$ue],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function LI(){return LI=v(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===o_.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Nj(n)):t.onMessageHandler.next(Nj(n)));const r=n.data;(function cce(t){return"object"==typeof t&&!!t&&Ij in t})(r)&&"1"===r["google.c.a.e"]&&(yield function pce(t,e,n){return FI.apply(this,arguments)}(t,n.messageType,r))}),LI.apply(this,arguments)}const kj="@firebase/messaging",_ce=t=>{const e=new dce(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function mce(t,e){return LI.apply(this,arguments)}(e,n)),e},yce=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function Pj(t,e){return kI.apply(this,arguments)}(e,r)}};function Lj(){return VI.apply(this,arguments)}function VI(){return(VI=v(function*(){try{yield ph()}catch{return!1}return typeof window<"u"&&ka()&&tb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vce(){Ln(new En("messaging",_ce,"PUBLIC")),Ln(new En("messaging-internal",yce,"PRIVATE")),at(kj,"0.12.4"),at(kj,"0.12.4","esm2017")}();const s_="analytics",Cce="firebase_id",bce="origin",Ice=6e4,Dce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jI="https://www.googletagmanager.com/gtag/js",Cn=new La("@firebase/analytics"),gr=new to("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Sce(t){if(!t.startsWith(jI)){const e=gr.create("invalid-gtag-resource",{gtagURL:t});return Cn.warn(e.message),""}return t}function Vj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $I(){return($I=v(function*(t,e,n,r,i,o){const s=r[i];try{if(s)yield e[s];else{const u=(yield Vj(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Cn.error(a)}t("config",i,o)})).apply(this,arguments)}function HI(){return(HI=v(function*(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield Vj(n);for(const u of s){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),t("event",r,i||{})}catch(o){Cn.error(o)}})).apply(this,arguments)}const Fce=30,Uj=new class Vce{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Uce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function zI(){return(zI=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Uce(r)},o=Dce.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const u=yield s.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw gr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function GI(){return(GI=v(function*(t,e=Uj,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw gr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw gr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new zce;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:Ice),Bj({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function Bj(t,e,n){return qI.apply(this,arguments)}function qI(){return qI=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Uj){var o;const{appId:s,measurementId:a}=t;try{yield function $ce(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(gr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw u}try{const u=yield function Bce(t){return zI.apply(this,arguments)}(t);return i.deleteThrottleMetadata(s),u}catch(u){const c=u;if(!function Hce(t){if(!(t instanceof ai&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(s),a)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw u}const l=503===Number(null===(o=c?.customData)||void 0===o?void 0:o.httpStatus)?ib(n,i.intervalMillis,Fce):ib(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),Cn.debug(`Calling attemptFetch again in ${l} millis`),Bj(t,d,r,i)}}),qI.apply(this,arguments)}class zce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let WI,eD;function KI(){return(KI=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const o=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function tD(){return(tD=v(function*(){if(!ka())return Cn.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield ph()}catch(t){return Cn.warn(gr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function nD(){return nD=v(function*(t,e,n,r,i,o,s){var a;const u=function jce(t){return GI.apply(this,arguments)}(t);u.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Cn.error(p)),e.push(u);const c=function Xce(){return tD.apply(this,arguments)}().then(p=>{if(p)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function kce(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(jI)&&n.src.includes(t))return n;return null})(o)||function xce(t,e){const n=function Ace(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Sce}),r=document.createElement("script"),i=`${jI}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),eD&&(i("consent","default",eD),function jj(t){eD=t}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[bce]="firebase",h.update=!0,null!=d&&(h[Cce]=d),i("config",l.measurementId,h),WI&&(i("set",WI),function $j(t){WI=t}(void 0)),l.measurementId}),nD.apply(this,arguments)}class Zce{constructor(e){this.app=e}_delete(){return delete no[this.app.options.appId],Promise.resolve()}}let no={},Hj=[];const zj={};let qj,ro,a_="dataLayer",rD=!1;function tle(t,e,n){!function ele(){const t=[];if(eb()&&t.push("This is a browser extension environment."),tb()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=gr.create("invalid-analytics-context",{errorInfo:e});Cn.warn(n.message)}}();const r=t.options.appId;if(!r)throw gr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw gr.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=no[r])throw gr.create("already-exists",{id:r});if(!rD){!function Mce(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(a_);const{wrappedGtag:o,gtagCore:s}=function Pce(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Oce(t,e,n,r){function o(){return o=v(function*(s,...a){try{if("event"===s){const[u,c]=a;yield function Rce(t,e,n,r,i){return HI.apply(this,arguments)}(t,e,n,u,c)}else if("config"===s){const[u,c]=a;yield function Nce(t,e,n,r,i,o){return $I.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===s){const[u]=a;t("consent","update",u)}else if("get"===s){const[u,c,l]=a;t("get",u,c,l)}else if("set"===s){const[u]=a;t("set",u)}else t(s,...a)}catch(u){Cn.error(u)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(no,Hj,zj,a_,"gtag");ro=o,qj=s,rD=!0}return no[r]=function Jce(t,e,n,r,i,o,s){return nD.apply(this,arguments)}(t,Hj,zj,e,qj,a_,n),new Zce(t)}function rle(){return iD.apply(this,arguments)}function iD(){return(iD=v(function*(){if(eb()||!tb()||!ka())return!1;try{return yield ph()}catch{return!1}})).apply(this,arguments)}const Wj="@firebase/analytics";!function ole(){Ln(new En(s_,(e,{options:n})=>tle(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ln(new En("analytics-internal",function t(e){try{const n=e.getProvider(s_).getImmediate();return{logEvent:(r,i,o)=>function ile(t,e,n,r){t=Mt(t),function Gce(t,e,n,r,i){return KI.apply(this,arguments)}(ro,no[t.app.options.appId],e,n,r).catch(i=>Cn.error(i))}(n,r,i,o)}}catch(n){throw gr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),at(Wj,"0.10.0"),at(Wj,"0.10.0","esm2017")}();class sle extends B{constructor(e,n){super()}schedule(e,n=0){return this}}const u_={setInterval(t,e,...n){const{delegate:r}=u_;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=u_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class Qj extends sle{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return u_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&u_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,O(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const Yj={now:()=>(Yj.delegate||Date).now(),delegate:void 0};class Ch{constructor(e,n=Ch.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ch.now=Yj.now;class Xj extends Ch{constructor(e,n=Ch.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const cle=new class ule extends Xj{}(class ale extends Qj{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),lle=new Xj(Qj),jc=new ic("7.6.1"),sD="__angularfire_symbol__analyticsIsSupportedValue",aD="__angularfire_symbol__analyticsIsSupported",uD="__angularfire_symbol__remoteConfigIsSupportedValue",cD="__angularfire_symbol__remoteConfigIsSupported",lD="__angularfire_symbol__messagingIsSupportedValue",dD="__angularfire_symbol__messagingIsSupported";function bh(t,e,n){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[aD]||(globalThis[aD]=rle().then(t=>globalThis[sD]=t).catch(()=>globalThis[sD]=!1)),globalThis[dD]||(globalThis[dD]=Lj().then(t=>globalThis[lD]=t).catch(()=>globalThis[lD]=!1)),globalThis[cD]||(globalThis[cD]=Sue().then(t=>globalThis[uD]=t).catch(()=>globalThis[uD]=!1));const Ih=(t,e)=>{const n=e?[e]:UB(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function $c(){}class Jj{constructor(e,n=cle){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},n,r)}}class dle{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$c,{},$c,$c)),n.pipe(Zn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dh=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Jj(Zone.current)),this.insideAngular=n.run(()=>new Jj(Zone.current,lle)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(pe(tt))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function za(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ga(t){return za().ngZone.run(()=>t())}function fle(t){return za(),function ple(t){return function(n){return(n=n.lift(new dle(t.ngZone))).pipe(Ap(t.outsideAngular),Sp(t.insideAngular))}}(za())(t)}const gle=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ga(()=>t.apply(void 0,r))},bn=(t,e)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(n||(n=Ga(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$c,{},$c,$c)))),r[o]=gle(r[o],n));const i=function hle(t){return za().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof At){const o=za();return i.pipe(Ap(o.outsideAngular),Sp(o.insideAngular))}return Ga(()=>i)}return i instanceof At?i.pipe(fle):i instanceof Promise?Ga(()=>new Promise((o,s)=>i.then(a=>Ga(()=>o(a)),a=>Ga(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ga(()=>i)};class Os{constructor(e){return e}}class Th{constructor(){return UB()}}const fD=new ae("angularfire2._apps"),_le={provide:Os,useFactory:function mle(t){return t&&1===t.length?t[0]:new Os(vh())},deps:[[new Ft,fD]]},yle={provide:Th,deps:[[new Ft,fD]]};function vle(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Os(r)}}let wle=(()=>{class t{constructor(n){at("angularfire",jc.full,"core"),at("angularfire",jc.full,"app"),at("angular",mP.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(pe(_s))},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({providers:[_le,yle]}),t})();function Ele(t,...e){return{ngModule:wle,providers:[{provide:fD,useFactory:vle(t),multi:!0,deps:[tt,lr,Dh,...e]}]}}const Cle=bn(VB,!0),pD=new Map,Zj={activated:!1,tokenObservers:[]},ble={initialized:!1,enabled:!1};function $t(t){return pD.get(t)||Object.assign({},Zj)}function c_(){return ble}const gD="https://content-firebaseappcheck.googleapis.com/v1",Sle="exchangeDebugToken",e$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xle{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new Lc,yield function Mle(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Lc,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Un=new to("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mD(t){if(!$t(t).activated)throw Un.create("use-before-activation",{appName:t.name})}function h_(t,e){return yD.apply(this,arguments)}function yD(){return(yD=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(t,o)}catch(d){throw Un.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Un.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Un.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Un.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function t$(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${gD}/projects/${n}/apps/${r}:${Sle}?key=${i}`,body:{debug_token:e}}}const Ple="firebase-app-check-database",kle=1,Sh="firebase-app-check-store";let f_=null;function vD(){return(vD=v(function*(t,e){const r=(yield function r$(){return f_||(f_=new Promise((t,e)=>{try{const n=indexedDB.open(Ple,kle);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Un.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Sh,{keyPath:"compositeKey"})}}catch(n){e(Un.create("storage-open",{originalErrorMessage:n?.message}))}}),f_)}()).transaction(Sh,"readwrite"),o=r.objectStore(Sh).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var c;a(Un.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Ah=new La("@firebase/app-check");function CD(t,e){return ka()?function Lle(t,e){return function i$(t,e){return vD.apply(this,arguments)}(function s$(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ah.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ID(){return c_().enabled}function DD(){return TD.apply(this,arguments)}function TD(){return(TD=v(function*(){const t=c_();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Hle={error:"UNKNOWN_ERROR"};function zle(t){return Gm.encodeString(JSON.stringify(t),!1)}function p_(t){return SD.apply(this,arguments)}function SD(){return(SD=v(function*(t,e=!1){const n=t.app;mD(n);const r=$t(n);let o,i=r.token;if(i&&!Hc(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Hc(u)?i=u:yield CD(n,void 0))}if(!e&&i&&Hc(i))return{token:i.token};let a,s=!1;if(ID()){r.exchangeTokenPromise||(r.exchangeTokenPromise=h_(t$(n,yield DD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const u=yield r.exchangeTokenPromise;return yield CD(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield $t(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Ah.warn(u.message):Ah.error(u),o=u}return i?o?a=Hc(i)?{token:i.token,internalError:o}:l$(o):(a={token:i.token},r.token=i,yield CD(n,i)):a=l$(o),s&&function c$(t,e){const n=$t(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function a$(t){return AD.apply(this,arguments)}function AD(){return(AD=v(function*(t){const e=t.app;mD(e);const{provider:n}=$t(e);if(ID()){const r=yield DD(),{token:i}=yield h_(t$(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function MD(t,e){const n=$t(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function u$(t){const{app:e}=t,n=$t(e);let r=n.tokenRefresher;r||(r=function Gle(t){const{app:e}=t;return new xle(v(function*(){let r;if(r=$t(e).token?yield p_(t,!0):yield p_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$t(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},e$.RETRIAL_MIN_WAIT,e$.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Hc(t){return t.expireTimeMillis-Date.now()>0}function l$(t){return{token:zle(Hle),error:t}}class qle{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=$t(this.app);for(const n of e)MD(this.app,n.next);return Promise.resolve()}}const y$="app-check-internal";!function sde(){Ln(new En("app-check",t=>function Wle(t,e){return new qle(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(y$).initialize()})),Ln(new En(y$,t=>function Kle(t){return{getToken:e=>p_(t,e),getLimitedUseToken:()=>a$(t),addTokenListener:e=>function xD(t,e,n,r){const{app:i}=t,o=$t(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:e}],o.token&&Hc(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),u$(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>u$(t))}(t,"INTERNAL",e),removeTokenListener:e=>MD(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),at("@firebase/app-check","0.8.0")}();class xh{constructor(){return Ih("app-check")}}typeof window<"u"&&window;const dde=function w$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},E$=new to("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),m_=new La("@firebase/auth");function __(t,...e){m_.logLevel<=Be.ERROR&&m_.error(`Auth (${Ns}): ${t}`,...e)}function Rr(t,...e){throw kD(t,...e)}function io(t,...e){return kD(t,...e)}function kD(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return E$.create(t,...e)}function X(t,e,...n){if(!t)throw kD(e,...n)}function oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw __(e),new Error(e)}function Ps(t,e){t||oo(e)}function Mh(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function b$(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Nh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ps(n>e,"Short delay should be less than long delay!"),this.isMobile=ZC()||xB()}get(){return function fde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function FD(){return"http:"===b$()||"https:"===b$()}()||eb()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LD(t,e){Ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class I${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mde=new Nh(3e4,6e4);function Vt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ht(t,e,n,r){return VD.apply(this,arguments)}function VD(){return(VD=v(function*(t,e,n,r,i={}){return D$(t,i,v(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=mh(Object.assign({key:t.config.apiKey},s)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),I$.fetch()(T$(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function D$(t,e,n){return UD.apply(this,arguments)}function UD(){return(UD=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gde),e);try{const i=new _de(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Rh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Rh(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Rh(t,"email-already-in-use",s);if("USER_DISABLED"===u)throw Rh(t,"user-disabled",s);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function C$(t,e,n){const r=Object.assign(Object.assign({},dde()),{[e]:n});return new to("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Rr(t,l)}}catch(i){if(i instanceof ai)throw i;Rr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Wo(t,e,n,r){return BD.apply(this,arguments)}function BD(){return(BD=v(function*(t,e,n,r,i={}){const o=yield Ht(t,e,n,r,i);return"mfaPendingCredential"in o&&Rr(t,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function T$(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?LD(t.config,i):`${t.config.apiScheme}://${i}`}class _de{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(io(this.auth,"network-request-failed")),mde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=io(t,e,r);return i.customData._tokenResponse=n,i}function jD(){return(jD=v(function*(t,e){return Ht(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function HD(){return(HD=v(function*(t,e){return Ht(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Oh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zD(){return(zD=v(function*(t,e=!1){const n=Mt(t),r=yield n.getIdToken(e),i=y_(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Oh(GD(i.auth_time)),issuedAtTime:Oh(GD(i.iat)),expirationTime:Oh(GD(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function GD(t){return 1e3*Number(t)}function y_(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return __("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wm(n);return i?JSON.parse(i):(__("Failed to decode base64 JWT payload"),null)}catch(i){return __("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ko(t,e){return qD.apply(this,arguments)}function qD(){return(qD=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof ai&&function bde({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Ide{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class S${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oh(this.lastLoginAt),this.creationTime=Oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ph(t){return WD.apply(this,arguments)}function WD(){return WD=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ko(t,function wde(t,e){return HD.apply(this,arguments)}(n,{idToken:r}));X(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Sde(t){return t.map(e=>{var{providerId:n}=e,r=zv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Tde(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new S$(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),WD.apply(this,arguments)}function KD(){return(KD=v(function*(t){const e=Mt(t);yield Ph(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function QD(){return(QD=v(function*(t,e){const n=yield D$(t,{},v(function*(){const r=mh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=T$(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",I$.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class kh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Cde(t){const e=y_(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return X(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Ade(t,e){return QD.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new kh;return r&&(X("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(X("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(X("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kh,this.toJSON())}_performRefresh(){return oo("not implemented")}}function ks(t,e){X("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class qa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=zv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ide(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new S$(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield Ko(n,n.stsTokenManager.getToken(n.auth,e));return X(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Ede(t){return zD.apply(this,arguments)}(this,e)}reload(){return function Dde(t){return KD.apply(this,arguments)}(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ph(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield Ko(e,function yde(t,e){return jD.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,p=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=n.photoURL)&&void 0!==s?s:void 0,E=null!==(a=n.tenantId)&&void 0!==a?a:void 0,D=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,N=null!==(c=n.createdAt)&&void 0!==c?c:void 0,T=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:$,emailVerified:Y,isAnonymous:ie,providerData:me,stsTokenManager:Et}=n;X($&&Et,e,"internal-error");const un=kh.fromJSON(this.name,Et);X("string"==typeof $,e,"internal-error"),ks(d,e.name),ks(h,e.name),X("boolean"==typeof Y,e,"internal-error"),X("boolean"==typeof ie,e,"internal-error"),ks(p,e.name),ks(y,e.name),ks(E,e.name),ks(D,e.name),ks(N,e.name),ks(T,e.name);const hi=new qa({uid:$,auth:e,email:h,emailVerified:Y,displayName:d,isAnonymous:ie,photoURL:y,phoneNumber:p,tenantId:E,stsTokenManager:un,createdAt:N,lastLoginAt:T});return me&&Array.isArray(me)&&(hi.providerData=me.map(wo=>Object.assign({},wo))),D&&(hi._redirectEventId=D),hi}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new kh;i.updateFromServerResponse(n);const o=new qa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ph(o),o})()}}const A$=new Map;function Qo(t){Ps(t instanceof Function,"Expected a class definition");let e=A$.get(t);return e?(Ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A$.set(t,e),e)}const x$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function v_(t,e,n){return`firebase:${t}:${e}:${n}`}class Gc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=v_(this.userKey,i.apiKey,o),this.fullPersistenceKey=v_("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?qa._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new Gc(Qo(x$),e,r);const i=(yield Promise.all(n.map(function(){var c=v(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||Qo(x$);const s=v_(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(s);if(l){const d=qa._fromJSON(e,l);c!==o&&(a=d),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var c=v(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Gc(o,e,r)):new Gc(o,e,r)})()}}function M$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k$(e))return"Blackberry";if(F$(e))return"Webos";if(YD(e))return"Safari";if((e.includes("chrome/")||R$(e))&&!e.includes("edge/"))return"Chrome";if(P$(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function N$(t=wn()){return/firefox\//i.test(t)}function YD(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R$(t=wn()){return/crios\//i.test(t)}function O$(t=wn()){return/iemobile/i.test(t)}function P$(t=wn()){return/android/i.test(t)}function k$(t=wn()){return/blackberry/i.test(t)}function F$(t=wn()){return/webos/i.test(t)}function w_(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function L$(t=wn()){return w_(t)||P$(t)||F$(t)||k$(t)||/windows phone/i.test(t)||O$(t)}function V$(t,e=[]){let n;switch(t){case"Browser":n=M$(wn());break;case"Worker":n=`${M$(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ns}/${r}`}function U$(t,e){return JD.apply(this,arguments)}function JD(){return(JD=v(function*(t,e){return Ht(t,"GET","/v2/recaptchaConfig",Vt(t,e))})).apply(this,arguments)}function j$(t){return void 0!==t&&void 0!==t.enterprise}class $${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function ZD(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=io("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function Ode(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function H$(t){return`__${t}${Math.floor(1e6*Math.random())}`}class z${constructor(e){this.type="recaptcha-enterprise",this.auth=In(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function o(){return o=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=v(function*(c,l){U$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new $$(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,u,c){const l=window.grecaptcha;j$(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(c=>{if(!n&&j$(window.grecaptcha))s(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));ZD("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function Fs(t,e,n){return eT.apply(this,arguments)}function eT(){return(eT=v(function*(t,e,n,r=!1){const i=new z$(t);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class Lde{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Vde{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G$(this),this.idTokenSubscription=new G$(this),this.beforeStateQueue=new Lde(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Qo(n)),this._initializationPromise=this.queue(v(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Gc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return X(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield Ph(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function pde(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?Mt(e):null;return r&&X(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&X(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(Qo(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const n=yield U$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $$(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new z$(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new to("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&Qo(e)||n._popupRedirectResolver;X(r,n,"argument-error"),n.redirectPersistenceManager=yield Gc.create(n,[Qo(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return X(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function hde(t,...e){m_.logLevel<=Be.WARN&&m_.warn(`Auth (${Ns}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function In(t){return Mt(t)}class G${constructor(e){this.auth=e,this.observer=null,this.addObserver=function zoe(t,e){const n=new Goe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function q$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W$(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class K${constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oo("not implemented")}_getIdTokenResponse(e){return oo("not implemented")}_linkToIdToken(e,n){return oo("not implemented")}_getReauthenticationResolver(e){return oo("not implemented")}}function Y$(t,e){return nT.apply(this,arguments)}function nT(){return(nT=v(function*(t,e){return Ht(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function iT(t,e){return oT.apply(this,arguments)}function oT(){return(oT=v(function*(t,e){return Wo(t,"POST","/v1/accounts:signInWithPassword",Vt(t,e))})).apply(this,arguments)}function fT(){return(fT=v(function*(t,e){return Wo(t,"POST","/v1/accounts:signInWithEmailLink",Vt(t,e))})).apply(this,arguments)}function pT(){return(pT=v(function*(t,e){return Wo(t,"POST","/v1/accounts:signInWithEmailLink",Vt(t,e))})).apply(this,arguments)}class Fh extends K${constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Fs(e,i,"signInWithPassword");return iT(e,o)}return iT(e,i).catch(function(){var o=v(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Fs(e,i,"signInWithPassword");return iT(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function Wde(t,e){return fT.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Rr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return Y$(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Kde(t,e){return pT.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Rr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Yo(t,e){return gT.apply(this,arguments)}function gT(){return(gT=v(function*(t,e){return Wo(t,"POST","/v1/accounts:signInWithIdp",Vt(t,e))})).apply(this,arguments)}class Uh{constructor(e){var n,r,i,o,s,a;const u=_h(yh(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function the(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);X(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=u.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function nhe(t){const e=_h(yh(t)).link,n=e?_h(yh(e)).deep_link_id:null,r=_h(yh(t)).deep_link_id;return(r?_h(yh(r)).link:null)||r||n||e||t}(e);try{return new Uh(n)}catch{return null}}}let X$=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Fh._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Uh.parseLink(r);return X(i,"argument-error"),Fh._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class Ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rhe extends Ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function b_(t,e){return ET.apply(this,arguments)}function ET(){return(ET=v(function*(t,e){return Wo(t,"POST","/v1/accounts:signUp",Vt(t,e))})).apply(this,arguments)}class ui{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const o=yield qa._fromIdTokenResponse(e,r,i),s=J$(r);return new ui({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=J$(r);return new ui({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function J$(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class I_ extends ai{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,I_.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new I_(e,n,r,i)}}function Z$(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?I_._fromErrorAndOperation(t,o,e,r):o})}function DT(){return(DT=v(function*(t,e,n=!1){const r=yield Ko(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ui._forOperation(t,"link",r)})).apply(this,arguments)}function ST(){return(ST=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=yield Ko(t,Z$(r,i,e,t),n);X(o.idToken,r,"internal-error");const s=y_(o.idToken);X(s,r,"internal-error");const{sub:a}=s;return X(t.uid===a,r,"user-mismatch"),ui._forOperation(t,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Rr(r,"user-mismatch"),o}})).apply(this,arguments)}function n3(t,e){return AT.apply(this,arguments)}function AT(){return(AT=v(function*(t,e,n=!1){const r="signIn",i=yield Z$(t,r,e),o=yield ui._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})).apply(this,arguments)}function MT(){return(MT=v(function*(t,e){return n3(In(t),e)})).apply(this,arguments)}function lhe(t,e,n){return HT.apply(this,arguments)}function HT(){return HT=v(function*(t,e,n){var r;const i=In(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield Fs(i,o,"signUpPassword");s=b_(i,c)}else s=b_(i,o).catch(function(){var c=v(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Fs(i,o,"signUpPassword");return b_(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield s.catch(c=>Promise.reject(c)),u=yield ui._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),HT.apply(this,arguments)}function dhe(t,e,n){return function xT(t,e){return MT.apply(this,arguments)}(Mt(t),X$.credential(e,n))}function Ehe(t,e,n,r){return Mt(t).onAuthStateChanged(e,n,r)}function Che(t){return Mt(t).signOut()}const T_="__sak";class i3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(T_,"1"),this.storage.removeItem(T_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mhe=(()=>{class t extends i3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function She(){const t=wn();return YD(t)||w_(t)}()&&function Nde(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=L$(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Mde(){return function Loe(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return v(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),o3=(()=>{class t extends i3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Rhe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,u=r.handlersMap[s];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(u).map(function(){var d=v(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Nhe(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function iS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Ohe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((u,c)=>{const l=iS("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const p=h;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(p.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function on(){return window}function oS(){return typeof on().WorkerGlobalScope<"u"&&"function"==typeof on().importScripts}function sS(){return(sS=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const s3="firebaseLocalStorageDb",S_="firebaseLocalStorage",a3="fbase_key";class jh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function A_(t,e){return t.transaction([S_],e?"readwrite":"readonly").objectStore(S_)}function aS(){const t=indexedDB.open(s3,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(S_,{keyPath:a3})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(S_)?e(r):(r.close(),yield function Uhe(){const t=indexedDB.deleteDatabase(s3);return new jh(t).toPromise()}(),e(yield aS()))}))})}function u3(t,e,n){return uS.apply(this,arguments)}function uS(){return(uS=v(function*(t,e,n){const r=A_(t,!0).put({[a3]:e,value:n});return new jh(r).toPromise()})).apply(this,arguments)}function cS(){return(cS=v(function*(t,e){const n=A_(t,!1).get(e),r=yield new jh(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function c3(t,e){const n=A_(t,!0).delete(e);return new jh(n).toPromise()}const Hhe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield aS()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return oS()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=Rhe._getInstance(function Lhe(){return oS()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function khe(){return sS.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ohe(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function Fhe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield aS();return yield u3(n,T_,"1"),yield c3(n,T_),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(o=>u3(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(o=>function Bhe(t,e){return cS.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>c3(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(s=>{const a=A_(s,!1).getAll();return new jh(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();H$("rcb"),new Nh(3e4,6e4);class yS extends K${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ofe(t){return n3(t.auth,new yS(t),t.bypassAuthState)}function sfe(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),function t3(t,e){return ST.apply(this,arguments)}(n,new yS(t),t.bypassAuthState)}function afe(t){return vS.apply(this,arguments)}function vS(){return(vS=v(function*(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),function IT(t,e){return DT.apply(this,arguments)}(n,new yS(t),t.bypassAuthState)})).apply(this,arguments)}class ufe{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ofe;case"linkViaPopup":case"linkViaRedirect":return afe;case"reauthViaPopup":case"reauthViaRedirect":return sfe;default:Rr(this.auth,"internal-error")}}resolve(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Nh(2e3,1e4);const cfe="pendingRedirect",$h=new Map;class lfe extends ufe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=$h.get(n.auth._key());if(!r){try{const o=(yield function dfe(t,e){return IS.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}$h.set(n.auth._key(),r)}return n.bypassAuthState||$h.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function IS(){return(IS=v(function*(t,e){const n=function h3(t){return v_(cfe,t.config.apiKey,t.name)}(e),r=function d3(t){return Qo(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function hfe(t,e){$h.set(t._key(),e)}function f3(t,e){return NS.apply(this,arguments)}function NS(){return(NS=v(function*(t,e,n=!1){const r=In(t),i=function Ka(t,e){return e?Qo(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new lfe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class _fe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function yfe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m3(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!m3(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(io(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(g3(e))}saveEventToCache(e){this.cachedEventUids.add(g3(e)),this.lastProcessedEventTime=Date.now()}}function g3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function m3({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function OS(){return(OS=v(function*(t,e={}){return Ht(t,"GET","/v1/projects",e)})).apply(this,arguments)}const wfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Efe=/^https?/;function PS(){return PS=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function vfe(t){return OS.apply(this,arguments)}(t);for(const n of e)try{if(bfe(n))return}catch{}Rr(t,"unauthorized-domain")}),PS.apply(this,arguments)}function bfe(t){const e=Mh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!Efe.test(n))return!1;if(wfe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ife=new Nh(3e4,6e4);function _3(){const t=on().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let M_=null;const Sfe=new Nh(5e3,15e3),Afe="__/auth/iframe",xfe="emulator/auth/iframe",Mfe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rfe(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LD(e,xfe):`https://${t.config.authDomain}/${Afe}`,r={apiKey:e.apiKey,appName:t.name,v:Ns},i=Nfe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${mh(r).slice(1)}`}function kS(){return kS=v(function*(t){const e=yield function Tfe(t){return M_=M_||function Dfe(t){return new Promise((e,n)=>{var r,i,o;function s(){_3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_3(),n(io(t,"network-request-failed"))},timeout:Ife.get()})}if(null!==(i=null===(r=on().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=on().gapi)||void 0===o||!o.load){const a=H$("iframefcb");return on()[a]=()=>{gapi.load?s():n(io(t,"network-request-failed"))},ZD(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}s()}}).catch(e=>{throw M_=null,e})}(t),M_}(t),n=on().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:Rfe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mfe,dontclear:!0},r=>new Promise(function(){var i=v(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=io(t,"network-request-failed"),u=on().setTimeout(()=>{s(a)},Sfe.get());function c(){on().clearTimeout(u),o(r)}r.ping(c).then(c,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),kS.apply(this,arguments)}const Pfe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class y3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jfe="__/auth/handler",$fe="emulator/auth/handler",Hfe=encodeURIComponent("fac");function v3(t,e,n,r,i,o){return FS.apply(this,arguments)}function FS(){return(FS=v(function*(t,e,n,r,i,o){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ns,eventId:i};if(e instanceof Ls){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",nb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(e instanceof rhe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Hfe}=${encodeURIComponent(u)}`:"";return`${function zfe({config:t}){return t.emulator?LD(t,$fe):`https://${t.authDomain}/${jfe}`}(t)}?${mh(a).slice(1)}${c}`})).apply(this,arguments)}const LS="webStorageSupport",qfe=class Gfe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o3,this._completeRedirectFn=f3,this._overrideRedirectResult=hfe}_openPopup(e,n,r,i){var o=this;return v(function*(){var s;Ps(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield v3(e,n,r,Mh(),i);return function Ufe(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Pfe),{width:r.toString(),height:i.toString(),top:o,left:s}),c=wn().toLowerCase();n&&(a=R$(c)?"_blank":n),N$(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(function xde(t=wn()){var e;return w_(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Bfe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new y3(null);const d=window.open(e||"",a,l);X(d,t,"popup-blocked");try{d.focus()}catch{}return new y3(d)}(e,a,iS())})()}_openRedirect(e,n,r,i){var o=this;return v(function*(){return yield o._originValidation(e),function Phe(t){on().location.href=t}(yield v3(e,n,r,Mh(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ps(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function Ofe(t){return kS.apply(this,arguments)}(e),i=new _fe(e);return r.register("authEvent",o=>(X(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(LS,{type:LS},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[LS];void 0!==s&&n(!!s),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Cfe(t){return PS.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L$()||YD()||w_()}};var C3="@firebase/auth";class Wfe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xfe=SB("authIdTokenMaxAge")||300;let I3=null;const Jfe=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Xfe)return;const o=r?.token;I3!==o&&(I3=o,yield fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Zfe(t=vh()){const e=Ms(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ude(t,e){const n=Ms(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Xm(n.getOptions(),e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:qfe,persistence:[Hhe,Mhe,o3]}),r=SB("authTokenSyncURL");if(r){const o=Jfe(r);(function whe(t,e,n){Mt(t).beforeAuthStateChanged(e,n)})(n,o,()=>o(n.currentUser)),function vhe(t,e,n,r){Mt(t).onIdTokenChanged(e,n,r)}(n,s=>o(s))}const i=DB("auth");return i&&function jde(t,e,n){const r=In(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=q$(e),{host:s,port:a}=function $de(t){const e=q$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:W$(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:W$(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Hde(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Qfe(t){Ln(new En("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V$(t)},c=new Vde(r,i,o,u);return function Bde(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ln(new En("auth-internal",e=>{const n=In(e.getProvider("auth").getImmediate());return new Wfe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(C3,"0.23.2",function Kfe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),at(C3,"0.23.2","esm2017")}("Browser");class Jt{constructor(e){return e}}class R_{constructor(){return Ih("auth")}}const US=new ae("angularfire2.auth-instances");function tpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Jt(r)}}const npe={provide:R_,deps:[[new Ft,US]]},rpe={provide:Jt,useFactory:function epe(t,e){const n=bh("auth",t,e);return n&&new Jt(n)},deps:[[new Ft,US],Os]};let ipe=(()=>{class t{constructor(){at("angularfire",jc.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({providers:[rpe,npe]}),t})();function ope(t,...e){return{ngModule:ipe,providers:[{provide:US,useFactory:tpe(t),multi:!0,deps:[tt,lr,Dh,Th,[new Ft,xh],...e]}]}}const spe=bn(lhe,!0),BS=bn(Zfe,!0),T3=bn(Ehe,!0),ape=bn(dhe,!0),Qa=bn(Che,!0);let S3=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){Qa(this.auth).then(()=>{}).catch(n=>{console.log("here")})}}return t.\u0275fac=function(n){return new(n||t)(k(Jt),k(rt))},t.\u0275cmp=qt({type:t,selectors:[["app-auth"]],decls:10,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"]],template:function(n,r){1&n&&(M(0,"div",0)(1,"div",1)(2,"span",2),j(3,"Gestion de Muestras"),A()(),he(4,"div",3)(5,"div",4),M(6,"div",5)(7,"span",6),j(8,"Home"),A()()(),he(9,"router-outlet"))},dependencies:[ah],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:92%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}"]}),t})();var ne,upe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ai={},jS=jS||{},be=upe||self;function O_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Hh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var $S="closure_uid_"+(1e9*Math.random()>>>0),lpe=0;function dpe(t,e,n){return t.call.apply(t.bind,arguments)}function hpe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tr(t,e,n){return(tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dpe:hpe).apply(null,arguments)}function P_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Vs(){this.s=this.s,this.o=this.o}Vs.prototype.s=!1,Vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function cpe(t){Object.prototype.hasOwnProperty.call(t,$S)&&t[$S]||(t[$S]=++lpe)}(this)},Vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const A3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function HS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function x3(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(O_(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function nr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nr.prototype.h=function(){this.defaultPrevented=!0};var ppe=function(){if(!be.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{be.addEventListener("test",()=>{},e),be.removeEventListener("test",()=>{},e)}catch{}return t}();function zh(t){return/^[\s\xa0]*$/.test(t)}function k_(){var t=be.navigator;return t&&(t=t.userAgent)?t:""}function so(t){return-1!=k_().indexOf(t)}function zS(t){return zS[" "](t),t}zS[" "]=function(){};var qS,t,mpe=so("Opera"),Wc=so("Trident")||so("MSIE"),M3=so("Edge"),GS=M3||Wc,N3=so("Gecko")&&!(-1!=k_().toLowerCase().indexOf("webkit")&&!so("Edge"))&&!(so("Trident")||so("MSIE"))&&!so("Edge"),_pe=-1!=k_().toLowerCase().indexOf("webkit")&&!so("Edge");function R3(){var t=be.document;return t?t.documentMode:void 0}e:{var WS="",KS=(t=k_(),N3?/rv:([^\);]+)(\)|;)/.exec(t):M3?/Edge\/([\d\.]+)/.exec(t):Wc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):_pe?/WebKit\/(\S+)/.exec(t):mpe?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(KS&&(WS=KS?KS[1]:""),Wc){var QS=R3();if(null!=QS&&QS>parseFloat(WS)){qS=String(QS);break e}}qS=WS}var ype=be.document&&Wc&&(R3()||parseInt(qS,10))||void 0;function Gh(t,e){if(nr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(N3){e:{try{zS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vpe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Gh.$.h.call(this)}}Dn(Gh,nr);var vpe={2:"touch",3:"pen",4:"mouse"};Gh.prototype.h=function(){Gh.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qh="closure_listenable_"+(1e6*Math.random()|0),wpe=0;function Epe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++wpe,this.fa=this.ia=!1}function F_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function XS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function P3(t){const e={};for(const n in t)e[n]=t[n];return e}const k3="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F3(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let o=0;o<k3.length;o++)n=k3[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L_(t){this.src=t,this.g={},this.h=0}function JS(t,e){var n=e.type;if(n in t.g){var o,r=t.g[n],i=A3(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(F_(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ZS(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}L_.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=ZS(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):((e=new Epe(e,this.src,o,!!r,i)).ia=n,t.push(e)),e};var eA="closure_lm_"+(1e6*Math.random()|0),tA={};function L3(t,e,n,r,i){if(r&&r.once)return U3(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)L3(t,e[o],n,r,i);return null}return n=oA(n),t&&t[qh]?t.O(e,n,Hh(r)?!!r.capture:!!r,i):V3(t,e,n,!1,r,i)}function V3(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Hh(i)?!!i.capture:!!i,a=rA(t);if(a||(t[eA]=a=new L_(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function bpe(){const e=Ipe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ppe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(j3(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function U3(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)U3(t,e[o],n,r,i);return null}return n=oA(n),t&&t[qh]?t.P(e,n,Hh(r)?!!r.capture:!!r,i):V3(t,e,n,!0,r,i)}function B3(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)B3(t,e[o],n,r,i);else r=Hh(r)?!!r.capture:!!r,n=oA(n),t&&t[qh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=ZS(o=t.g[e],n,r,i))&&(F_(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=rA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ZS(e,n,r,i)),(n=-1<t?e[t]:null)&&nA(n))}function nA(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[qh])JS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(j3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=rA(e))?(JS(n,t),0==n.h&&(n.src=null,e[eA]=null)):F_(t)}}}function j3(t){return t in tA?tA[t]:tA[t]="on"+t}function Ipe(t,e){if(t.fa)t=!0;else{e=new Gh(e,this);var n=t.listener,r=t.la||t.src;t.ia&&nA(t),t=n.call(r,e)}return t}function rA(t){return(t=t[eA])instanceof L_?t:null}var iA="__closure_events_fn_"+(1e9*Math.random()>>>0);function oA(t){return"function"==typeof t?t:(t[iA]||(t[iA]=function(e){return t.handleEvent(e)}),t[iA])}function Tn(){Vs.call(this),this.i=new L_(this),this.S=this,this.J=null}function Bn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new nr(e,t);else if(e instanceof nr)e.target=e.target||t;else{var i=e;F3(e=new nr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=V_(s,r,!0,e)&&i}if(i=V_(s=e.g=t,r,!0,e)&&i,i=V_(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=V_(s=e.g=n[o],r,!1,e)&&i}function V_(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,u=s.la||s.src;s.ia&&JS(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Dn(Tn,Vs),Tn.prototype[qh]=!0,Tn.prototype.removeEventListener=function(t,e,n,r){B3(this,t,e,n,r)},Tn.prototype.N=function(){if(Tn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)F_(n[r]);delete t.g[e],t.h--}}this.J=null},Tn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Tn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var sA=be.JSON.stringify;function Tpe(){var t=aA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $3=new class Dpe{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ape,t=>t.reset());class Ape{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function xpe(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Mpe(t){be.setTimeout(()=>{throw t},0)}let Wh,Kh=!1,aA=new class Spe{constructor(){this.h=this.g=null}add(e,n){const r=$3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},H3=()=>{const t=be.Promise.resolve(void 0);Wh=()=>{t.then(Npe)}};var Npe=()=>{for(var t;t=Tpe();){try{t.h.call(t.g)}catch(n){Mpe(n)}var e=$3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Kh=!1};function U_(t,e){Tn.call(this),this.h=t||1,this.g=e||be,this.j=tr(this.qb,this),this.l=Date.now()}function uA(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function cA(t,e,n){if("function"==typeof t)n&&(t=tr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=tr(t.handleEvent,t)}return 2147483647<Number(e)?-1:be.setTimeout(t,e||0)}function z3(t){t.g=cA(()=>{t.g=null,t.i&&(t.i=!1,z3(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Dn(U_,Tn),(ne=U_.prototype).ga=!1,ne.T=null,ne.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Bn(this,"tick"),this.ga&&(uA(this),this.start()))}},ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.N=function(){U_.$.N.call(this),uA(this),delete this.g};class Rpe extends Vs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:z3(this)}N(){super.N(),this.g&&(be.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qh(t){Vs.call(this),this.h=t,this.g={}}Dn(Qh,Vs);var G3=[];function q3(t,e,n,r){Array.isArray(n)||(n&&(G3[0]=n.toString()),n=G3);for(var i=0;i<n.length;i++){var o=L3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function W3(t){XS(t.g,function(e,n){this.g.hasOwnProperty(n)&&nA(e)},t),t.g={}}function B_(){this.g=!0}function Kc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Fpe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return sA(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Qh.prototype.N=function(){Qh.$.N.call(this),W3(this)},Qh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},B_.prototype.Ea=function(){this.g=!1},B_.prototype.info=function(){};var Ya={},K3=null;function j_(){return K3=K3||new Tn}function Q3(t){nr.call(this,Ya.Ta,t)}function Yh(t){const e=j_();Bn(e,new Q3(e))}function Y3(t,e){nr.call(this,Ya.STAT_EVENT,t),this.stat=e}function mr(t){const e=j_();Bn(e,new Y3(e,t))}function X3(t,e){nr.call(this,Ya.Ua,t),this.size=e}function Xh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return be.setTimeout(function(){t()},e)}Ya.Ta="serverreachability",Dn(Q3,nr),Ya.STAT_EVENT="statevent",Dn(Y3,nr),Ya.Ua="timingevent",Dn(X3,nr);var $_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},J3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lA(){}function e4(){}lA.prototype.h=null;var fA,Jh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dA(){nr.call(this,"d")}function hA(){nr.call(this,"c")}function H_(){}function Zh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qh(this),this.P=Lpe,this.V=new U_(t=GS?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new t4}function t4(){this.i=null,this.g="",this.h=!1}Dn(dA,nr),Dn(hA,nr),Dn(H_,lA),H_.prototype.g=function(){return new XMLHttpRequest},H_.prototype.i=function(){return{}},fA=new H_;var Lpe=45e3,pA={},z_={};function gA(t,e,n){t.L=1,t.v=K_(Xo(e)),t.s=n,t.S=!0,n4(t,null)}function n4(t,e){t.G=Date.now(),ef(t),t.A=Xo(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),h4(n.i,"t",r),t.C=0,n=t.l.J,t.h=new t4,t.g=F4(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Rpe(tr(t.Pa,t,t.g),t.O)),q3(t.U,t.g,"readystatechange",t.nb),e=t.I?P3(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Yh(),function Ope(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");s=2<=d.length&&"type"==d[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.W,t.s)}function r4(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function i4(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Vpe(t,n),i==z_){4==e&&(t.o=4,mr(14),r=!1),Kc(t.j,t.m,null,"[Incomplete Response]");break}if(i==pA){t.o=4,mr(15),Kc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Kc(t.j,t.m,i,null),mA(t,i)}r4(t)&&i!=z_&&i!=pA&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,mr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bA(e),e.M=!0,mr(11))):(Kc(t.j,t.m,n,"[Invalid Chunked Response]"),Xa(t),tf(t))}function Vpe(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?z_:(n=Number(e.substring(n,r)),isNaN(n)?pA:(r+=1)+n>e.length?z_:(e=e.slice(r,r+n),t.C=r+n,e))}function ef(t){t.Y=Date.now()+t.P,o4(t,t.P)}function o4(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Xh(tr(t.lb,t),e)}function G_(t){t.B&&(be.clearTimeout(t.B),t.B=null)}function tf(t){0==t.l.H||t.J||R4(t.l,t)}function Xa(t){G_(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,uA(t.V),W3(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mA(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||_A(n.i,t)))if(!t.K&&_A(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;ey(n),J_(n)}CA(n),mr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xh(tr(n.ib,n),6e3));if(1>=g4(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Za(n,11)}else if((t.K||n.g==t)&&ey(n),!zh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var o=r.i;o.g||-1==y.indexOf("spdy")&&-1==y.indexOf("quic")&&-1==y.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(yA(o,o.h),o.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,bt(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=t;if((r=n).wa=k4(r,r.J?r.pa:null,r.Y),s.K){m4(r.i,s);var a=s,u=r.L;u&&a.setTimeout(u),a.B&&(G_(a),ef(a)),r.g=s}else M4(r);0<n.j.length&&Z_(n)}else"stop"!=c[0]&&"close"!=c[0]||Za(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Za(n,7):EA(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Yh()}catch{}}function s4(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(O_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Bpe(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(O_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Upe(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(O_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(ne=Zh.prototype).setTimeout=function(t){this.P=t},ne.nb=function(t){t=t.target;const e=this.M;e&&3==ao(t)?e.l():this.Pa(t)},ne.Pa=function(t){try{if(t==this.g)e:{const l=ao(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||GS||this.g&&(this.h.h||this.g.ja()||I4(this.g)))){this.J||4!=l||7==e||Yh(),G_(this);var n=this.g.da();this.ca=n;t:if(r4(this)){var r=I4(this.g);t="";var i=r.length,o=4==ao(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xa(this),tf(this);var s="";break t}this.h.i=new be.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function Ppe(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,mr(12),Xa(this),tf(this);break e}Kc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mA(this,n)}this.S?(i4(this,l,s),GS&&this.i&&3==l&&(q3(this.U,this.V,"tick",this.mb),this.V.start())):(Kc(this.j,this.m,s,null),mA(this,s)),4==l&&Xa(this),this.i&&!this.J&&(4==l?R4(this.l,this):(this.i=!1,ef(this)))}else(function ige(t){const e={};t=(t.g&&2<=ao(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(zh(t[r]))continue;var n=xpe(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function Cpe(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,mr(12)):(this.o=0,mr(13)),Xa(this),tf(this)}}}catch{}},ne.mb=function(){if(this.g){var t=ao(this.g),e=this.g.ja();this.C<e.length&&(G_(this),i4(this,t,e),this.i&&4!=t&&ef(this))}},ne.cancel=function(){this.J=!0,Xa(this)},ne.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function kpe(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yh(),mr(17)),Xa(this),this.o=2,tf(this)):o4(this,this.Y-t)};var a4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ja(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ja){this.h=t.h,q_(this,t.j),this.s=t.s,this.g=t.g,W_(this,t.m),this.l=t.l;var e=t.i,n=new sf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),u4(this,n),this.o=t.o}else t&&(e=String(t).match(a4))?(this.h=!1,q_(this,e[1]||"",!0),this.s=nf(e[2]||""),this.g=nf(e[3]||"",!0),W_(this,e[4]),this.l=nf(e[5]||"",!0),u4(this,e[6]||"",!0),this.o=nf(e[7]||"")):(this.h=!1,this.i=new sf(null,this.h))}function Xo(t){return new Ja(t)}function q_(t,e,n){t.j=n?nf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function W_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function u4(t,e,n){e instanceof sf?(t.i=e,function Wpe(t,e){e&&!t.j&&(Us(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(l4(this,r),h4(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=rf(e,Gpe)),t.i=new sf(e,t.h))}function bt(t,e,n){t.i.set(e,n)}function K_(t){return bt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ja.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rf(e,c4,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(rf(e,c4,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(rf(n,"/"==n.charAt(0)?zpe:Hpe,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rf(n,qpe)),t.join("")};var c4=/[#\/\?@]/g,Hpe=/[#\?:]/g,zpe=/[#\?]/g,Gpe=/[#\?@]/g,qpe=/#/g;function sf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Us(t){t.g||(t.g=new Map,t.h=0,t.i&&function jpe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function l4(t,e){Us(t),e=Qc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function d4(t,e){return Us(t),e=Qc(t,e),t.g.has(e)}function h4(t,e,n){l4(t,e),0<n.length&&(t.i=null,t.g.set(Qc(t,e),HS(n)),t.h+=n.length)}function Qc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function f4(t){this.l=t||Qpe,t=be.PerformanceNavigationTiming?0<(t=be.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(be.g&&be.g.Ka&&be.g.Ka()&&be.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ne=sf.prototype).add=function(t,e){Us(this),this.i=null,t=Qc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},ne.forEach=function(t,e){Us(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},ne.ta=function(){Us(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n},ne.Z=function(t){Us(this);let e=[];if("string"==typeof t)d4(this,t)&&(e=e.concat(this.g.get(Qc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},ne.set=function(t,e){return Us(this),this.i=null,d4(this,t=Qc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},ne.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};var Qpe=10;function p4(t){return!!t.h||!!t.g&&t.g.size>=t.j}function g4(t){return t.h?1:t.g?t.g.size:0}function _A(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function yA(t,e){t.g?t.g.add(e):t.h=e}function m4(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function _4(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return HS(t.i)}f4.prototype.cancel=function(){if(this.i=_4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Ype=class{stringify(t){return be.JSON.stringify(t,void 0)}parse(t){return be.JSON.parse(t,void 0)}};function Xpe(){this.g=new Ype}function Jpe(t,e,n){const r=n||"";try{s4(t,function(i,o){let s=i;Hh(i)&&(s=sA(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Q_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function af(t){this.l=t.fc||null,this.j=t.ob||!1}function Y_(t,e){Tn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=vA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dn(af,lA),af.prototype.g=function(){return new Y_(this.l,this.j)},af.prototype.i=function(t){return function(){return t}}({}),Dn(Y_,Tn);var vA=0;function y4(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function uf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cf(t)}function cf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(ne=Y_.prototype).open=function(t,e){if(this.readyState!=vA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cf(this)},ne.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||be).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,uf(this)),this.readyState=vA},ne.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof be.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;y4(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},ne.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uf(this):cf(this),3==this.readyState&&y4(this)}},ne.Za=function(t){this.g&&(this.response=this.responseText=t,uf(this))},ne.Ya=function(t){this.g&&(this.response=t,uf(this))},ne.ka=function(){this.g&&uf(this)},ne.setRequestHeader=function(t,e){this.v.append(t,e)},ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Y_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var ege=be.JSON.parse;function zt(t){Tn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=v4,this.L=this.M=!1}Dn(zt,Tn);var v4="",tge=/^https?$/i,nge=["POST","PUT"];function w4(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,E4(t),X_(t)}function E4(t){t.F||(t.F=!0,Bn(t,"complete"),Bn(t,"error"))}function C4(t){if(t.h&&typeof jS<"u"&&(!t.C[1]||4!=ao(t)||2!=t.da()))if(t.v&&4==ao(t))cA(t.La,0,t);else if(Bn(t,"readystatechange"),4==ao(t)){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.I).match(a4)[1]||null;!i&&be.self&&be.self.location&&(i=be.self.location.protocol.slice(0,-1)),r=!tge.test(i?i.toLowerCase():"")}n=r}if(n)Bn(t,"complete"),Bn(t,"success");else{t.m=6;try{var o=2<ao(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",E4(t)}}finally{X_(t)}}}function X_(t,e){if(t.g){b4(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Bn(t,"ready");try{n.onreadystatechange=r}catch{}}}function b4(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(be.clearTimeout(t.A),t.A=null)}function ao(t){return t.g?t.g.readyState:0}function I4(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case v4:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function D4(t){let e="";return XS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function wA(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=D4(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):bt(t,e,n))}function lf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function T4(t){this.Ga=0,this.j=[],this.l=new B_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lf("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lf("baseRetryDelayMs",5e3,t),this.hb=lf("retryDelaySeedMs",1e4,t),this.eb=lf("forwardChannelMaxRetries",2,t),this.xa=lf("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new f4(t&&t.concurrentRequestLimit),this.Ja=new Xpe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function EA(t){if(S4(t),3==t.H){var e=t.W++,n=Xo(t.I);if(bt(n,"SID",t.K),bt(n,"RID",e),bt(n,"TYPE","terminate"),df(t,n),(e=new Zh(t,t.l,e)).L=2,e.v=K_(Xo(n)),n=!1,be.navigator&&be.navigator.sendBeacon)try{n=be.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&be.Image&&((new Image).src=e.v,n=!0),n||(e.g=F4(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ef(e)}P4(t)}function J_(t){t.g&&(bA(t),t.g.cancel(),t.g=null)}function S4(t){J_(t),t.u&&(be.clearTimeout(t.u),t.u=null),ey(t),t.i.cancel(),t.m&&("number"==typeof t.m&&be.clearTimeout(t.m),t.m=null)}function Z_(t){if(!p4(t.i)&&!t.m){t.m=!0;var e=t.Na;Wh||H3(),Kh||(Wh(),Kh=!0),aA.add(e,t),t.C=0}}function A4(t,e){var n;n=e?e.m:t.W++;const r=Xo(t.I);bt(r,"SID",t.K),bt(r,"RID",n),bt(r,"AID",t.V),df(t,r),t.o&&t.s&&wA(r,t.o,t.s),n=new Zh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=x4(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),yA(t.i,n),gA(n,r,e)}function df(t,e){t.na&&XS(t.na,function(n,r){bt(e,r,n)}),t.h&&s4({},function(n,r){bt(e,r,n)})}function x4(t,e,n){n=Math.min(t.j.length,n);var r=t.h?tr(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];-1==o?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=o,0>c)o=Math.max(0,i[u].g-100),a=!1;else try{Jpe(l,s,"req"+c+"_")}catch{r&&r(l)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function M4(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Wh||H3(),Kh||(Wh(),Kh=!0),aA.add(e,t),t.A=0}}function CA(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Xh(tr(t.Ma,t),O4(t,t.A)),t.A++,0))}function bA(t){null!=t.B&&(be.clearTimeout(t.B),t.B=null)}function N4(t){t.g=new Zh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Xo(t.wa);bt(e,"RID","rpc"),bt(e,"SID",t.K),bt(e,"AID",t.V),bt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&bt(e,"TO",t.qa),bt(e,"TYPE","xmlhttp"),df(t,e),t.o&&t.s&&wA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=K_(Xo(e)),n.s=null,n.S=!0,n4(n,t)}function ey(t){null!=t.v&&(be.clearTimeout(t.v),t.v=null)}function R4(t,e){var n=null;if(t.g==e){ey(t),bA(t),t.g=null;var r=2}else{if(!_A(t.i,e))return;n=e.F,m4(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Bn(r=j_(),new X3(r,n)),Z_(t)}else M4(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function oge(t,e){return!(g4(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Xh(tr(t.Na,t,e),O4(t,t.C)),t.C++,0)))}(t,e)||2==r&&CA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Za(t,5);break;case 4:Za(t,10);break;case 3:Za(t,6);break;default:Za(t,2)}}function O4(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Za(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=tr(t.pb,t);n||(n=new Ja("//www.google.com/images/cleardot.gif"),be.location&&"http"==be.location.protocol||q_(n,"https"),K_(n)),function Zpe(t,e){const n=new B_;if(be.Image){const r=new Image;r.onload=P_(Q_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=P_(Q_,n,r,"TestLoadImage: error",!1,e),r.onabort=P_(Q_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=P_(Q_,n,r,"TestLoadImage: timeout",!1,e),be.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else mr(2);t.H=0,t.h&&t.h.za(e),P4(t),S4(t)}function P4(t){if(t.H=0,t.ma=[],t.h){const e=_4(t.i);(0!=e.length||0!=t.j.length)&&(x3(t.ma,e),x3(t.ma,t.j),t.i.i.length=0,HS(t.j),t.j.length=0),t.h.ya()}}function k4(t,e,n){var r=n instanceof Ja?Xo(n):new Ja(n);if(""!=r.g)e&&(r.g=e+"."+r.g),W_(r,r.m);else{var i=be.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ja(null);r&&q_(o,r),e&&(o.g=e),i&&W_(o,i),n&&(o.l=n),r=o}return e=t.Da,(n=t.F)&&e&&bt(r,n,e),bt(r,"VER",t.ra),df(t,r),r}function F4(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zt(n&&t.Ha&&!t.va?new af({ob:!0}):t.va)).Oa(t.J),e}function L4(){}function ty(){if(Wc&&!(10<=Number(ype)))throw Error("Environmental error: no available transport.")}function Gr(t,e){Tn.call(this),this.g=new T4(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Yc(this)}function V4(t){dA.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function U4(){hA.call(this),this.status=1}function Yc(t){this.g=t}function xi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function IA(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var o=t.g[3],s=(e=t.g[0])+(o^(n=t.g[1])&((i=t.g[2])^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=n+((s=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function it(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}(ne=zt.prototype).Oa=function(t){this.M=t},ne.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fA.g(),this.C=function Z3(t){return t.h||(t.h=t.i())}(this.u?this.u:fA),this.g.onreadystatechange=tr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){return void w4(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())n.set(o,r.get(o))}r=Array.from(n.keys()).find(o=>"content-type"==o.toLowerCase()),i=be.FormData&&t instanceof be.FormData,!(0<=A3(nge,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{b4(this),0<this.B&&((this.L=function rge(t){return Wc&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tr(this.ua,this)):this.A=cA(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){w4(this,o)}},ne.ua=function(){typeof jS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bn(this,"timeout"),this.abort(8))},ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Bn(this,"complete"),Bn(this,"abort"),X_(this))},ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),X_(this,!0)),zt.$.N.call(this)},ne.La=function(){this.s||(this.G||this.v||this.l?C4(this):this.kb())},ne.kb=function(){C4(this)},ne.isActive=function(){return!!this.g},ne.da=function(){try{return 2<ao(this)?this.g.status:-1}catch{return-1}},ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ne.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ege(e)}},ne.Ia=function(){return this.m},ne.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=T4.prototype).ra=8,ne.H=1,ne.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Zh(this,this.l,t);let o=this.s;if(this.U&&(o?(o=P3(o),F3(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=x4(this,i,e),bt(n=Xo(this.I),"RID",t),bt(n,"CVER",22),this.F&&bt(n,"X-HTTP-Session-Id",this.F),df(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(D4(o)))+"&"+e:this.o&&wA(n,this.o,o)),yA(this.i,i),this.bb&&bt(n,"TYPE","init"),this.P?(bt(n,"$req",e),bt(n,"SID","null"),i.aa=!0,gA(i,n,null)):gA(i,n,e),this.H=2}}else 3==this.H&&(t?A4(this,t):0==this.j.length||p4(this.i)||A4(this))},ne.Ma=function(){if(this.u=null,N4(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xh(tr(this.jb,this),t)}},ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mr(10),J_(this),N4(this))},ne.ib=function(){null!=this.v&&(this.v=null,J_(this),CA(this),mr(19))},ne.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mr(2)):(this.l.info("Failed to ping google.com"),mr(1))},ne.isActive=function(){return!!this.h&&this.h.isActive(this)},(ne=L4.prototype).Ba=function(){},ne.Aa=function(){},ne.za=function(){},ne.ya=function(){},ne.isActive=function(){return!0},ne.Va=function(){},ty.prototype.g=function(t,e){return new Gr(t,e)},Dn(Gr,Tn),Gr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=k4(t,null,t.Y),Z_(t)},Gr.prototype.close=function(){EA(this.g)},Gr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=sA(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Z_(e)},Gr.prototype.N=function(){this.g.h=null,delete this.j,EA(this.g),delete this.g,Gr.$.N.call(this)},Dn(V4,dA),Dn(U4,hA),Dn(Yc,L4),Yc.prototype.Ba=function(){Bn(this.g,"a")},Yc.prototype.Aa=function(t){Bn(this.g,new V4(t))},Yc.prototype.za=function(t){Bn(this.g,new U4)},Yc.prototype.ya=function(){Bn(this.g,"b")},Dn(xi,function sge(){this.blockSize=-1}),xi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xi.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=n;)IA(this,t,o),o+=this.blockSize;if("string"==typeof t){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){IA(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){IA(this,r),i=0;break}}this.h=i,this.i+=e},xi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var age={};function DA(t){return-128<=t&&128>t?function gpe(t,e){var n=age;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new it([0|e],0>e?-1:0)}):new it([0|t],0>t?-1:0)}function uo(t){if(isNaN(t)||!isFinite(t))return Xc;if(0>t)return jn(uo(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=TA;return new it(e,0)}var TA=4294967296,Xc=DA(0),SA=DA(1),j4=DA(16777216);function Jo(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ci(t){return-1==t.h}function jn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new it(n,~t.h).add(SA)}function ny(t,e){return t.add(jn(e))}function ry(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function hf(t,e){this.g=t,this.h=e}function iy(t,e){if(Jo(e))throw Error("division by zero");if(Jo(t))return new hf(Xc,Xc);if(ci(t))return e=iy(jn(t),e),new hf(jn(e.g),jn(e.h));if(ci(e))return e=iy(t,jn(e)),new hf(jn(e.g),e.h);if(30<t.g.length){if(ci(t)||ci(e))throw Error("slowDivide_ only works with positive integers.");for(var n=SA,r=e;0>=r.X(t);)n=$4(n),r=$4(r);var i=Jc(n,1),o=Jc(r,1);for(r=Jc(r,2),n=Jc(n,2);!Jo(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Jc(r,1),n=Jc(n,1)}return e=ny(t,i.R(e)),new hf(i,e)}for(i=Xc;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=uo(n)).R(e);ci(s)||0<s.X(t);)s=(o=uo(n-=r)).R(e);Jo(o)&&(o=SA),i=i.add(o),t=ny(t,s)}return new hf(i,t)}function $4(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new it(n,t.h)}function Jc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new it(i,t.h)}(ne=it.prototype).ea=function(){if(ci(this))return-jn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:TA+r)*e,e*=TA}return t},ne.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Jo(this))return"0";if(ci(this))return"-"+jn(this).toString(t);for(var e=uo(Math.pow(t,6)),n=this,r="";;){var i=iy(n,e).g,o=((0<(n=ny(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Jo(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},ne.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},ne.X=function(t){return ci(t=ny(this,t))?-1:Jo(t)?0:1},ne.abs=function(){return ci(this)?jn(this):this},ne.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&t.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,n[i]=(s&=65535)<<16|(o&=65535)}return new it(n,-2147483648&n[n.length-1]?-1:0)},ne.R=function(t){if(Jo(this)||Jo(t))return Xc;if(ci(this))return ci(t)?jn(this).R(jn(t)):jn(jn(this).R(t));if(ci(t))return jn(this.R(jn(t)));if(0>this.X(j4)&&0>t.X(j4))return uo(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=s*u,ry(n,2*r+2*i),n[2*r+2*i+1]+=o*u,ry(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,ry(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,ry(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new it(n,0)},ne.gb=function(t){return iy(this,t).h},ne.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new it(n,this.h&t.h)},ne.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new it(n,this.h|t.h)},ne.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new it(n,this.h^t.h)},ty.prototype.createWebChannel=ty.prototype.g,Gr.prototype.send=Gr.prototype.u,Gr.prototype.open=Gr.prototype.m,Gr.prototype.close=Gr.prototype.close,$_.NO_ERROR=0,$_.TIMEOUT=8,$_.HTTP_ERROR=6,J3.COMPLETE="complete",e4.EventType=Jh,Jh.OPEN="a",Jh.CLOSE="b",Jh.ERROR="c",Jh.MESSAGE="d",Tn.prototype.listen=Tn.prototype.O,zt.prototype.listenOnce=zt.prototype.P,zt.prototype.getLastError=zt.prototype.Sa,zt.prototype.getLastErrorCode=zt.prototype.Ia,zt.prototype.getStatus=zt.prototype.da,zt.prototype.getResponseJson=zt.prototype.Wa,zt.prototype.getResponseText=zt.prototype.ja,zt.prototype.send=zt.prototype.ha,zt.prototype.setWithCredentials=zt.prototype.Oa,xi.prototype.digest=xi.prototype.l,xi.prototype.reset=xi.prototype.reset,xi.prototype.update=xi.prototype.j,it.prototype.add=it.prototype.add,it.prototype.multiply=it.prototype.R,it.prototype.modulo=it.prototype.gb,it.prototype.compare=it.prototype.X,it.prototype.toNumber=it.prototype.ea,it.prototype.toString=it.prototype.toString,it.prototype.getBits=it.prototype.D,it.fromNumber=uo,it.fromString=function B4(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return jn(B4(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=uo(Math.pow(e,8)),r=Xc,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=uo(Math.pow(e,o)),r=r.R(o).add(uo(s))):r=(r=r.R(n)).add(uo(s))}return r};var uge=Ai.createWebChannelTransport=function(){return new ty},cge=Ai.getStatEventTarget=function(){return j_()},AA=Ai.ErrorCode=$_,lge=Ai.EventType=J3,dge=Ai.Event=Ya,H4=Ai.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hge=Ai.FetchXmlHttpFactory=af,oy=Ai.WebChannel=e4,fge=Ai.XhrIo=zt,pge=Ai.Md5=xi,Zc=Ai.Integer=it;const z4="@firebase/firestore";class Sn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let el="9.23.0";const Bs=new La("@firebase/firestore");function xA(){return Bs.logLevel}function K(t,...e){if(Bs.logLevel<=Be.DEBUG){const n=e.map(MA);Bs.debug(`Firestore (${el}): ${t}`,...n)}}function Zt(t,...e){if(Bs.logLevel<=Be.ERROR){const n=e.map(MA);Bs.error(`Firestore (${el}): ${t}`,...n)}}function Mi(t,...e){if(Bs.logLevel<=Be.WARN){const n=e.map(MA);Bs.warn(`Firestore (${el}): ${t}`,...n)}}function MA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function se(t="Unexpected state"){const e=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: `+t;throw Zt(e),new Error(e)}function ce(t,e){t||se()}function te(t,e){return t}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class G4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Sn.UNAUTHENTICATED))}shutdown(){}}class mge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _ge{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(v(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce("string"==typeof r.accessToken),new G4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ce(null===e||"string"==typeof e),new Sn(e)}}class yge{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class vge{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new yge(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wge{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{null!=o.error&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce("string"==typeof n.token),this.T=n.token,new q4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ege(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class W4{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Ege(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new Ut(0,0))}static max(){return new le(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ff{constructor(e,n,r){void 0===n?n=0:n>e.length&&se(),void 0===r?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===ff.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ff?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends ff{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const Cge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ff{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return Cge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(0===r.length)throw new W(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new W(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new W(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class Z{constructor(e){this.path=e}static fromPath(e){return new Z(je.fromString(e))}static fromName(e){return new Z(je.fromString(e).popFirst(5))}static empty(){return new Z(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===je.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new je(e.slice()))}}function Y4(t){return new qr(t.readTime,t.key,-1)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(le.min(),Z.empty(),-1)}static max(){return new qr(le.max(),Z.empty(),-1)}}function RA(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Z.comparator(t.documentKey,e.documentKey),0!==n?n:Ee(t.largestBatchId,e.largestBatchId))}const X4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dge{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function js(t){return OA.apply(this,arguments)}function OA(){return OA=v(function*(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==X4)throw t;K("LocalStore","Unexpectedly lost primary lease")}),OA.apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(l=>{s[c]=l,++a,a===o&&r(s)},l=>i(l))}})}static doWhile(e,n){return new P((r,i)=>{const o=()=>{!0===e()?n().next(()=>{o()},i):r()};o()})}}function $s(t){return"IndexedDbTransactionError"===t.name}let Wr=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function mf(t){return null==t}function _f(t){return 0===t&&1/t==-1/0}function sH(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ly(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ly(this.root,e,this.comparator,!1)}getReverseIterator(){return new ly(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ly(this.root,e,this.comparator,!0)}}class ly{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $n{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??$n.RED,this.left=i??$n.EMPTY,this.right=o??$n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new $n(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===o?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return $n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1,$n.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(t,e,n,r,i){return this}insert(t,e,n){return new $n(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class It{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uH(this.data.getIterator())}getIteratorFrom(e){return new uH(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class uH{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Or{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Or([])}unionWith(e){let n=new It(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class cH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cH("Invalid base64 string: "+i):i}}(e);return new gn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new gn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const Kge=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(ce(!!t),"string"==typeof t){let e=0;const n=Kge.exec(t);if(ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Zo(t){return"string"==typeof t?gn.fromBase64String(t):gn.fromUint8Array(t)}function dy(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hy(t){const e=t.mapValue.fields.__previous_value__;return dy(e)?hy(e):e}function yf(t){const e=zs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}class Qge{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class nu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new nu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}const Gs={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dy(t)?4:fH(t)?9007199254740991:10:se()}function lo(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yf(t).isEqual(yf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=zs(r.timestampValue),s=zs(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Zo(t.bytesValue).isEqual(Zo(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Gt(r.geoPointValue.latitude)===Gt(i.geoPointValue.latitude)&&Gt(r.geoPointValue.longitude)===Gt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gt(r.integerValue)===Gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Gt(r.doubleValue),s=Gt(i.doubleValue);return o===s?_f(o)===_f(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],lo);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(sH(o)!==sH(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!lo(o[a],s[a])))return!1;return!0}(t,e);default:return se()}var i}function vf(t,e){return void 0!==(t.values||[]).find(n=>lo(n,e))}function Ws(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Gt(i.integerValue||i.doubleValue),a=Gt(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return lH(t.timestampValue,e.timestampValue);case 4:return lH(yf(t),yf(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Zo(i),a=Zo(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let u=0;u<s.length&&u<a.length;u++){const c=Ee(s[u],a[u]);if(0!==c)return c}return Ee(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Ee(Gt(i.latitude),Gt(o.latitude));return 0!==s?s:Ee(Gt(i.longitude),Gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let u=0;u<s.length&&u<a.length;++u){const c=Ws(s[u],a[u]);if(c)return c}return Ee(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Gs.mapValue&&o===Gs.mapValue)return 0;if(i===Gs.mapValue)return 1;if(o===Gs.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),u=o.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Ee(a[l],c[l]);if(0!==d)return d;const h=Ws(s[a[l]],u[c[l]]);if(0!==h)return h}return Ee(a.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function lH(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ee(t,e);const n=zs(t),r=zs(e),i=Ee(n.seconds,r.seconds);return 0!==i?i:Ee(n.nanos,r.nanos)}function rl(t){return FA(t)}function FA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=zs(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zo(t.bytesValue).toBase64():"referenceValue"in t?Z.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=FA(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${FA(r.fields[a])}`;return o+"}"}(t.mapValue):se();var e}function ru(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function LA(t){return!!t&&"integerValue"in t}function wf(t){return!!t&&"arrayValue"in t}function dH(t){return!!t&&"nullValue"in t}function hH(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gy(t){return!!t&&"mapValue"in t}function Ef(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ef(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ef(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fH(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ef(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ef(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());gy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Hn(Ef(this.value))}}function mH(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new en([n]);if(gy(r)){const o=mH(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Or(e)}class Dt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,le.min(),le.min(),le.min(),Hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Dt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Dt(e,2,n,le.min(),le.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,le.min(),le.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ks{constructor(e,n){this.position=e,this.inclusive=n}}function _H(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Z.comparator(Z.fromName(s.referenceValue),n.key):Ws(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function yH(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lo(t.position[n],e.position[n]))return!1;return!0}class il{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jge(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class vH{}class Le extends vH{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Zge(e,n,r):"array-contains"===n?new nme(e,r):"in"===n?new DH(e,r):"not-in"===n?new rme(e,r):"array-contains-any"===n?new ime(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new eme(e,r):new tme(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Ws(n,this.value)):null!==n&&qs(this.value)===qs(n)&&this.matchesComparison(Ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ot extends vH{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ot(e,n)}matches(e){return ol(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ol(t){return"and"===t.op}function UA(t){return function wH(t){for(const e of t.filters)if(e instanceof ot)return!1;return!0}(t)&&ol(t)}function BA(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+rl(t.value);if(UA(t))return t.filters.map(e=>BA(e)).join(",");{const e=t.filters.map(n=>BA(n)).join(",");return`${t.op}(${e})`}}function EH(t,e){return t instanceof Le?(n=t,(r=e)instanceof Le&&n.op===r.op&&n.field.isEqual(r.field)&&lo(n.value,r.value)):t instanceof ot?function(n,r){return r instanceof ot&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,o,s)=>i&&EH(o,r.filters[s]),!0)}(t,e):void se();var n,r}function bH(t){return t instanceof Le?`${(e=t).field.canonicalString()} ${e.op} ${rl(e.value)}`:t instanceof ot?function(e){return e.op.toString()+" {"+e.getFilters().map(bH).join(" ,")+"}"}(t):"Filter";var e}class Zge extends Le{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class eme extends Le{constructor(e,n){super(e,"in",n),this.keys=IH(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tme extends Le{constructor(e,n){super(e,"not-in",n),this.keys=IH(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IH(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class nme extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wf(n)&&vf(n.arrayValue,this.value)}}class DH extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&vf(this.value.arrayValue,n)}}class rme extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!vf(this.value.arrayValue,n)}}class ime extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vf(this.value.arrayValue,r))}}class ome{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function jA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new ome(t,e,n,r,i,o,s)}function iu(t){const e=te(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>BA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rl(r)).join(",")),e.dt=n}return e.dt}function Cf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jge(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EH(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yH(t.startAt,e.startAt)&&yH(t.endAt,e.endAt)}function my(t){return Z.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class es{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function sl(t){return new es(t)}function xH(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function $A(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function yy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function HA(t){return null!==t.collectionGroup}function ou(t){const e=te(t);if(null===e.wt){e.wt=[];const n=yy(e),r=$A(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new il(n)),e.wt.push(new il(en.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new il(en.keyField(),o))}}}return e.wt}function _r(t){const e=te(t);if(!e._t)if("F"===e.limitType)e._t=jA(e.path,e.collectionGroup,ou(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ou(e))n.push(new il(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Ks(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ks(e.startAt.position,e.startAt.inclusive):null;e._t=jA(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function zA(t,e){e.getFirstInequalityField(),yy(t);const n=t.filters.concat([e]);return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vy(t,e,n){return new es(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bf(t,e){return Cf(_r(t),_r(e))&&t.limitType===e.limitType}function MH(t){return`${iu(_r(t))}|lt:${t.limitType}`}function GA(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>bH(r)).join(", ")}]`),mf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rl(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rl(r)).join(",")),`Target(${n})`}(_r(t))}; limitType=${t.limitType})`}function If(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Z.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ou(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,o,s){const a=_H(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ou(n),r)||n.endAt&&!function(i,o,s){const a=_H(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ou(n),r)));var n,r}function RH(t){return(e,n)=>{let r=!1;for(const i of ou(t)){const o=sme(i,e,n);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function sme(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),u=s.data.field(i);return null!==a&&null!==u?Ws(a,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aH(this.inner)}size(){return this.innerSize}}const ame=new yt(Z.comparator);function Pr(){return ame}const OH=new yt(Z.comparator);function Df(...t){let e=OH;for(const n of t)e=e.insert(n.key,n);return e}function PH(t){let e=OH;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ho(){return Tf()}function kH(){return Tf()}function Tf(){return new ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const ume=new yt(Z.comparator),cme=new It(Z.comparator);function Me(...t){let e=cme;for(const n of t)e=e.add(n);return e}const lme=new It(Ee);function FH(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function LH(t){return{integerValue:""+t}}function VH(t,e){return function Z4(t){return"number"==typeof t&&Number.isInteger(t)&&!_f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?LH(e):FH(t,e)}class wy{constructor(){this._=void 0}}function dme(t,e,n){return t instanceof al?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&dy(i)&&(i=hy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof su?BH(t,e):t instanceof au?jH(t,e):function(r,i){const o=UH(r,i),s=$H(o)+$H(r.gt);return LA(o)&&LA(r.gt)?LH(s):FH(r.serializer,s)}(t,e)}function hme(t,e,n){return t instanceof su?BH(t,e):t instanceof au?jH(t,e):n}function UH(t,e){return t instanceof ul?LA(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class al extends wy{}class su extends wy{constructor(e){super(),this.elements=e}}function BH(t,e){const n=HH(e);for(const r of t.elements)n.some(i=>lo(i,r))||n.push(r);return{arrayValue:{values:n}}}class au extends wy{constructor(e){super(),this.elements=e}}function jH(t,e){let n=HH(e);for(const r of t.elements)n=n.filter(i=>!lo(i,r));return{arrayValue:{values:n}}}class ul extends wy{constructor(e,n){super(),this.serializer=e,this.gt=n}}function $H(t){return Gt(t.integerValue||t.doubleValue)}function HH(t){return wf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class pme{constructor(e,n){this.version=e,this.transformResults=n}}class Nt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nt}static exists(e){return new Nt(void 0,e)}static updateTime(e){return new Nt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ey(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Cy{}function zH(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ll(t.key,Nt.none()):new cl(t.key,t.data,Nt.none());{const n=t.data,r=Hn.empty();let i=new It(en.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);null===s&&o.length>1&&(o=o.popLast(),s=n.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new ns(t.key,r,new Or(i.toArray()),Nt.none())}}function gme(t,e,n){t instanceof cl?function(r,i,o){const s=r.value.clone(),a=WH(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(r,i,o){if(!Ey(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=WH(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(qH(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Af(t,e,n,r){return t instanceof cl?function(i,o,s,a){if(!Ey(i.precondition,o))return s;const u=i.value.clone(),c=KH(i.fieldTransforms,a,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(i,o,s,a){if(!Ey(i.precondition,o))return s;const u=KH(i.fieldTransforms,a,o),c=o.data;return c.setAll(qH(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(s=n,Ey(t.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function mme(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=UH(r.transform,i||null);null!=o&&(null===n&&(n=Hn.empty()),n.set(r.field,o))}return n||null}function GH(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&tl(n,r,(i,o)=>function fme(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof su&&r instanceof su||n instanceof au&&r instanceof au?tl(n.elements,r.elements,lo):n instanceof ul&&r instanceof ul?lo(n.gt,r.gt):n instanceof al&&r instanceof al);var n,r}(i,o))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class cl extends Cy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends Cy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qH(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WH(t,e,n){const r=new Map;ce(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hme(s,a,n[i]))}return r}function KH(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,dme(o,s,e))}return r}class ll extends Cy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WA extends Cy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&gme(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Af(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Af(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kH();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=zH(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(n,r)=>GH(n,r))&&tl(this.baseMutations,e.baseMutations,(n,r)=>GH(n,r))}}class QA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length);let i=ume;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new QA(e,n,r,i)}}class YA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yme{constructor(e,n){this.count=e,this.unchangedNames=n}}var sn,$e;function YH(t){if(void 0===t)return Zt("GRPC error has no .code"),L.UNKNOWN;switch(t){case sn.OK:return L.OK;case sn.CANCELLED:return L.CANCELLED;case sn.UNKNOWN:return L.UNKNOWN;case sn.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case sn.INTERNAL:return L.INTERNAL;case sn.UNAVAILABLE:return L.UNAVAILABLE;case sn.UNAUTHENTICATED:return L.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case sn.NOT_FOUND:return L.NOT_FOUND;case sn.ALREADY_EXISTS:return L.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return L.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case sn.ABORTED:return L.ABORTED;case sn.OUT_OF_RANGE:return L.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return L.UNIMPLEMENTED;case sn.DATA_LOSS:return L.DATA_LOSS;default:return se()}}($e=sn||(sn={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";class XA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return by}static getOrCreateInstance(){return null===by&&(by=new XA),by}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let by=null;const vme=new Zc([4294967295,4294967295],0);function JH(t){const e=function XH(){return new TextEncoder}().encode(t),n=new pge;return n.update(e),new Uint8Array(n.digest())}function ZH(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Zc([n,r],0),new Zc([i,o],0)]}class JA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xf(`Invalid padding: ${n}`);if(r<0)throw new xf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new xf(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new xf(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Zc.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Zc.fromNumber(r)));return 1===i.compare(vme)&&(i=new Zc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=JH(e),[r,i]=ZH(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new JA(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const n=JH(e),[r,i]=ZH(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class xf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Nf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mf(le.min(),i,new yt(Ee),Pr(),Me())}}class Nf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nf(r,n,Me(),Me(),Me())}}class Iy{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class ez{constructor(e,n){this.targetId=e,this.Vt=n}}class tz{constructor(e,n,r=gn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class nz{constructor(){this.St=0,this.Dt=iz(),this.Ct=gn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Me(),n=Me(),r=Me();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new Nf(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=iz()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wme{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Pr(),this.zt=rz(),this.Wt=new yt(Ee)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(my(s))if(0===i){const a=new Z(s.path);this.Yt(r,a,Dt.newNoDocument(a,le.min()))}else ce(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=XA.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,p,y,E,D,N;const T={localCacheCount:l,existenceFilterCount:d.count},$=d.unchangedNames;return $&&(T.bloomFilter={applied:0===c,hashCount:null!==(h=$?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(E=null===(y=null===(p=$?.bits)||void 0===p?void 0:p.bitmap)||void 0===y?void 0:y.length)&&void 0!==E?E:0,padding:null!==(N=null===(D=$?.bits)||void 0===D?void 0:D.padding)&&void 0!==N?N:0}),T}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let u,c;try{u=Zo(o).toUint8Array()}catch(l){if(l instanceof cH)return Mi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new JA(u,s,a)}catch(l){return Mi(l instanceof xf?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&my(a.target)){const u=new Z(a.target.path);null!==this.jt.get(u)||this.ae(s,u)||this.Yt(s,u,Dt.newNoDocument(u,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=Me();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Mf(e,n,this.Wt,this.jt,r);return this.jt=Pr(),this.zt=rz(),this.Wt=new yt(Ee),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new nz,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new It(Ee),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||K("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nz),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function rz(){return new yt(Z.comparator)}function iz(){return new yt(Z.comparator)}const Eme={asc:"ASCENDING",desc:"DESCENDING"},Cme={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bme={and:"AND",or:"OR"};class Ime{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ZA(t,e){return t.useProto3Json||mf(e)?e:{value:e}}function dl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oz(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Dme(t,e){return dl(t,e.toTimestamp())}function tn(t){return ce(!!t),le.fromTimestamp(function(e){const n=zs(e);return new Ut(n.seconds,n.nanos)}(t))}function e1(t,e){return(n=t,new je(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function sz(t){const e=je.fromString(t);return ce(gz(e)),e}function Rf(t,e){return e1(t.databaseId,e.path)}function fo(t,e){const n=sz(e);if(n.get(1)!==t.databaseId.projectId)throw new W(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(uz(n))}function t1(t,e){return e1(t.databaseId,e)}function Of(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uz(t){return ce(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function cz(t,e,n){return{name:Rf(t,e),fields:n.value.mapValue.fields}}function dz(t,e){return{documents:[t1(t,e.path)]}}function r1(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=t1(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=t1(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return pz(ot.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(0!==u.length)return u.map(c=>{return{field:Qs((l=c).field),direction:Mme(l.dir)};var l})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=ZA(t,e.limit);var a,u;return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function hz(t){let e=function az(t){const e=sz(t);return 4===e.length?je.emptyPath():uz(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let o=[];n.where&&(o=function(l){const d=fz(l);return d instanceof ot&&UA(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(l=>{return new il(hl((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,mf(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ks((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ks(l.values||[],!l.before)}(n.endAt)),function AH(t,e,n,r,i,o,s,a){return new es(t,e,n,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function fz(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=hl(e.unaryFilter.field);return Le.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=hl(e.unaryFilter.field);return Le.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hl(e.unaryFilter.field);return Le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=hl(e.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):void 0!==t.fieldFilter?Le.create(hl((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return ot.create(e.compositeFilter.filters.map(n=>fz(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return se()}}(e.compositeFilter.op))}(t):se();var e}function Mme(t){return Eme[t]}function Nme(t){return Cme[t]}function Rme(t){return bme[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function hl(t){return en.fromServerFormat(t.fieldPath)}function pz(t){return t instanceof Le?function(e){if("=="===e.op){if(hH(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NAN"}};if(dH(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hH(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NAN"}};if(dH(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(e.field),op:Nme(e.op),value:e.value}}}(t):t instanceof ot?function(e){const n=e.getFilters().map(r=>pz(r));return 1===n.length?n[0]:{compositeFilter:{op:Rme(e.op),filters:n}}}(t):se()}function Ome(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class rs{constructor(e,n,r,i,o=le.min(),s=le.min(),a=gn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mz{constructor(e){this.fe=e}}function i1(t){const e=hz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?vy(e,e.limit,"L"):e}class du{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Gt(e.integerValue));else if("doubleValue"in e){const r=Gt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),_f(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Zo(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?fH(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):se()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),Z.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}du.Ve=new du;class $me{constructor(){this.rn=new l1}addToCollectionParentIndex(e,n){return this.rn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(qr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class l1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(je.comparator)).toArray()}}new Uint8Array(0);class ir{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ir(e,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ir.DEFAULT_COLLECTION_PERCENTILE=10,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ir.DEFAULT=new ir(41943040,ir.DEFAULT_COLLECTION_PERCENTILE,ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ir.DISABLED=new ir(-1,0,0);class fu{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fu(0)}static Mn(){return new fu(-1)}}class Kme{constructor(){this.changes=new ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Xme{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $z{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Af(r.mutation,i,Or.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Df();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Pr();const s=Tf(),a=Tf();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ns)?o=o.insert(c.key,c):void 0!==l?(s.set(c.key,l.mutation.getFieldMask()),Af(l.mutation,c,l.mutation.getFieldMask(),Ut.now())):s.set(c.key,Or.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,l)=>s.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Xme(l,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tf();let i=new yt((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Or.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Me()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=kH();l.forEach(h=>{if(!o.has(h)){const p=zH(n.get(h),r.get(h));null!==p&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return Z.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):HA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(ho());let a=-1,u=o;return s.next(c=>P.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(l)?P.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,Me())).next(l=>({batchId:a,changes:PH(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=Df();return this.indexManager.getCollectionParents(e,i).next(s=>P.forEach(s,a=>{const u=(c=n,l=a.child(i),new es(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{o=o.insert(l,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,u)=>{const c=u.getKey();null===o.get(c)&&(o=o.insert(c,Dt.newInvalidDocument(c)))});let s=Df();return o.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Af(c.mutation,u,Or.empty(),Ut.now()),If(n,u)&&(s=s.insert(a,u))}),s})}}class Jme{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return P.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:tn(r.createTime)}),P.resolve()}getNamedQuery(e,n){return P.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:i1(r.bundledQuery),readTime:tn(r.readTime)}),P.resolve();var r}}class Zme{constructor(){this.overlays=new yt(Z.comparator),this.ls=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ho();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=ho(),o=n.length+1,s=new Z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new yt((c,l)=>c-l);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=o.get(c.largestBatchId);null===l&&(l=ho(),o=o.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ho(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return P.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new YA(n,r));let o=this.ls.get(n);void 0===o&&(o=Me(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}class d1{constructor(){this.fs=new It(xn.ds),this.ws=new It(xn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new xn(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new xn(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new Z(new je([])),r=new xn(n,e),i=new xn(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Z(new je([])),r=new xn(n,e),i=new xn(n,e+1);let o=Me();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new xn(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class xn{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Z.comparator(e.key,n.key)||Ee(e.As,n.As)}static _s(e,n){return Ee(e.As,n.As)||Z.comparator(e.key,n.key)}}class e_e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new It(xn.ds)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++;const s=new KA(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new xn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xn(n,0),i=new xn(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Ee);return n.forEach(i=>{const o=new xn(i,0),s=new xn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),P.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Z.isDocumentKey(o)||(o=o.child(""));const s=new xn(new Z(o),0);let a=new It(Ee);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},s),P.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){ce(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return P.forEach(n.mutations,i=>{const o=new xn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new xn(n,0),i=this.Rs.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return P.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class t_e{constructor(e){this.Ds=e,this.docs=new yt(Z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pr();const s=n.path,a=new Z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||RA(Y4(l),r)<=0||(i.has(l.key)||If(n,l))&&(o=o.insert(l.key,l.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Cs(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new n_e(this)}getSize(e){return P.resolve(this.size)}}class n_e extends Kme{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class r_e{constructor(e){this.persistence=e,this.xs=new ts(n=>iu(n),Cf),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Ns=0,this.ks=new d1,this.targetCount=0,this.Ms=fu.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),P.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new fu(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Fn(n),P.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ks.containsKey(n))}}class h1{constructor(e,n){this.$s={},this.overlays={},this.Os=new Wr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new r_e(this),this.indexManager=new $me,this.remoteDocumentCache=new t_e(r=>this.referenceDelegate.Ls(r)),this.serializer=new mz(n),this.qs=new Jme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zme,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new e_e(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new i_e(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return P.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class i_e extends Dge{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Qs=new d1,this.js=null}static zs(e){return new Oy(e)}get Ws(){if(this.js)return this.js;throw se()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),P.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Ws,r=>{const i=Z.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,le.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return P.or([()=>P.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class m1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Me(),i=Me();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new m1(e,n.fromCache,r,i)}}class zz{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(xH(n))return P.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=vy(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Me(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,s,u.readTime)?this.Ki(e,vy(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return xH(n)||i.isEqual(le.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(xA()<=Be.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),GA(n)),this.Wi(e,s,n,function Q4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(1e9===r?new Ut(n+1,0):new Ut(n,r));return new qr(i,Z.empty(),e)}(i,-1)))})}ji(e,n){let r=new It(RH(e));return n.forEach((i,o)=>{If(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const o="F"===e.limitType?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return xA()<=Be.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",GA(n)),this.Ui.getDocumentsMatchingQuery(e,n,qr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}class s_e{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new yt(Ee),this.Yi=new ts(o=>iu(o),Cf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $z(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function qz(t,e){return _1.apply(this,arguments)}function _1(){return _1=v(function*(t,e){const n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=Me();for(const c of i){s.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of o){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:s,addedBatchIds:a}))})})}),_1.apply(this,arguments)}function Wz(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function c_e(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ml(t,e,n){return y1.apply(this,arguments)}function y1(){return y1=v(function*(t,e,n){const r=te(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!$s(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),y1.apply(this,arguments)}function Fy(t,e,n){const r=te(t);let i=le.min(),o=Me();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,u,c){const l=te(a),d=l.Yi.get(c);return void 0!==d?P.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,s,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:le.min(),n?o:Me())).next(a=>(function Xz(t,e,n){let r=t.Xi.get(e)||le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}(r,function NH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:o})))}class b1{constructor(){this.activeTargetIds=function qA(){return lme}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eG{constructor(){this.Hr=new b1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new b1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class h_e{Yr(e){}shutdown(){}}class tG{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uy=null;function D1(){return null===Uy?Uy=268435456+Math.round(2147483648*Math.random()):Uy++,"0x"+Uy.toString(16)}const f_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p_e{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const or="WebChannelConnection";class g_e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=D1(),a=this.To(e,n);K("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const u={};return this.Eo(u,i,o),this.Ao(e,a,u,r).then(c=>(K("RestConnection",`Received RPC '${e}' ${s}: `,c),c),c=>{throw Mi("RestConnection",`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+el,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){return`${this.mo}/v1/${n}:${f_e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=D1();return new Promise((s,a)=>{const u=new fge;u.setWithCredentials(!0),u.listenOnce(lge.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case AA.NO_ERROR:const l=u.getResponseJson();K(or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(l)),s(l);break;case AA.TIMEOUT:K(or,`RPC '${e}' ${o} timed out`),a(new W(L.DEADLINE_EXCEEDED,"Request time out"));break;case AA.HTTP_ERROR:const d=u.getStatus();if(K(or,`RPC '${e}' ${o} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h?.error;if(p&&p.status&&p.message){const y=function(E){const D=E.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(D)>=0?D:L.UNKNOWN}(p.status);a(new W(y,p.message))}else a(new W(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(L.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{K(or,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);K(or,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=D1(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uge(),a=cge(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new hge({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=o.join("");K(or,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=s.createWebChannel(l,u);let h=!1,p=!1;const y=new p_e({ro:D=>{p?K(or,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(h||(K(or,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),K(or,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},oo:()=>d.close()}),E=(D,N,T)=>{D.listen(N,$=>{try{T($)}catch(Y){setTimeout(()=>{throw Y},0)}})};return E(d,oy.EventType.OPEN,()=>{p||K(or,`RPC '${e}' stream ${i} transport opened.`)}),E(d,oy.EventType.CLOSE,()=>{p||(p=!0,K(or,`RPC '${e}' stream ${i} transport closed`),y.wo())}),E(d,oy.EventType.ERROR,D=>{p||(p=!0,Mi(or,`RPC '${e}' stream ${i} transport errored:`,D),y.wo(new W(L.UNAVAILABLE,"The operation could not be completed")))}),E(d,oy.EventType.MESSAGE,D=>{var N;if(!p){const T=D.data[0];ce(!!T);const Y=T.error||(null===(N=T[0])||void 0===N?void 0:N.error);if(Y){K(or,`RPC '${e}' stream ${i} received error:`,Y);const ie=Y.status;let me=function(un){const hi=sn[un];if(void 0!==hi)return YH(hi)}(ie),Et=Y.message;void 0===me&&(me=L.INTERNAL,Et="Unknown error status: "+ie+" with message "+Y.message),p=!0,y.wo(new W(me,Et)),d.close()}else K(or,`RPC '${e}' stream ${i} received:`,T),y._o(T)}}),E(a,dge.STAT_EVENT,D=>{D.stat===H4.PROXY?K(or,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===H4.NOPROXY&&K(or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function By(){return typeof document<"u"?document:null}function Hf(t){return new Ime(t,!0)}class T1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class rG{constructor(e,n,r,i,o,s,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new T1(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return v(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return v(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return v(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Zt(n.toString()),Zt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===L.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new W(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(v(function*(){e.state=0,e.start()}))}tu(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m_e extends rG{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Sme(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:se(),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ce(void 0===c||"string"==typeof c),gn.fromBase64String(c||"")):(ce(void 0===c||c instanceof Uint8Array),gn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=void 0===u.code?L.UNKNOWN:YH(u.code);return new W(c,u.message||"")}(s);n=new tz(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=fo(t,r.document.name),o=tn(r.document.updateTime),s=r.document.createTime?tn(r.document.createTime):le.min(),a=new Hn({mapValue:{fields:r.document.fields}}),u=Dt.newFoundDocument(i,o,s,a);n=new Iy(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=fo(t,r.document),o=r.readTime?tn(r.readTime):le.min(),s=Dt.newNoDocument(i,o);n=new Iy([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=fo(t,r.document);n=new Iy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return se();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new yme(i,o);n=new ez(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?tn(o.readTime):le.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Of(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=my(a)?{documents:dz(i,a)}:{query:r1(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=oz(i,o.resumeToken);const u=ZA(i,o.expectedCount);null!==u&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(le.min())>0){s.readTime=dl(i,o.snapshotVersion.toTimestamp());const u=ZA(i,o.expectedCount);null!==u&&(s.expectedCount=u)}return s}(this.serializer,e);const r=function xme(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Of(this.serializer),n.removeTarget=e,this.Wo(n)}}class __e extends rG{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Ame(t,e){return t&&t.length>0?(ce(void 0!==e),t.map(n=>function(r,i){let o=tn(r.updateTime?r.updateTime:i);return o.isEqual(le.min())&&(o=tn(i)),new pme(o,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.cu(r,n)}return ce(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Of(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Pf(t,e){let n;if(e instanceof cl)n={update:cz(t,e.key,e.value)};else if(e instanceof ll)n={delete:Rf(t,e.key)};else if(e instanceof ns)n={update:cz(t,e.key,e.data),updateMask:Ome(e.fieldMask)};else{if(!(e instanceof WA))return se();n={verify:Rf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof al)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof au)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof ul)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Dme(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:se()),n;var i}(this.serializer,r))};this.Wo(n)}}class y_e extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new W(L.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(L.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(L.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class w_e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Zt(n),this.mu=!1):K("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class E_e{constructor(e,n,r,i,o){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(v(function*(){var u;Zs(s)&&(K("RemoteStore","Restarting streams for network reachability change."),yield(u=v(function*(c){const l=te(c);l.vu.add(4),yield _l(l),l.bu.set("Unknown"),l.vu.delete(4),yield zf(l)}),function(c){return u.apply(this,arguments)})(s))}))}),this.bu=new w_e(r,i)}}function zf(t){return A1.apply(this,arguments)}function A1(){return A1=v(function*(t){if(Zs(t))for(const e of t.Ru)yield e(!0)}),A1.apply(this,arguments)}function _l(t){return x1.apply(this,arguments)}function x1(){return x1=v(function*(t){for(const e of t.Ru)yield e(!1)}),x1.apply(this,arguments)}function jy(t,e){const n=te(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),R1(n)?N1(n):vl(n).Ko()&&M1(n,e))}function Gf(t,e){const n=te(t),r=vl(n);n.Au.delete(e),r.Ko()&&iG(n,e),0===n.Au.size&&(r.Ko()?r.jo():Zs(n)&&n.bu.set("Unknown"))}function M1(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).su(e)}function iG(t,e){t.Vu.qt(e),vl(t).iu(e)}function N1(t){t.Vu=new wme({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.bu.gu()}function R1(t){return Zs(t)&&!vl(t).Uo()&&t.Au.size>0}function Zs(t){return 0===te(t).vu.size}function oG(t){t.Vu=void 0}function C_e(t){return O1.apply(this,arguments)}function O1(){return O1=v(function*(t){t.Au.forEach((e,n)=>{M1(t,e)})}),O1.apply(this,arguments)}function b_e(t,e){return P1.apply(this,arguments)}function P1(){return P1=v(function*(t,e){oG(t),R1(t)?(t.bu.Iu(e),N1(t)):t.bu.set("Unknown")}),P1.apply(this,arguments)}function I_e(t,e,n){return k1.apply(this,arguments)}function k1(){return k1=v(function*(t,e,n){if(t.bu.set("Online"),e instanceof tz&&2===e.state&&e.cause)try{yield(r=v(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $y(t,r)}else if(e instanceof Iy?t.Vu.Ht(e):e instanceof ez?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(le.min()))try{const r=yield Wz(t.localStore);n.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(gn.EMPTY_BYTE_STRING,c.snapshotVersion)),iG(i,a);const l=new rs(c.target,a,u,c.sequenceNumber);M1(i,l)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield $y(t,r)}var r}),k1.apply(this,arguments)}function $y(t,e,n){return F1.apply(this,arguments)}function F1(){return F1=v(function*(t,e,n){if(!$s(e))throw e;t.vu.add(1),yield _l(t),t.bu.set("Offline"),n||(n=()=>Wz(t.localStore)),t.asyncQueue.enqueueRetryable(v(function*(){K("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield zf(t)}))}),F1.apply(this,arguments)}function sG(t,e){return e().catch(n=>$y(t,n,e))}function yl(t){return L1.apply(this,arguments)}function L1(){return L1=v(function*(t){const e=te(t),n=ea(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;D_e(e);)try{const i=yield c_e(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,T_e(e,i)}catch(i){yield $y(e,i)}aG(e)&&uG(e)}),L1.apply(this,arguments)}function D_e(t){return Zs(t)&&t.Eu.length<10}function T_e(t,e){t.Eu.push(e);const n=ea(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function aG(t){return Zs(t)&&!ea(t).Uo()&&t.Eu.length>0}function uG(t){ea(t).start()}function S_e(t){return V1.apply(this,arguments)}function V1(){return V1=v(function*(t){ea(t).hu()}),V1.apply(this,arguments)}function A_e(t){return U1.apply(this,arguments)}function U1(){return U1=v(function*(t){const e=ea(t);for(const n of t.Eu)e.uu(n.mutations)}),U1.apply(this,arguments)}function x_e(t,e,n){return B1.apply(this,arguments)}function B1(){return B1=v(function*(t,e,n){const r=t.Eu.shift(),i=QA.from(r,e,n);yield sG(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yl(t)}),B1.apply(this,arguments)}function M_e(t,e){return j1.apply(this,arguments)}function j1(){return j1=v(function*(t,e){var n;e&&ea(t).ou&&(yield(n=v(function*(r,i){if(function QH(t){switch(t){default:return se();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}(o=i.code)&&o!==L.ABORTED){const s=r.Eu.shift();ea(r).Qo(),yield sG(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield yl(r)}var o}),function(r,i){return n.apply(this,arguments)})(t,e)),aG(t)&&uG(t)}),j1.apply(this,arguments)}function cG(t,e){return $1.apply(this,arguments)}function $1(){return $1=v(function*(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.vu.add(3),yield _l(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield zf(n)}),$1.apply(this,arguments)}function z1(){return z1=v(function*(t,e){const n=te(t);e?(n.vu.delete(2),yield zf(n)):e||(n.vu.add(2),yield _l(n),n.bu.set("Unknown"))}),z1.apply(this,arguments)}function vl(t){return t.Su||(t.Su=function(e,n,r){const i=te(e);return i.fu(),new m_e(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:C_e.bind(null,t),ao:b_e.bind(null,t),nu:I_e.bind(null,t)}),t.Ru.push(function(){var e=v(function*(n){n?(t.Su.Qo(),R1(t)?N1(t):t.bu.set("Unknown")):(yield t.Su.stop(),oG(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function ea(t){return t.Du||(t.Du=function(e,n,r){const i=te(e);return i.fu(),new __e(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:S_e.bind(null,t),ao:M_e.bind(null,t),au:A_e.bind(null,t),cu:x_e.bind(null,t)}),t.Ru.push(function(){var e=v(function*(n){n?(t.Du.Qo(),yield yl(t)):(yield t.Du.stop(),t.Eu.length>0&&(K("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class G1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new G1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new W(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wl(t,e){if(Zt("AsyncQueue",`${e}: ${t}`),$s(t))return new W(L.UNAVAILABLE,`${e}: ${t}`);throw t}class El{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class lG{constructor(){this.Cu=new yt(Z.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):se():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cl{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Cl(e,n,El.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class N_e{constructor(){this.Nu=void 0,this.listeners=[]}}class R_e{constructor(){this.queries=new ts(e=>MH(e),bf),this.onlineState="Unknown",this.ku=new Set}}function q1(t,e){return W1.apply(this,arguments)}function W1(){return W1=v(function*(t,e){const n=te(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new N_e),i)try{o.Nu=yield n.onListen(r)}catch(s){const a=wl(s,`Initialization of query '${GA(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Y1(n)}),W1.apply(this,arguments)}function K1(t,e){return Q1.apply(this,arguments)}function Q1(){return Q1=v(function*(t,e){const n=te(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Q1.apply(this,arguments)}function O_e(t,e){const n=te(t);let r=!1;for(const i of e){const s=n.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&Y1(n)}function P_e(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Y1(t){t.ku.forEach(e=>{e.next()})}class X1{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class fG{constructor(e){this.key=e}}class pG{constructor(e){this.key=e}}class gG{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Me(),this.mutatedKeys=Me(),this.tc=RH(e),this.ec=new El(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new lG,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),p=If(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let D=!1;h&&p?h.data.isEqual(p.data)?y!==E&&(r.track({type:3,doc:p}),D=!0):this.rc(h,p)||(r.track({type:2,doc:p}),D=!0,(u&&this.tc(p,u)>0||c&&this.tc(p,c)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),D=!0):h&&!p&&(r.track({type:1,doc:h}),D=!0,(u||c)&&(a=!0)),D&&(p?(s=s.add(p),o=E?o.add(l):o.delete(l)):(s=s.delete(l),o=o.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,l)=>function(d,h){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return p(d)-p(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const s=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==o.length||u?{snapshot:new Cl(this.query,e.ec,i,o,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new lG,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Me(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new pG(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new fG(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Me();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Cl.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class L_e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class V_e{constructor(e){this.key=e,this.fc=!1}}class U_e{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ts(a=>MH(a),bf),this._c=new Map,this.mc=new Set,this.gc=new yt(Z.comparator),this.yc=new Map,this.Ic=new d1,this.Tc={},this.Ec=new Map,this.Ac=fu.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function B_e(t,e){return J1.apply(this,arguments)}function J1(){return J1=v(function*(t,e){const n=function Ex(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mG.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q_e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=H_e.bind(null,e),e.dc.nu=O_e.bind(null,e.eventManager),e.dc.Pc=P_e.bind(null,e.eventManager),e}(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function gl(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new rs(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,_r(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function Z1(t,e,n,r,i){return ex.apply(this,arguments)}(n,e,r,"current"===a,s.resumeToken),n.isPrimaryClient&&jy(n.remoteStore,s)}return i}),J1.apply(this,arguments)}function ex(){return ex=v(function*(t,e,n,r,i){t.Rc=(d,h,p)=>{return(y=v(function*(E,D,N,T){let $=D.view.sc(N);$.zi&&($=yield Fy(E.localStore,D.query,!1).then(({documents:me})=>D.view.sc(me,$)));const Y=T&&T.targetChanges.get(D.targetId),ie=D.view.applyChanges($,E.isPrimaryClient,Y);return lx(E,D.targetId,ie.cc),ie.snapshot}),function(E,D,N,T){return y.apply(this,arguments)})(t,d,h,p);var y};const o=yield Fy(t.localStore,e,!0),s=new gG(e,o.ir),a=s.sc(o.documents),u=Nf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=s.applyChanges(a,t.isPrimaryClient,u);lx(t,n,c.cc);const l=new L_e(e,n,s);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),ex.apply(this,arguments)}function j_e(t,e){return tx.apply(this,arguments)}function tx(){return tx=v(function*(t,e){const n=te(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!bf(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ml(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gf(n.remoteStore,r.targetId),bl(n,r.targetId)}).catch(js))):(bl(n,r.targetId),yield ml(n.localStore,r.targetId,!0))}),tx.apply(this,arguments)}function nx(){return nx=v(function*(t,e,n){const r=function Cx(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z_e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G_e.bind(null,e),e}(t);try{const i=yield function(o,s){const a=te(o),u=Ut.now(),c=s.reduce((h,p)=>h.add(p.key),Me());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Pr(),y=Me();return a.Zi.getEntries(h,c).next(E=>{p=E,p.forEach((D,N)=>{N.isValidDocument()||(y=y.add(D))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(E=>{l=E;const D=[];for(const N of s){const T=mme(N,l.get(N.key).overlayedDocument);null!=T&&D.push(new ns(N.key,T,mH(T.value.mapValue),Nt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,D,s)}).next(E=>{d=E;const D=E.applyToLocalDocumentSet(l,y);return a.documentOverlayCache.saveOverlays(h,E.batchId,D)})}).then(()=>({batchId:d.batchId,changes:PH(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let u=o.Tc[o.currentUser.toKey()];u||(u=new yt(Ee)),u=u.insert(s,a),o.Tc[o.currentUser.toKey()]=u}(r,i.batchId,n),yield is(r,i.changes),yield yl(r.remoteStore)}catch(i){const o=wl(i,"Failed to persist write");n.reject(o)}}),nx.apply(this,arguments)}function mG(t,e){return rx.apply(this,arguments)}function rx(){return rx=v(function*(t,e){const n=te(t);try{const r=yield function u_e(t,e){const n=te(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(o,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,l.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);var y,E,D;null!==e.targetMismatches.get(d)?p=p.withResumeToken(gn.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),E=p,D=l,(0===(y=h).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(o,p))});let u=Pr(),c=Me();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,l))}),a.push(function Kz(t,e,n){let r=Me(),i=Me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pr();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(le.min())){const l=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(l)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.Ji=i,o))}(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?ce(s.fc):i.removedDocuments.size>0&&(ce(s.fc),s.fc=!1))}),yield is(n,r,e)}catch(r){yield js(r)}}),rx.apply(this,arguments)}function _G(t,e,n){const r=te(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=te(o);a.onlineState=s;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(s)&&(u=!0)}),u&&Y1(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function H_e(t,e,n){return ix.apply(this,arguments)}function ix(){return ix=v(function*(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new yt(Z.comparator);s=s.insert(o,Dt.newNoDocument(o,le.min()));const a=Me().add(o),u=new Mf(le.min(),new Map,new yt(Ee),s,a);yield mG(r,u),r.gc=r.gc.remove(o),r.yc.delete(e),dx(r)}else yield ml(r.localStore,e,!1).then(()=>bl(r,e,n)).catch(js)}),ix.apply(this,arguments)}function z_e(t,e){return ox.apply(this,arguments)}function ox(){return ox=v(function*(t,e){const n=te(t),r=e.batch.batchId;try{const i=yield function a_e(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,u,c){const l=u.batch,d=l.keys();let h=P.resolve();return d.forEach(p=>{h=h.next(()=>c.getEntry(a,p)).next(y=>{const E=u.docVersions.get(p);ce(null!==E),y.version.compareTo(E)<0&&(l.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,l))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Me();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(a=a.add(s.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);cx(n,r,null),ux(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield is(n,i)}catch(i){yield js(i)}}),ox.apply(this,arguments)}function G_e(t,e,n){return sx.apply(this,arguments)}function sx(){return sx=v(function*(t,e,n){const r=te(t);try{const i=yield function(o,s){const a=te(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,s).next(l=>(ce(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);cx(r,e,n),ux(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield is(r,i)}catch(i){yield js(i)}}),sx.apply(this,arguments)}function ux(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function cx(t,e,n){const r=te(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function bl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||yG(t,r)})}function yG(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Gf(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),dx(t))}function lx(t,e,n){for(const r of n)r instanceof fG?(t.Ic.addReference(r.key,e),W_e(t,r)):r instanceof pG?(K("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||yG(t,r.key)):se()}function W_e(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(K("SyncEngine","New document in limbo: "+n),t.mc.add(r),dx(t))}function dx(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Z(je.fromString(e)),r=t.Ac.next();t.yc.set(r,new V_e(n)),t.gc=t.gc.insert(n,r),jy(t.remoteStore,new rs(_r(sl(n.path)),r,"TargetPurposeLimboResolution",Wr.ct))}}function is(t,e,n){return hx.apply(this,arguments)}function hx(){return hx=v(function*(t,e,n){const r=te(t),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{s.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=m1.Li(u.targetId,c);o.push(l)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=v(function*(u,c){const l=te(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>P.forEach(c,h=>P.forEach(h.Fi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>P.forEach(h.Bi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!$s(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const p=l.Ji.get(h),E=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);l.Ji=l.Ji.insert(h,E)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,o))}),hx.apply(this,arguments)}function K_e(t,e){return fx.apply(this,arguments)}function fx(){return fx=v(function*(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=yield qz(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(s=>{s.forEach(a=>{a.reject(new W(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield is(n,r.er)}var i}),fx.apply(this,arguments)}function Q_e(t,e){const n=te(t),r=n.yc.get(e);if(r&&r.fc)return Me().add(r.key);{let i=Me();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}class Hy{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return v(function*(){n.serializer=Hf(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function Gz(t,e,n,r){return new s_e(t,e,n,r)}(this.persistence,new zz,e.initialUser,this.serializer)}createPersistence(e){return new h1(Oy.zs,this.serializer)}createSharedClientState(e){return new eG}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Il{initialize(e,n){var r=this;return v(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>_G(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=K_e.bind(null,r.syncEngine),yield function H1(t,e){return z1.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new R_e}createDatastore(e){const n=Hf(e.databaseInfo.databaseId),r=new g_e(e.databaseInfo);return new y_e(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>_G(this.syncEngine,a,0),s=tG.D()?new tG:new h_e,new E_e(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,u,c){const l=new U_e(r,i,o,s,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=v(function*(n){const r=te(n);K("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield _l(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class zy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Zt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class uye{constructor(e,n,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=W4.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=v(function*(a){K("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new W(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=wl(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Gy(t,e){return bx.apply(this,arguments)}function bx(){return bx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=v(function*(o){r.isEqual(o)||(yield qz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),bx.apply(this,arguments)}function Ix(t,e){return Dx.apply(this,arguments)}function Dx(){return Dx=v(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Tx(t){return Sx.apply(this,arguments)}(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>cG(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>cG(e.remoteStore,o)),t._onlineComponents=e}),Dx.apply(this,arguments)}function Sx(){return Sx=v(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Gy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function IG(t){return"FirebaseError"===t.name?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Mi("Error using user provided cache. Falling back to memory cache: "+n),yield Gy(t,new Hy)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield Gy(t,new Hy);return t._offlineComponents}),Sx.apply(this,arguments)}function qy(t){return Ax.apply(this,arguments)}function Ax(){return Ax=v(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ix(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield Ix(t,new Il))),t._onlineComponents}),Ax.apply(this,arguments)}function Dl(t){return Mx.apply(this,arguments)}function Mx(){return Mx=v(function*(t){const e=yield qy(t),n=e.eventManager;return n.onListen=B_e.bind(null,e.syncEngine),n.onUnlisten=j_e.bind(null,e.syncEngine),n}),Mx.apply(this,arguments)}function MG(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const NG=new Map;function Nx(t,e,n){if(!n)throw new W(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RG(t){if(!Z.isDocumentKey(t))throw new W(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OG(t){if(Z.isDocumentKey(t))throw new W(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ky(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":se()}function Ve(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ky(t);throw new W(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class kG{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new W(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new W(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function _ye(t,e,n,r){if(!0===e&&!0===r)throw new W(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=MG(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new W(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kG(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new gge;switch(n.type){case"firstParty":return new vge(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new W(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=NG.get(e);n&&(K("ComponentProvider","Removing Datastore"),NG.delete(e),n.terminate())}(this),Promise.resolve()}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class zn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zn(this.firestore,e,this._query)}}class po extends zn{constructor(e,n,r){super(e,n,sl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new Z(e))}withConverter(e){return new po(this.firestore,e,this._path)}}function vye(t,e,...n){if(t=Mt(t),Nx("collection","path",e),t instanceof qf){const r=je.fromString(e,...n);return OG(r),new po(t,null,r)}{if(!(t instanceof nn||t instanceof po))throw new W(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return OG(r),new po(t.firestore,null,r)}}function FG(t,e,...n){if(t=Mt(t),1===arguments.length&&(e=W4.A()),Nx("doc","path",e),t instanceof qf){const r=je.fromString(e,...n);return RG(r),new nn(t,null,new Z(r))}{if(!(t instanceof nn||t instanceof po))throw new W(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return RG(r),new nn(t.firestore,t instanceof po?t.converter:null,new Z(r))}}class wye{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new T1(this,"async_queue_retry"),this.Xc=()=>{const n=By();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=By();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=By();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new pn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!$s(n))throw n;K("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Zt("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=G1.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&se()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Tt extends qf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wye,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VG(this),this._firestoreClient.terminate()}}function Cye(t,e){const r="string"==typeof t?t:e||"(default)",i=Ms("object"==typeof t?t:vh(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=JC("firestore");o&&function yye(t,e,n,r={}){var i;const o=(t=Ve(t,qf))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Sn.MOCK_USER;else{a=AB(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sn(c)}t._authCredentials=new mge(new G4(a,u))}}(i,...o)}return i}function an(t){return t._firestoreClient||VG(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function VG(t){var e,n,r;const i=t._freezeSettings(),o=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Qge(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,MG(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new uye(t._authCredentials,t._appCheckCredentials,t._queue,o),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gu(gn.fromBase64String(e))}catch(n){throw new W(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gu(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tl{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new W(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ox{constructor(e){this._methodName=e}}class Px{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}const Iye=/^__.*__$/;class Dye{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new cl(e,this.data,n,this.fieldTransforms)}}class jG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $G(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Qy{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Qy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if($G(this.ca)&&Iye.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Tye{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(e)}ya(e,n,r,i=!1){return new Qy({ca:e,methodName:n,ga:r,path:en.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sl(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new Tye(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kx(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);Lx("Data must be an object, but it was:",s,r);const a=WG(r,s);let u,c;if(o.merge)u=new Or(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const l=[];for(const d of o.mergeFields){const h=Qf(e,d,n);if(!s.contains(h))throw new W(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QG(l,h)||l.push(h)}u=new Or(l),c=s.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=s.fieldTransforms;return new Dye(new Hn(a),u,c)}class Kf extends Ox{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function mu(t,e){if(KG(t=Mt(t)))return Lx("Unsupported field value:",e,t),WG(t,e);if(t instanceof Ox)return function(n,r){if(!$G(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=mu(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Mt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return VH(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ut.fromDate(n);return{timestampValue:dl(r.serializer,i)}}if(n instanceof Ut){const i=new Ut(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dl(r.serializer,i)}}if(n instanceof Px)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof gu)return{bytesValue:oz(r.serializer,n._byteString)};if(n instanceof nn){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:e1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Ky(n)}`)}(t,e)}function WG(t,e){const n={};return aH(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const o=mu(i,e.ha(r));null!=o&&(n[r]=o)}),{mapValue:{fields:n}}}function KG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof Px||t instanceof gu||t instanceof nn||t instanceof Ox)}function Lx(t,e,n){if(!KG(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ky(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function Qf(t,e,n){if((e=Mt(e))instanceof Tl)return e._internalPath;if("string"==typeof e)return Yy(t,e);throw Xy("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mye=new RegExp("[~\\*/\\[\\]]");function Yy(t,e,n){if(e.search(Mye)>=0)throw Xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tl(...e.split("."))._internalPath}catch{throw Xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(L.INVALID_ARGUMENT,a+t+u)}function QG(t,e){return t.some(n=>n.isEqual(e))}class Vx{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Nye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Nye extends Vx{data(){return super.data()}}function Jy(t,e){return"string"==typeof e?Yy(t,e):e instanceof Tl?e._internalPath:e._delegate._internalPath}class Ux{}class Rye extends Ux{}function Oye(t,e,...n){let r=[];e instanceof Ux&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof Al).length,s=i.filter(a=>a instanceof Yf).length;if(o>1||o>0&&s>0)throw new W(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yf extends Rye{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yf(e,n,r)}_apply(e){const n=this._parse(e);return e5(e._query,n),new zn(e.firestore,e.converter,zA(e._query,n))}_parse(e){const n=Sl(e.firestore);return function(i,o,s,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new W(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){ZG(l,c);const h=[];for(const p of l)h.push(JG(a,i,p));d={arrayValue:{values:h}}}else d=JG(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||ZG(l,c),d=function qG(t,e,n,r=!1){return mu(n,t.ya(r?4:3,e))}(s,"where",l,"in"===c||"not-in"===c);return Le.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function Pye(t,e,n){const r=e,i=Jy("where",t);return Yf._create(i,r,n)}class Al extends Ux{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Al(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:ot.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)e5(o,a),o=zA(o,a)}(e._query,n),new zn(e.firestore,e.converter,zA(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function JG(t,e,n){if("string"==typeof(n=Mt(n))){if(""===n)throw new W(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HA(e)&&-1!==n.indexOf("/"))throw new W(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!Z.isDocumentKey(r))throw new W(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ru(t,new Z(r))}if(n instanceof nn)return ru(t,n._key);throw new W(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ky(n)}.`)}function ZG(t,e){if(!Array.isArray(t)||0===t.length)throw new W(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e5(t,e){if(e.isInequality()){const r=yy(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new W(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=$A(t);null!==o&&function t5(t,e,n){if(!n.isEqual(e))throw new W(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new W(L.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kye{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Px(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hy(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yf(e));default:return null}}convertTimestamp(e){const n=zs(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);ce(gz(r));const i=new nu(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(n)||Zt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xl extends Vx{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nv extends xl{data(e={}){return super.data(e)}}class Ml{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _u(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nv(this._firestore,this._userDataWriter,r.key,r,new _u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new nv(r._firestore,r._userDataWriter,s.doc.key,s.doc,new _u(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new nv(r._firestore,r._userDataWriter,s.doc.key,s.doc,new _u(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==s.type&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:Lye(s.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lye(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}function Vye(t){t=Ve(t,nn);const e=Ve(t.firestore,Tt);return function AG(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(v(function*(){return function(i,o,s,a,u){const c=new zy({next:d=>{o.enqueueAndForget(()=>K1(i,l));const h=d.docs.has(s);!h&&d.fromCache?u.reject(new W(L.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new W(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new X1(sl(s.path),c,{includeMetadataChanges:!0,Ku:!0});return q1(i,l)}(yield Dl(t),t.asyncQueue,e,n,r)})),r.promise}(an(e),t._key).then(n=>function $x(t,e,n){const r=n.docs.get(e._key),i=new ta(t);return new xl(t,i,e._key,r,new _u(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class ta extends kye{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function Uye(t){t=Ve(t,zn);const e=Ve(t.firestore,Tt),n=an(e),r=new ta(e);return function YG(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new W(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function xG(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(v(function*(){return function(i,o,s,a,u){const c=new zy({next:d=>{o.enqueueAndForget(()=>K1(i,l)),d.fromCache&&"server"===a.source?u.reject(new W(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new X1(s,c,{includeMetadataChanges:!0,Ku:!0});return q1(i,l)}(yield Dl(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Ml(e,r,t,i))}function Bye(t,e,n){t=Ve(t,nn);const r=Ve(t.firestore,Tt),i=function jx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e,n);return Xf(r,[kx(Sl(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Nt.none())])}function jye(t,e,n,...r){t=Ve(t,nn);const i=Ve(t.firestore,Tt),o=Sl(i);let s;return s="string"==typeof(e=Mt(e))||e instanceof Tl?function GG(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[Qf(e,r,n)],u=[i];if(o.length%2!=0)throw new W(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Qf(e,o[h])),u.push(o[h+1]);const c=[],l=Hn.empty();for(let h=a.length-1;h>=0;--h)if(!QG(c,a[h])){const p=a[h];let y=u[h];y=Mt(y);const E=s.da(p);if(y instanceof Kf)c.push(p);else{const D=mu(y,E);null!=D&&(c.push(p),l.set(p,D))}}const d=new Or(c);return new jG(l,d,s.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function zG(t,e,n,r){const i=t.ya(1,e,n);Lx("Data must be an object, but it was:",i,r);const o=[],s=Hn.empty();Hs(r,(u,c)=>{const l=Yy(e,u,n);c=Mt(c);const d=i.da(l);if(c instanceof Kf)o.push(l);else{const h=mu(c,d);null!=h&&(o.push(l),s.set(l,h))}});const a=new Or(o);return new jG(s,a,i.fieldTransforms)}(o,"updateDoc",t._key,e),Xf(i,[s.toMutation(t._key,Nt.exists(!0))])}function $ye(t){return Xf(Ve(t.firestore,Tt),[new ll(t._key,Nt.none())])}function Xf(t,e){return function(n,r){const i=new pn;return n.asyncQueue.enqueueAndForget(v(function*(){return function $_e(t,e,n){return nx.apply(this,arguments)}(yield function xx(t){return qy(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(an(t),e)}!function(t,e=!0){el=Ns,Ln(new En("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Tt(new _ge(n.getProvider("auth-internal")),new wge(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new W(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(a.options.projectId,u)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),at(z4,"3.13.0",t),at(z4,"3.13.0","esm2017")}();class sr{constructor(e){return e}}const i5="firestore",Hx=new ae("angularfire2.firestore-instances");function nve(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sr(r)}}const rve={provide:class eve{constructor(){return Ih(i5)}},deps:[[new Ft,Hx]]},ive={provide:sr,useFactory:function tve(t,e){const n=bh(i5,t,e);return n&&new sr(n)},deps:[[new Ft,Hx],Os]};let ove=(()=>{class t{constructor(){at("angularfire",jc.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({providers:[ive,rve]}),t})();function sve(t,...e){return{ngModule:ove,providers:[{provide:Hx,useFactory:nve(t),multi:!0,deps:[tt,lr,Dh,Th,[new Ft,R_],[new Ft,xh],...e]}]}}const Mn=bn(vye,!0),Nl=bn($ye,!0),yr=bn(FG,!0),ave=bn(Vye,!0),mn=bn(Uye,!0),uve=bn(Cye,!0),yu=bn(Oye,!0),Rl=bn(Bye,!0),zx=bn(jye,!0),vu=bn(Pye,!0),cve=[{path:"auth",component:S3,children:[{path:"login",component:(()=>{class t{constructor(n,r,i){this.auth=n,this.router=r,this.firestore=i,this.data=[],this.nid=1,this.getData()}getData(){const n=Mn(this.firestore,"users");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){Qa(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}handleLogin(n){var r=this;return v(function*(){let i;ape(r.auth,n.email,n.password).then(function(){var o=v(function*(s){r.current=s.user.email,i=s.user.email;const a=yu(Mn(r.firestore,"users"),vu("email","==",i));console.log(r.auth.currentUser?.email),(yield mn(a)).forEach(c=>{console.log(c.id," => ",c.data());let l=c.data();console.log(l.role),"Adminitrador"==l.role?r.router.navigate(["/admin"]):"Investigador"==l.role?r.router.navigate(["/user/projects"]):"Cliente"==l.role&&r.router.navigate(["/client"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}}return t.\u0275fac=function(n){return new(n||t)(k(Jt),k(rt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-login"]],decls:20,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(n,r){if(1&n){const i=Hr();M(0,"p"),j(1,"login works!"),A(),M(2,"button",0),de("click",function(){return r.Salir()}),A(),he(3,"div",1),M(4,"span",2),j(5,"Iniciar Sesi\xf3n"),A(),he(6,"div",3),M(7,"form",4,5),de("ngSubmit",function(){Kn(i);const s=ni(8);return Qn(r.handleLogin(s.value))}),M(9,"div",6)(10,"div",7)(11,"span",8),j(12,"Email:"),A(),he(13,"input",9),A(),M(14,"div",7)(15,"span",10),j(16,"Clave:"),A(),he(17,"input",11),A(),M(18,"button",12),j(19,"Log In"),A()()()}},dependencies:[Vo,Ji,Ts,Fo,Lo,Ti],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:34%;height:27%;position:absolute;left:39.2%;top:38%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:10%;height:4%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:59.5%;top:59%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})()},{path:"signup",component:(()=>{class t{constructor(n,r,i){this.auth=n,this.firestore=r,this.router=i,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(n){spe(this.auth,n.email,n.password).then(r=>{console.log(r.user)}).catch(r=>{alert(r.message)}),this.addData(n)}addData(n){const r=yr(this.firestore,"users",n.email);n.password==n.confirmpassword?"Invetigador"==n.role||"Cliente"==n.role?Rl(r,{email:n.email,role:n.role,password:n.password}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const n=Mn(this.firestore,"users");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}Salir(){Qa(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}}return t.\u0275fac=function(n){return new(n||t)(k(Jt),k(sr),k(rt))},t.\u0275cmp=qt({type:t,selectors:[["app-signup"]],decls:31,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"]],template:function(n,r){if(1&n){const i=Hr();M(0,"p"),j(1,"signup works!"),A(),M(2,"button",0),de("click",function(){return r.Salir()}),A(),he(3,"div",1),M(4,"span",2),j(5,"Registrar"),A(),he(6,"div",3),M(7,"form",4,5),de("ngSubmit",function(){Kn(i);const s=ni(8);return Qn(r.handleRegister(s.value))}),M(9,"div",6)(10,"div",7)(11,"span",8),j(12,"Email:"),A(),he(13,"input",9),A(),M(14,"div",7)(15,"span",10),j(16,"Roles:"),A(),he(17,"input",11),M(18,"datalist",12),he(19,"option",13)(20,"option",14),A()(),M(21,"div",7)(22,"span",15),j(23,"Clave:"),A(),he(24,"input",16),A(),M(25,"div",7)(26,"span",17),j(27,"Confirmar Clave:"),A(),he(28,"input",18),A(),M(29,"button",19),j(30,"Sign Up"),A()()()}},dependencies:[Vo,Tm,Sm,Ji,Ts,Fo,Lo,Ti],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:39%;height:40%;position:absolute;left:33.5%;top:37%}.loginTile[_ngcontent-%COMP%]{color:#000;width:39%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:33.5%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:38.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:33.5%;top:45%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#role[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.roleText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.5%;top:54%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:58.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:59%}#confirmpassword[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:63.5%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:36.2%;top:64%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:10%;height:4%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:59.5%;top:69%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:69.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})()},{path:"select",component:(()=>{class t{constructor(n,r){this.auth=n,this.router=r}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}}return t.\u0275fac=function(n){return new(n||t)(k(Jt),k(rt))},t.\u0275cmp=qt({type:t,selectors:[["app-select"]],decls:15,vars:0,consts:[[1,"base"],["id","login",3,"click"],["id","signup",3,"click"],[1,"install"],["id","share","src","../../../../assets/share.png","alt","share"],["id","menu","src","../../../../assets/menu.png","alt","menu"]],template:function(n,r){1&n&&(M(0,"div",0)(1,"div")(2,"button",1),de("click",function(){return r.Login()}),j(3,"Log In"),A()(),he(4,"div"),M(5,"div")(6,"button",2),de("click",function(){return r.Signup()}),j(7,"Sign Up"),A()(),M(8,"div",3)(9,"span"),j(10,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),he(11,"img",4),j(12," en IOS o el boton \u201cMen\xfa\u201d "),he(13,"img",5),j(14," en Androi, y selecionar \u201cAgregar a inicio\u201d"),A()()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:40%;height:15%;position:absolute;left:36%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:40%;height:15%;position:absolute;left:36%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.install[_ngcontent-%COMP%]{color:#000;width:30%;height:30%;position:absolute;left:42%;top:77%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}"]}),t})()}]}];let lve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({imports:[Pa.forChild(cve),Pa]}),t})(),dve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({imports:[hm,IC,Pa,lve]}),t})(),hve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=qt({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(n,r){1&n&&(M(0,"p"),j(1,"home works!"),A())}}),t})();function fve(t,e){if(1&t){const n=Hr();M(0,"tr")(1,"td",3),j(2),A(),M(3,"td",3),j(4),A(),M(5,"td",3),j(6),A(),M(7,"td",3),j(8),A(),M(9,"td")(10,"button",4),de("click",function(){const o=Kn(n).$implicit;return Qn(mc().updateData(o.id))}),j(11," Update "),A()()()}if(2&t){const n=e.$implicit;Se(2),xr(n.Nombre),Se(2),xr(n.email),Se(2),xr(n.password),Se(2),xr(n.role)}}let pve=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}getData(){const n=Mn(this.firestore,"users");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=yr(this.firestore,"users",n);zx(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=yr(this.firestore,"users",n);Nl(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-admin"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["contenteditable","true"],[3,"click"]],template:function(n,r){1&n&&(M(0,"p"),j(1,"admin works!"),A(),M(2,"h1",0),j(3,"Usuarios"),A(),M(4,"div",1)(5,"table")(6,"tr")(7,"th"),j(8," Nombre "),A(),M(9,"th"),j(10," Email "),A(),M(11,"th"),j(12," Password "),A(),M(13,"th"),j(14," Role "),A(),he(15,"th"),A(),xd(16,fve,12,4,"tr",2),A()()),2&n&&(Se(16),Lt("ngForOf",r.data))},dependencies:[dm],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}"]}),t})(),gve=(()=>{class t{constructor(n,r){this.auth=n,this.router=r}canActivate(n,r){return this.checkLogin(r.url)}checkLogin(n){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}}return t.\u0275fac=function(n){return new(n||t)(pe(Jt),pe(rt))},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),o5=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.title="gestion-muestras"}handleSignOut(){Qa(this.auth).then(()=>{}).catch(n=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}}return t.\u0275fac=function(n){return new(n||t)(k(Jt),k(rt))},t.\u0275cmp=qt({type:t,selectors:[["app-user"]],decls:25,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","usernameText",1,"navbar2Text"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","ProyectosText",1,"navbar2Text"],["id","MuestrasText",1,"navbar2Text"],["id","ClientesText",1,"navbar2Text"]],template:function(n,r){1&n&&(M(0,"p"),j(1,"user works!"),A(),M(2,"div",0)(3,"div",1)(4,"span",2),j(5,"Gestion de Muestras"),A()(),he(6,"div",3)(7,"div",4),M(8,"div",5)(9,"span",6),j(10,"Home"),A()()(),M(11,"button",7),de("click",function(){return r.Home()}),A(),M(12,"div",8),he(13,"div",9),M(14,"div",10),j(15,"USUARIO"),A(),M(16,"div",11),de("click",function(){return r.handleSignOut()}),j(17,"CERRAR SESI\xd3N"),A(),M(18,"div",12),j(19,"PROYECTOS"),A(),M(20,"div",13),j(21,"MUESTRAS"),A(),M(22,"div",14),j(23,"CLIENTES"),A()(),he(24,"router-outlet"))},dependencies:[ah],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:92%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3EC28F;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white;border-right:4px solid white}#usernameText[_ngcontent-%COMP%]{width:20%;position:absolute;left:0%;top:10%}#ProyectosText[_ngcontent-%COMP%]{width:20%;position:absolute;left:20%;top:10%}#MuestrasText[_ngcontent-%COMP%]{width:20%;position:absolute;left:40%;top:10%}#ClientesText[_ngcontent-%COMP%]{width:20%;position:absolute;left:60%;top:10%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})();var s5=R(6387);const mve=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:hve},{path:"admin",component:pve,canActivate:[gve]},{path:"auth",component:S3},{path:"user",component:o5},{path:"print/:id",component:(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o}ngOnInit(){this.route.params.subscribe(n=>{this.item=n,console.log(n),this.generateBarcode(n)})}generateBarcode(n){s5("#barcode",n.id,{format:"CODE128"}),window.print()}}return t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-print"]],decls:1,vars:0,consts:[["id","barcode"]],template:function(n,r){1&n&&(E0(),he(0,"svg",0))},styles:["#barcode[_ngcontent-%COMP%]{position:absolute;top:200px;left:200px}"]}),t})()}];let _ve=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({imports:[Pa.forRoot(mve),Pa]}),t})(),yve=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.title="gestion-muestras"}handleSignOut(){Qa(this.auth).then(()=>{}).catch(n=>{console.log("here")})}}return t.\u0275fac=function(n){return new(n||t)(k(Jt),k(rt))},t.\u0275cmp=qt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&he(0,"router-outlet")},dependencies:[ah]}),t})();const vve_firebase={projectId:"gestion-de-muestras-de-campo",appId:"1:956362829056:web:235ab7e9c2cbd05ffe97e5",databaseURL:"https://gestion-de-muestras-de-campo-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-campo.appspot.com",apiKey:"AIzaSyDeImqmNn3CZpIAB1A9_q78bnqPVNM1ji8",authDomain:"gestion-de-muestras-de-campo.firebaseapp.com",messagingSenderId:"956362829056",measurementId:"G-T5SRLVHLR3"},a5="@firebase/database";let Gx="";class Eve{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:gh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Cve{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return $o(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const c5=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Eve(e)}}catch{}return new Cve},wu=c5("localStorage"),qx=c5("sessionStorage"),Ol=new La("@firebase/database"),l5=function(){let t=1;return function(){return t++}}(),d5=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,ee(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Hoe;n.update(e);const r=n.digest();return Gm.encodeByteArray(r)},Jf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Jf.apply(null,r):e+="object"==typeof r?Fn(r):r,e+=" "}return e};let Eu=null,h5=!0;const Nn=function(...t){if(!0===h5&&(h5=!1,null===Eu&&!0===qx.get("logging_enabled")&&function(t,e){ee(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Ol.logLevel=Be.VERBOSE,Eu=Ol.log.bind(Ol),e&&qx.set("logging_enabled",!0)):"function"==typeof t?Eu=t:(Eu=null,qx.remove("logging_enabled"))}(!0)),Eu){const e=Jf.apply(null,t);Eu(e)}},Zf=function(t){return function(...e){Nn(t,...e)}},Wx=function(...t){const e="FIREBASE INTERNAL ERROR: "+Jf(...t);Ol.error(e)},go=function(...t){const e=`FIREBASE FATAL ERROR: ${Jf(...t)}`;throw Ol.error(e),new Error(e)},ar=function(...t){const e="FIREBASE WARNING: "+Jf(...t);Ol.warn(e)},iv=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},na="[MIN_NAME]",os="[MAX_NAME]",Cu=function(t,e){if(t===e)return 0;if(t===na||e===os)return-1;if(e===na||t===os)return 1;{const n=m5(t),r=m5(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},Dve=function(t,e){return t===e?0:t<e?-1:1},ep=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Fn(e))},Kx=function(t){if("object"!=typeof t||null===t)return Fn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Fn(e[r]),n+=":",n+=Kx(t[e[r]]);return n+="}",n},p5=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Rn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const g5=function(t){ee(!iv(t),"Invalid JSON number");const r=1023;let i,o,s,a,u;0===t?(o=0,s=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(u=11;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},xve=new RegExp("^-?(0*)\\d{1,10}$"),m5=function(t){if(xve.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Pl=function(t){try{t()}catch(e){setTimeout(()=>{throw ar("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},tp=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Ove{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ar(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Pve{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Nn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ar(e)}}let np=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const E5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,I5="websocket",D5="long_polling";class Yx{constructor(e,n,r,i,o=!1,s="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function T5(t,e,n){let r;if(ee("string"==typeof e,"typeof type must == string"),ee("object"==typeof n,"typeof params must == object"),e===I5)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==D5)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function kve(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Rn(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class Fve{constructor(){this.counters_={}}incrementCounter(e,n=1){$o(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Moe(this.counters_)}}const Xx={},Jx={};function Zx(t){const e=t.toString();return Xx[e]||(Xx[e]=new Fve),Xx[e]}class Vve{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ra{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zf(e),this.stats_=Zx(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),T5(n,D5,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Vve(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eM((...o)=>{const[s,a,u,c,l]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=u;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&E5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ra.forceAllow_=!0}static forceDisallow(){ra.forceDisallow_=!0}static isAvailable(){return!(!ra.forceAllow_&&(ra.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Fn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=bB(n),i=p5(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Fn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class eM{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=l5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=eM.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Nn("frame writing exception"),a.stack&&Nn(a.stack),Nn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Nn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Nn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let sv=null;typeof MozWebSocket<"u"?sv=MozWebSocket:typeof WebSocket<"u"&&(sv=WebSocket);let kl=(()=>{class t{constructor(n,r,i,o,s,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zf(this.connId),this.stats_=Zx(r),this.connURL=t.connectionURL_(r,a,u,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&E5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),T5(n,I5,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wu.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new sv(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==sv&&!t.forceDisallow_}static previouslyFailed(){return wu.isInMemoryStorage||!0===wu.get("previous_websocket_failure")}markConnectionHealthy(){wu.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=gh(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(ee(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Fn(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=p5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),O5=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[ra,kl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=kl&&kl.isAvailable();let i=r&&!kl.previouslyFailed();if(n.webSocketOnly&&(r||ar("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[kl];else{const o=this.transports_=[];for(const s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class B5{constructor(e,n,r,i,o,s,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zf("c:"+this.id+":"),this.transportManager_=new O5(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=tp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ep("t",e),r=ep("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ep("t",e),r=ep("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ep("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Wx("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wx("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&ar("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),tp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class j5{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class $5{constructor(e){this.allowedEvents_=e,this.listeners_={},ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){ee(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class av extends $5{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ZC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new av}getInitialEvent(e){return ee("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Je{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ge(){return new Je("")}function Re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ia(t){return t.pieces_.length-t.pieceNum_}function pt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Je(t.pieces_,e)}function nM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function rp(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function G5(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Je(e,0)}function Rt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Je(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function vr(t,e){const n=Re(t),r=Re(e);if(null===n)return e;if(n===r)return vr(pt(t),pt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rM(t,e){if(ia(t)!==ia(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function li(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ia(t)>ia(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class a0e{constructor(e,n){this.errorPrefix_=n,this.parts_=rp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Zm(this.parts_[r]);q5(this)}}function q5(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+bu(t))}function bu(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class iM extends $5{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new iM}getInitialEvent(e){return ee("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ip=1e3;let cv,Iu=(()=>{class t extends j5{constructor(n,r,i,o,s,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Zf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ip,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iM.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&av.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Fn(s)),ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new Lc,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),ee(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ee(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const u={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,o),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&$o(n,"w")){const i=Vc(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ar(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Qm(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Qm(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),ee(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Fn(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Wx("Unrecognized action received from server: "+Fn(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ip,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ip,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ip),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return v(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,o())};n.realtime_={close:l,sendRequest:function(p){ee(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(p)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[p,y]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?Nn("getToken() completed but was canceled"):(Nn("getToken() completed. Creating connection."),n.authToken_=p&&p.accessToken,n.appCheckToken_=y&&y.token,c=new B5(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,E=>{ar(E+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(p){n.log_("Failed to get token: "+p),u||(n.repoInfo_.nodeAdmin&&ar(p),l())}}})()}interrupt(n){Nn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Nn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],nb(this.interruptReasons_)&&(this.reconnectDelay_=ip,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>Kx(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new Je(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Nn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Nn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Gx.replace(/\./g,"-")]=1,ZC()?n["framework.cordova"]=1:xB()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=av.getInstance().currentlyOnline();return nb(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Pe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Pe(e,n)}}class uv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Pe(na,e),i=new Pe(na,n);return 0!==this.compare(r,i)}minPost(){return Pe.MIN}}class Q5 extends uv{static get __EMPTY_NODE(){return cv}static set __EMPTY_NODE(e){cv=e}compare(e,n){return Cu(e.name,n.name)}isDefinedOn(e){throw Fc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Pe.MIN}maxPost(){return new Pe(os,cv)}makePost(e,n){return ee("string"==typeof e,"KeyIndex indexValue must always be a string."),new Pe(e,cv)}toString(){return".key"}}const mo=new Q5;class lv{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let sM,Ri=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??kr.EMPTY_NODE,this.right=s??kr.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return kr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return kr.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class kr{constructor(e,n=kr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new kr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ri.BLACK,null,null))}remove(e){return new kr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ri.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new lv(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new lv(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new lv(this.root_,null,this.comparator_,!0,e)}}function g0e(t,e){return Cu(t.name,e.name)}function oM(t,e){return Cu(t,e)}kr.EMPTY_NODE=new class p0e{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ri(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Y5=function(t){return"number"==typeof t?"number:"+g5(t):"string:"+t},X5=function(t){if(t.isLeafNode()){const e=t.val();ee("string"==typeof e||"number"==typeof e||"object"==typeof e&&$o(e,".sv"),"Priority must be a string or number.")}else ee(t===sM||t.isEmpty(),"priority of unexpected type.");ee(t===sM||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let J5,Z5,e6,Fl=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,ee(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),X5(this.priorityNode_)}static set __childrenNodeConstructor(n){J5=n}static get __childrenNodeConstructor(){return J5}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Oe(n)?this:".priority"===Re(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Re(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(ee(".priority"!==i||1===ia(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(pt(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Y5(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?g5(this.value_):this.value_,this.lazyHash_=d5(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(ee(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return ee(o>=0,"Unknown leaf type: "+r),ee(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const vt=new class v0e extends uv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Cu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Pe.MIN}maxPost(){return new Pe(os,new Fl("[PRIORITY-POST]",e6))}makePost(e,n){const r=Z5(e);return new Pe(n,new Fl("[PRIORITY-POST]",r))}toString(){return".priority"}},w0e=Math.log(2);class E0e{constructor(e){this.count=parseInt(Math.log(e+1)/w0e,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dv=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new Ri(h,d.node,Ri.BLACK,null,null);{const p=parseInt(l/2,10)+u,y=i(u,p),E=i(p+1,c);return d=t[p],h=n?n(d):d,new Ri(h,d.node,Ri.BLACK,y,E)}},a=function(u){let c=null,l=null,d=t.length;const h=function(y,E){const D=d-y,N=d;d-=y;const T=i(D+1,N),$=t[D],Y=n?n($):$;p(new Ri(Y,$.node,E,null,T))},p=function(y){c?(c.left=y,c=y):(l=y,c=y)};for(let y=0;y<u.count;++y){const E=u.nextBitIsOne(),D=Math.pow(2,u.count-(y+1));E?h(D,Ri.BLACK):(h(D,Ri.BLACK),h(D,Ri.RED))}return l}(new E0e(t.length));return new kr(r||e,a)};let aM;const Ll={};class ss{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return ee(Ll&&vt,"ChildrenNode.ts has not been loaded"),aM=aM||new ss({".priority":Ll},{".priority":vt}),aM}get(e){const n=Vc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof kr?n:null}hasIndex(e){return $o(this.indexSet_,e.toString())}addIndex(e,n){ee(e!==mo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Pe.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?dv(r,e.getCompare()):Ll;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new ss(l,c)}addToIndexes(e,n){const r=Ym(this.indexes_,(i,o)=>{const s=Vc(this.indexSet_,o);if(ee(s,"Missing index implementation for "+o),i===Ll){if(s.isDefinedOn(e.node)){const a=[],u=n.getIterator(Pe.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),dv(a,s.getCompare())}return Ll}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new Pe(e.name,a))),u.insert(e,e.node)}});return new ss(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ym(this.indexes_,i=>{if(i===Ll)return i;{const o=n.get(e.name);return o?i.remove(new Pe(e.name,o)):i}});return new ss(r,this.indexSet_)}}let op,Ae=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&X5(this.priorityNode_),this.children_.isEmpty()&&ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return op||(op=new t(new kr(oM),null,ss.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||op}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?op:r}}getChild(n){const r=Re(n);return null===r?this:this.getImmediateChild(r).getChild(pt(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(ee(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new Pe(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?op:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){const i=Re(n);if(null===i)return r;{ee(".priority"!==Re(n)||1===ia(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(pt(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(vt,(a,u)=>{r[a]=u.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Y5(this.getPriority().val())+":"),this.forEachChild(vt,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":d5(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new Pe(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new Pe(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new Pe(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,Pe.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,Pe.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===sp?-1:0}withIndex(n){if(n===mo||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===mo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(vt),o=r.getIterator(vt);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===mo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const sp=new class C0e extends Ae{constructor(){super(new kr(oM),Ae.EMPTY_NODE,ss.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ae.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pe,{MIN:{value:new Pe(na,Ae.EMPTY_NODE)},MAX:{value:new Pe(os,sp)}}),Q5.__EMPTY_NODE=Ae.EMPTY_NODE,Fl.__childrenNodeConstructor=Ae,function m0e(t){sM=t}(sp),function y0e(t){e6=t}(sp);const b0e=!0;function Bt(t,e=null){if(null===t)return Ae.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),ee(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Fl(t,Bt(e));if(t instanceof Array||!b0e){let n=Ae.EMPTY_NODE;return Rn(t,(r,i)=>{if($o(t,r)&&"."!==r.substring(0,1)){const o=Bt(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Bt(e))}{const n=[];let r=!1;if(Rn(t,(s,a)=>{if("."!==s.substring(0,1)){const u=Bt(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new Pe(s,u)))}}),0===n.length)return Ae.EMPTY_NODE;const o=dv(n,g0e,s=>s.name,oM);if(r){const s=dv(n,vt.getCompare());return new Ae(o,Bt(e),new ss({".priority":s},{".priority":vt}))}return new Ae(o,Bt(e),ss.Default)}}!function _0e(t){Z5=t}(Bt);class uM extends uv{constructor(e){super(),this.indexPath_=e,ee(!Oe(e)&&".priority"!==Re(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Cu(e.name,n.name):o}makePost(e,n){const r=Bt(e),i=Ae.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pe(n,i)}maxPost(){const e=Ae.EMPTY_NODE.updateChild(this.indexPath_,sp);return new Pe(os,e)}toString(){return rp(this.indexPath_,0).join("/")}}const cM=new class I0e extends uv{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?Cu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Pe.MIN}maxPost(){return Pe.MAX}makePost(e,n){const r=Bt(e);return new Pe(n,r)}toString(){return".value"}};function up(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class dM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:na}hasEnd(){return this.endSet_}getIndexEndValue(){return ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:os}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vt}copy(){const e=new dM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function n6(t){const e={};if(t.isDefault())return e;let n;if(t.index_===vt?n="$priority":t.index_===cM?n="$value":t.index_===mo?n="$key":(ee(t.index_ instanceof uM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Fn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Fn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Fn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Fn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Fn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function r6(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==vt&&(e.i=t.index_.toString()),e}class fv extends j5{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Zf("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=fv.getListenId_(e,r),a={};this.listens_[s]=a;const u=n6(e._queryParams);this.restRequest_(o+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(o,d,!1,r),Vc(this.listens_,s)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=fv.getListenId_(e,n);delete this.listens_[r]}get(e){const n=n6(e._queryParams),r=e._path.toString(),i=new Lc;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mh(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=gh(a.responseText)}catch{ar("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&ar("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class R0e{constructor(){this.rootNode_=Ae.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function pv(){return{value:null,children:new Map}}function Ul(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Re(e);t.children.has(r)||t.children.set(r,pv()),Ul(t.children.get(r),e=pt(e),n)}}function gM(t,e,n){null!==t.value?n(e,t.value):function O0e(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{gM(i,new Je(e.toString()+"/"+r),n)})}class P0e{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Rn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class L0e{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new P0e(e);const r=1e4+2e4*Math.random();tp(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Rn(e,(i,o)=>{o>0&&$o(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),tp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _o=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(_o||{});function yM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class gv{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_o.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Oe(this.path)){if(null!=this.affectedTree.value)return ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Je(e));return new gv(Ge(),n,this.revert)}}return ee(Re(this.path)===e,"operationForChild called for unrelated child."),new gv(pt(this.path),this.affectedTree,this.revert)}}class Du{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_o.OVERWRITE}operationForChild(e){return Oe(this.path)?new Du(this.source,Ge(),this.snap.getImmediateChild(e)):new Du(this.source,pt(this.path),this.snap)}}class Bl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_o.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new Je(e));return n.isEmpty()?null:n.value?new Du(this.source,Ge(),n.value):new Bl(this.source,Ge(),n)}return ee(Re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Bl(this.source,pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class oa{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function dp(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,u)=>function j0e(t,e,n){if(null==e.childName||null==n.childName)throw Fc("Should only compare child_ events.");const r=new Pe(e.childName,e.snapshotNode),i=new Pe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),s.forEach(a=>{const u=function B0e(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,o);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function mv(t,e){return{eventCache:t,serverCache:e}}function hp(t,e,n,r){return mv(new oa(e,n,r),t.serverCache)}function o6(t,e,n,r){return mv(t.eventCache,new oa(e,n,r))}function _v(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Tu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let vM;class wt{constructor(e,n=(()=>(vM||(vM=new kr(Dve)),vM))()){this.value=e,this.children=n}static fromObject(e){let n=new wt(null);return Rn(e,(r,i)=>{n=n.set(new Je(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ge(),value:this.value};if(Oe(e))return null;{const r=Re(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(pt(e),n);return null!=o?{path:Rt(new Je(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=Re(e),r=this.children.get(n);return null!==r?r.subtree(pt(e)):new wt(null)}}set(e,n){if(Oe(e))return new wt(n,this.children);{const r=Re(e),o=(this.children.get(r)||new wt(null)).set(pt(e),n),s=this.children.insert(r,o);return new wt(this.value,s)}}remove(e){if(Oe(e))return this.children.isEmpty()?new wt(null):new wt(null,this.children);{const n=Re(e),r=this.children.get(n);if(r){const i=r.remove(pt(e));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new wt(null):new wt(this.value,o)}return this}}get(e){if(Oe(e))return this.value;{const n=Re(e),r=this.children.get(n);return r?r.get(pt(e)):null}}setTree(e,n){if(Oe(e))return n;{const r=Re(e),o=(this.children.get(r)||new wt(null)).setTree(pt(e),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new wt(this.value,s)}}fold(e){return this.fold_(Ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Rt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ge(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Oe(e))return null;{const o=Re(e),s=this.children.get(o);return s?s.findOnPath_(pt(e),Rt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ge(),n)}foreachOnPath_(e,n,r){if(Oe(e))return this;{this.value&&r(n,this.value);const i=Re(e),o=this.children.get(i);return o?o.foreachOnPath_(pt(e),Rt(n,i),r):new wt(null)}}foreach(e){this.foreach_(Ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Rt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Oi{constructor(e){this.writeTree_=e}static empty(){return new Oi(new wt(null))}}function fp(t,e,n){if(Oe(e))return new Oi(new wt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=vr(i,e);return o=o.updateChild(s,n),new Oi(t.writeTree_.set(i,o))}{const i=new wt(n),o=t.writeTree_.setTree(e,i);return new Oi(o)}}}function wM(t,e,n){let r=t;return Rn(n,(i,o)=>{r=fp(r,Rt(e,i),o)}),r}function s6(t,e){if(Oe(e))return Oi.empty();{const n=t.writeTree_.setTree(e,new wt(null));return new Oi(n)}}function EM(t,e){return null!=Su(t,e)}function Su(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(vr(n.path,e)):null}function a6(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(vt,(r,i)=>{e.push(new Pe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Pe(r,i.value))}),e}function sa(t,e){if(Oe(e))return t;{const n=Su(t,e);return new Oi(null!=n?new wt(n):t.writeTree_.subtree(e))}}function CM(t){return t.writeTree_.isEmpty()}function jl(t,e){return u6(Ge(),t.writeTree_,e)}function u6(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(ee(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=u6(Rt(t,i),o,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Rt(t,".priority"),r)),n}}function yv(t,e){return f6(e,t)}function W0e(t,e){if(t.snap)return li(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&li(Rt(t.path,n),e))return!0;return!1}function Q0e(t){return t.visible}function c6(t,e,n){let r=Oi.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)li(n,s)?(a=vr(n,s),r=fp(r,a,o.snap)):li(s,n)&&(a=vr(s,n),r=fp(r,Ge(),o.snap.getChild(a)));else{if(!o.children)throw Fc("WriteRecord should have .snap or .children");if(li(n,s))a=vr(n,s),r=wM(r,a,o.children);else if(li(s,n))if(a=vr(s,n),Oe(a))r=wM(r,Ge(),o.children);else{const u=Vc(o.children,Re(a));if(u){const c=u.getChild(pt(a));r=fp(r,Ge(),c)}}}}}return r}function l6(t,e,n,r,i){if(r||i){const o=sa(t.visibleWrites,e);return!i&&CM(o)?n:i||null!=n||EM(o,Ge())?jl(c6(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(li(c.path,e)||li(e,c.path))},e),n||Ae.EMPTY_NODE):null}{const o=Su(t.visibleWrites,e);if(null!=o)return o;{const s=sa(t.visibleWrites,e);return CM(s)?n:null!=n||EM(s,Ge())?jl(s,n||Ae.EMPTY_NODE):null}}}function vv(t,e,n,r){return l6(t.writeTree,t.treePath,e,n,r)}function bM(t,e){return function Y0e(t,e,n){let r=Ae.EMPTY_NODE;const i=Su(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(vt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=sa(t.visibleWrites,e);return n.forEachChild(vt,(s,a)=>{const u=jl(sa(o,new Je(s)),a);r=r.updateImmediateChild(s,u)}),a6(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return a6(sa(t.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(t.writeTree,t.treePath,e)}function d6(t,e,n,r){return function X0e(t,e,n,r,i){ee(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Rt(e,n);if(EM(t.visibleWrites,o))return null;{const s=sa(t.visibleWrites,o);return CM(s)?i.getChild(n):jl(s,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function wv(t,e){return function Z0e(t,e){return Su(t.visibleWrites,e)}(t.writeTree,Rt(t.treePath,e))}function IM(t,e,n){return function J0e(t,e,n,r){const i=Rt(e,n),o=Su(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?jl(sa(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function h6(t,e){return f6(Rt(t.treePath,e),t.writeTree)}function f6(t,e){return{treePath:t,writeTree:e}}class rwe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ee("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),ee(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,up(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,function ap(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,function Vl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw Fc("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,up(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const p6=new class iwe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class DM{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new oa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IM(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Tu(this.viewCache_),o=function nwe(t,e,n,r,i,o){return function ewe(t,e,n,r,i,o,s){let a;const u=sa(t.visibleWrites,e),c=Su(u,Ge());if(null!=c)a=c;else{if(null==n)return[];a=jl(u,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&l.length<i;)0!==d(p,r)&&l.push(p),p=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,o)}(this.writes_,i,n,1,r,e);return 0===o.length?null:o[0]}}function g6(t,e,n,r,i,o){const s=e.eventCache;if(null!=wv(r,n))return e;{let a,u;if(Oe(n))if(ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Tu(e),d=bM(r,c instanceof Ae?c:Ae.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=vv(r,Tu(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Re(n);if(".priority"===c){ee(1===ia(n),"Can't have a priority with additional path components");const l=s.getNode();u=e.serverCache.getNode();const d=d6(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):s.getNode()}else{const l=pt(n);let d;if(s.isCompleteForChild(c)){u=e.serverCache.getNode();const h=d6(r,n,s.getNode(),u);d=null!=h?s.getNode().getImmediateChild(c).updateChild(l,h):s.getNode().getImmediateChild(c)}else d=IM(r,c,e.serverCache);a=null!=d?t.filter.updateChild(s.getNode(),c,d,l,i,o):s.getNode()}}return hp(e,a,s.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function Ev(t,e,n,r,i,o,s,a){const u=e.serverCache;let c;const l=s?t.filter:t.filter.getIndexedFilter();if(Oe(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const p=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),p,null)}else{const p=Re(n);if(!u.isCompleteForPath(n)&&ia(n)>1)return e;const y=pt(n),D=u.getNode().getImmediateChild(p).updateChild(y,r);c=".priority"===p?l.updatePriority(u.getNode(),D):l.updateChild(u.getNode(),p,D,y,p6,null)}const d=o6(e,c,u.isFullyInitialized()||Oe(n),l.filtersNodes());return g6(t,d,n,i,new DM(i,d,o),a)}function TM(t,e,n,r,i,o,s){const a=e.eventCache;let u,c;const l=new DM(i,e,o);if(Oe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),u=hp(e,c,!0,t.filter.filtersNodes());else{const d=Re(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=hp(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=pt(n),p=a.getNode().getImmediateChild(d);let y;if(Oe(h))y=r;else{const E=l.getCompleteChild(d);y=null!=E?".priority"===nM(h)&&E.getChild(G5(h)).isEmpty()?E:E.updateChild(h,r):Ae.EMPTY_NODE}u=p.equals(y)?e:hp(e,t.filter.updateChild(a.getNode(),d,y,h,l,s),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function m6(t,e){return t.eventCache.isCompleteForChild(e)}function _6(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function SM(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=Oe(n)?r:new wt(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const y=_6(0,e.serverCache.getNode().getImmediateChild(d),h);u=Ev(t,u,new Je(d),y,i,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!p){const E=_6(0,e.serverCache.getNode().getImmediateChild(d),h);u=Ev(t,u,new Je(d),E,i,o,s,a)}}),u}function mwe(t,e){const n=Tu(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(Re(e)).isEmpty())?n.getChild(e):null}function w6(t,e,n,r){e.type===_o.MERGE&&null!==e.source.queryId&&(ee(Tu(t.viewCache_),"We should always have a full cache before handling merges"),ee(_v(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=function awe(t,e,n,r,i){const o=new rwe;let s,a;if(n.type===_o.OVERWRITE){const c=n;c.source.fromUser?s=TM(t,e,c.path,c.snap,r,i,o):(ee(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Oe(c.path),s=Ev(t,e,c.path,c.snap,r,i,a,o))}else if(n.type===_o.MERGE){const c=n;c.source.fromUser?s=function cwe(t,e,n,r,i,o,s){let a=e;return r.foreach((u,c)=>{const l=Rt(n,u);m6(e,Re(l))&&(a=TM(t,a,l,c,i,o,s))}),r.foreach((u,c)=>{const l=Rt(n,u);m6(e,Re(l))||(a=TM(t,a,l,c,i,o,s))}),a}(t,e,c.path,c.children,r,i,o):(ee(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=SM(t,e,c.path,c.children,r,i,a,o))}else if(n.type===_o.ACK_USER_WRITE){const c=n;s=c.revert?function hwe(t,e,n,r,i,o){let s;if(null!=wv(r,n))return e;{const a=new DM(r,e,i),u=e.eventCache.getNode();let c;if(Oe(n)||".priority"===Re(n)){let l;if(e.serverCache.isFullyInitialized())l=vv(r,Tu(e));else{const d=e.serverCache.getNode();ee(d instanceof Ae,"serverChildren would be complete if leaf node"),l=bM(r,d)}c=t.filter.updateFullNode(u,l,o)}else{const l=Re(n);let d=IM(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,pt(n),a,o):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,Ae.EMPTY_NODE,pt(n),a,o):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=vv(r,Tu(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=wv(r,Ge()),hp(e,c,s,t.filter.filtersNodes())}}(t,e,c.path,r,i,o):function lwe(t,e,n,r,i,o,s){if(null!=wv(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(Oe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ev(t,e,n,u.getNode().getChild(n),i,o,a,s);if(Oe(n)){let c=new wt(null);return u.getNode().forEachChild(mo,(l,d)=>{c=c.set(new Je(l),d)}),SM(t,e,n,c,i,o,a,s)}return e}{let c=new wt(null);return r.foreach((l,d)=>{const h=Rt(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),SM(t,e,n,c,i,o,a,s)}}(t,e,c.path,c.affectedTree,r,i,o)}else{if(n.type!==_o.LISTEN_COMPLETE)throw Fc("Unknown operation type: "+n.type);s=function dwe(t,e,n,r,i){const o=e.serverCache;return g6(t,o6(e,o.getNode(),o.isFullyInitialized()||Oe(n),o.isFiltered()),n,r,p6,i)}(t,e,n.path,r,o)}const u=o.getChanges();return function uwe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=_v(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(function t6(t){return{type:"value",snapshotNode:t}}(_v(e)))}}(e,s,u),{viewCache:s,changes:u}}(t.processor_,i,e,n,r);return function swe(t,e){ee(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ee(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,o.viewCache),ee(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,function E6(t,e,n,r){return function U0e(t,e,n,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function D0e(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(s.childName,s.snapshotNode))}),dp(t,i,"child_removed",e,r,n),dp(t,i,"child_added",e,r,n),dp(t,i,"child_moved",o,r,n),dp(t,i,"child_changed",e,r,n),dp(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,o.changes,o.viewCache.eventCache.getNode(),null)}let Cv,Iv;function AM(t,e,n,r){const i=e.source.queryId;if(null!==i){const o=t.views.get(i);return ee(null!=o,"SyncTree gave us an op for an invalid query."),w6(o,e,n,r)}{let o=[];for(const s of t.views.values())o=o.concat(w6(s,e,n,r));return o}}function aa(t,e){let n=null;for(const r of t.views.values())n=n||mwe(r,e);return n}class S6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wt(null),this.pendingWriteTree_=function twe(){return{visibleWrites:Oi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xM(t,e,n,r,i){return function H0e(t,e,n,r,i){ee(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=fp(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?$l(t,new Du({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function ca(t,e,n=!1){const r=function G0e(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function q0e(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);ee(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&W0e(a,r.path)?i=!1:li(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function K0e(t){t.visibleWrites=c6(t.allWrites,Q0e,Ge()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=s6(t.visibleWrites,r.path):Rn(r.children,u=>{t.visibleWrites=s6(t.visibleWrites,Rt(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let o=new wt(null);return null!=r.snap?o=o.set(Ge(),!0):Rn(r.children,s=>{o=o.set(new Je(s),!0)}),$l(t,new gv(r.path,o,n))}return[]}function pp(t,e,n){return $l(t,new Du({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Tv(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const c=aa(a,vr(s,e));if(c)return c});return l6(i,e,o,n,!0)}function $l(t,e){return x6(e,t.syncPointTree_,null,yv(t.pendingWriteTree_,Ge()))}function x6(t,e,n,r){if(Oe(t.path))return M6(t,e,n,r);{const i=e.get(Ge());null==n&&null!=i&&(n=aa(i,Ge()));let o=[];const s=Re(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){const c=n?n.getImmediateChild(s):null,l=h6(r,s);o=o.concat(x6(a,u,c,l))}return i&&(o=o.concat(AM(i,t,r,n))),o}}function M6(t,e,n,r){const i=e.get(Ge());null==n&&null!=i&&(n=aa(i,Ge()));let o=[];return e.children.inorderTraversal((s,a)=>{const u=n?n.getImmediateChild(s):null,c=h6(r,s),l=t.operationForChild(s);l&&(o=o.concat(M6(l,a,u,c)))}),i&&(o=o.concat(AM(i,t,r,n))),o}function NM(t,e){return t.tagToQueryMap.get(e)}function RM(t){const e=t.indexOf("$");return ee(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Je(t.substr(0,e))}}function OM(t,e,n){const r=t.syncPointTree_.get(e);return ee(r,"Missing sync point for query tag that we're tracking"),AM(r,n,yv(t.pendingWriteTree_,e),null)}class PM{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new PM(n)}node(){return this.node_}}class kM{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Rt(this.path_,e);return new kM(this.syncTree_,n)}node(){return Tv(this.syncTree_,this.path_)}}const Lwe=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},R6=function(t,e,n){return t&&"object"==typeof t?(ee(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Vwe(t[".sv"],e,n):"object"==typeof t[".sv"]?Uwe(t[".sv"],e):void ee(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Vwe=function(t,e,n){if("timestamp"===t)return n.timestamp;ee(!1,"Unexpected server value: "+t)},Uwe=function(t,e,n){t.hasOwnProperty("increment")||ee(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&ee(!1,"Unexpected increment value: "+r);const i=e.node();if(ee(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},O6=function(t,e,n,r){return LM(e,new kM(n,t),r)},FM=function(t,e,n){return LM(t,new PM(e),n)};function LM(t,e,n){const r=t.getPriority().val(),i=R6(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=R6(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Fl(a,Bt(i)):t}{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Fl(i))),s.forEachChild(vt,(a,u)=>{const c=LM(u,e.getImmediateChild(a),n);c!==u&&(o=o.updateImmediateChild(a,c))}),o}}class VM{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Av(t,e){let n=e instanceof Je?e:new Je(e),r=t,i=Re(n);for(;null!==i;){const o=Vc(r.node.children,i)||{children:{},childCount:0};r=new VM(i,r,o),n=pt(n),i=Re(n)}return r}function Au(t){return t.node.value}function UM(t,e){t.node.value=e,BM(t)}function P6(t){return t.node.childCount>0}function xv(t,e){Rn(t.node.children,(n,r)=>{e(new VM(n,t,r))})}function k6(t,e,n,r){n&&!r&&e(t),xv(t,i=>{k6(i,e,!0,r)}),n&&r&&e(t)}function _p(t){return new Je(null===t.parent?t.name:_p(t.parent)+"/"+t.name)}function BM(t){null!==t.parent&&function $we(t,e,n){const r=function Bwe(t){return void 0===Au(t)&&!P6(t)}(n),i=$o(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,BM(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,BM(t))}(t.parent,t.name,t)}const Hwe=/[\[\].#$\/\u0000-\u001F\u007F]/,zwe=/[\[\].#$\u0000-\u001F\u007F]/,jM=10485760,Mv=function(t){return"string"==typeof t&&0!==t.length&&!Hwe.test(t)},vp=function(t,e,n){const r=n instanceof Je?new a0e(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+bu(r));if("function"==typeof e)throw new Error(t+"contains a function "+bu(r)+" with contents = "+e.toString());if(iv(e))throw new Error(t+"contains "+e.toString()+" "+bu(r));if("string"==typeof e&&e.length>jM/3&&Zm(e)>jM)throw new Error(t+"contains a string greater than "+jM+" utf8 bytes "+bu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Rn(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Mv(s)))throw new Error(t+" contains an invalid key ("+s+") "+bu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function u0e(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Zm(e),q5(t)})(r,s),vp(t,a,r),function c0e(t){const e=t.parts_.pop();t.byteLength_-=Zm(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+bu(r)+" in addition to actual children.")}},V6=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Mv(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!zwe.test(t)}(t)}(n))throw new Error(function Jm(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Kwe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kr(t,e,n){(function Nv(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==n&&!rM(o,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function B6(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Qwe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>li(r,e)||li(e,r))}function Qwe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Eu&&Nn("event: "+n.toString()),Pl(r)}}}const Ywe=25;class Xwe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kwe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pv(),this.transactionQueueTree_=new VM,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $6(t){const n=t.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Ep(t){return Lwe({timestamp:$6(t)})}function H6(t,e,n,r,i){t.dataUpdateCount++;const o=new Je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const u=Ym(n,c=>Bt(c));s=function Nwe(t,e,n,r){const i=NM(t,r);if(i){const o=RM(i),s=o.path,a=o.queryId,u=vr(s,e),c=wt.fromObject(n);return OM(t,s,new Bl(yM(a),u,c))}return[]}(t.serverSyncTree_,o,u,i)}else{const u=Bt(n);s=function A6(t,e,n,r){const i=NM(t,r);if(null!=i){const o=RM(i),s=o.path,a=o.queryId,u=vr(s,e);return OM(t,s,new Du(yM(a),u,n))}return[]}(t.serverSyncTree_,o,u,i)}else if(r){const u=Ym(n,c=>Bt(c));s=function Awe(t,e,n){const r=wt.fromObject(n);return $l(t,new Bl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,u)}else{const u=Bt(n);s=pp(t.serverSyncTree_,o,u)}let a=o;s.length>0&&(a=zl(t,o)),Kr(t.eventQueue_,a,s)}function z6(t,e){zM(t,"connected",e),!1===e&&function nEe(t){Hl(t,"onDisconnectEvents");const e=Ep(t),n=pv();gM(t.onDisconnect_,Ge(),(i,o)=>{const s=O6(i,o,t.serverSyncTree_,e);Ul(n,i,s)});let r=[];gM(n,Ge(),(i,o)=>{r=r.concat(pp(t.serverSyncTree_,i,o));const s=function KM(t,e){const n=_p(W6(t,e)),r=Av(t.transactionQueueTree_,e);return function jwe(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{QM(t,i)}),QM(t,r),k6(r,i=>{QM(t,i)}),n}(t,i);zl(t,s)}),t.onDisconnect_=pv(),Kr(t.eventQueue_,Ge(),r)}(t)}function zM(t,e,n){const r=new Je("/.info/"+e),i=Bt(n);t.infoData_.updateSnapshot(r,i);const o=pp(t.infoSyncTree_,r,i);Kr(t.eventQueue_,r,o)}function Rv(t){return t.nextWriteId_++}function Hl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Nn(n,...e)}function WM(t,e,n){return Tv(t.serverSyncTree_,e,n)||Ae.EMPTY_NODE}function Ov(t,e=t.transactionQueueTree_){if(e||Pv(t,e),Au(e)){const n=K6(t,e);ee(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function cEe(t,e,n){const r=n.map(c=>c.currentWriteId),i=WM(t,e,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const l=n[c];ee(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=vr(e,l.path);o=o.updateChild(d,l.currentOutputSnapshotRaw)}const a=o.val(!0),u=e;t.server_.put(u.toString(),a,c=>{Hl(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(ca(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Pv(t,Av(t.transactionQueueTree_,e)),Ov(t,t.transactionQueueTree_),Kr(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)Pl(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{ar("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}zl(t,e)}},s)}(t,_p(e),n)}else P6(e)&&xv(e,n=>{Ov(t,n)})}function zl(t,e){const n=W6(t,e),r=_p(n);return function lEe(t,e,n){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=vr(n,u.path);let d,l=!1;if(ee(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(ca(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Ywe)l=!0,d="maxretry",i=i.concat(ca(t.serverSyncTree_,u.currentWriteId,!0));else{const h=WM(t,u.path,s);u.currentInputSnapshot=h;const p=e[a].update(h.val());if(void 0!==p){vp("transaction failed: Data returned ",p,u.path);let y=Bt(p);"object"==typeof p&&null!=p&&$o(p,".priority")||(y=y.updatePriority(h.getPriority()));const D=u.currentWriteId,N=Ep(t),T=FM(y,h,N);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=T,u.currentWriteId=Rv(t),s.splice(s.indexOf(D),1),i=i.concat(xM(t.serverSyncTree_,u.path,T,u.currentWriteId,u.applyLocally)),i=i.concat(ca(t.serverSyncTree_,D,!0))}else l=!0,d="nodata",i=i.concat(ca(t.serverSyncTree_,u.currentWriteId,!0))}Kr(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Pv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Pl(r[a]);Ov(t,t.transactionQueueTree_)}(t,K6(t,n),r),r}function W6(t,e){let n,r=t.transactionQueueTree_;for(n=Re(e);null!==n&&void 0===Au(r);)r=Av(r,n),n=Re(e=pt(e));return r}function K6(t,e){const n=[];return Q6(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Q6(t,e,n){const r=Au(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);xv(e,i=>{Q6(t,i,n)})}function Pv(t,e){const n=Au(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,UM(e,n.length>0?n:void 0)}xv(e,r=>{Pv(t,r)})}function QM(t,e){const n=Au(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(ee(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(ee(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ca(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?UM(e,void 0):n.length=o+1,Kr(t.eventQueue_,_p(e),i);for(let s=0;s<r.length;s++)Pl(r[s])}}const YM=function(t,e){const n=fEe(t),r=n.namespace;return"firebase.com"===n.domain&&go(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&go("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ar("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Yx(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Je(n.pathString)}},fEe=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function dEe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function hEe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ar(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class Qr{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Oe(this._path)?null:nM(this._path)}get ref(){return new Pi(this._repo,this._path)}get _queryIdentifier(){const e=r6(this._queryParams),n=Kx(e);return"{}"===n?"default":n}get _queryObject(){return r6(this._queryParams)}isEqual(e){if(!((e=Mt(e))instanceof Qr))return!1;const n=this._repo===e._repo,r=rM(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function o0e(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Pi extends Qr{constructor(e,n){super(e,n,new dM,!1)}get parent(){const e=G5(this._path);return null===e?null:new Pi(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function vwe(t){ee(!Cv,"__referenceConstructor has already been defined"),Cv=t})(Pi),function Iwe(t){ee(!Iv,"__referenceConstructor has already been defined"),Iv=t}(Pi);const JM={};class OEe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Jwe(t,e,n){if(t.stats_=Zx(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new fv(t.repoInfo_,(r,i,o,s)=>{H6(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>z6(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Iu(t.repoInfo_,e,(r,i,o,s)=>{H6(t,r,i,o,s)},r=>{z6(t,r)},r=>{!function Zwe(t,e){Rn(e,(n,r)=>{zM(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function Lve(t,e){const n=t.toString();return Jx[n]||(Jx[n]=e()),Jx[n]}(t.repoInfo_,()=>new L0e(t.stats_,t.server_)),t.infoData_=new R0e,t.infoSyncTree_=new S6({startListening:(r,i,o,s)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=pp(t.infoSyncTree_,r._path,u),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),zM(t,"connected",!1),t.serverSyncTree_=new S6({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,u)=>{const c=s(a,u);Kr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pi(this._repo,Ge())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function MEe(t,e){const n=JM[e];(!n||n[t.key]!==t)&&go(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function q6(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&go("Cannot call "+e+" on a deleted database.")}}function PEe(t=vh(),e){const n=Ms(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=JC("database");r&&function kEe(t,e,n,r={}){(t=Mt(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&go("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&go('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new np(np.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:AB(r.mockUserToken,t.app.options.projectId);o=new np(s)}!function AEe(t,e,n,r){t.repoInfo_=new Yx(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,o)}(n,...r)}return n}Iu.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Iu.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function FEe(t){(function wve(t){Gx=t})(Ns),Ln(new En("database",(e,{instanceIdentifier:n})=>function xEe(t,e,n,r,i){let o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||go("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Nn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,s=YM(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,o=`http://${c}?ns=${a.namespace}`,s=YM(o,i),a=s.repoInfo):u=!s.repoInfo.secure;const l=i&&u?new np(np.OWNER):new Pve(t.name,t.options,e);V6("Invalid Firebase Database URL",s),Oe(s.path)||go("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function NEe(t,e,n,r){let i=JM[e.name];i||(i={},JM[e.name]=i);let o=i[t.toURLString()];return o&&go("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Xwe(t,!1,n,r),i[t.toURLString()]=o,o}(a,t,l,new Ove(t.name,n));return new OEe(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),at(a5,"0.14.4",t),at(a5,"0.14.4","esm2017")}();class ZM{constructor(e){return e}}const i9="database",eN=new ae("angularfire2.database-instances");function jEe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new ZM(r)}}const $Ee={provide:class UEe{constructor(){return Ih(i9)}},deps:[[new Ft,eN]]},HEe={provide:ZM,useFactory:function BEe(t,e){const n=bh(i9,t,e);return n&&new ZM(n)},deps:[[new Ft,eN],Os]};let zEe=(()=>{class t{constructor(){at("angularfire",jc.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({providers:[HEe,$Ee]}),t})();function GEe(t,...e){return{ngModule:zEe,providers:[{provide:eN,useFactory:jEe(t),multi:!0,deps:[tt,lr,Dh,Th,[new Ft,R_],[new Ft,xh],...e]}]}}const qEe=bn(PEe,!0),nN="functions";class XEe{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return v(function*(){if(e.auth)try{const n=yield e.auth.getToken();return n?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return v(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var n=this;return v(function*(){if(n.appCheck){const r=e?yield n.appCheck.getLimitedUseToken():yield n.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var n=this;return v(function*(){return{authToken:yield n.getAuthToken(),messagingToken:yield n.getMessagingToken(),appCheckToken:yield n.getAppCheckToken(e)}})()}}const rN="us-central1";class ZEe{constructor(e,n,r,i,o=rN,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new XEe(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=rN}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const u9="@firebase/functions";function cCe(t=vh(),e=rN){const r=Ms(Mt(t),nN).getImmediate({identifier:e}),i=JC("functions");return i&&function lCe(t,e,n){!function eCe(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(Mt(t),e,n)}(r,...i),r}!function uCe(t,e){Ln(new En(nN,(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),u=r.getProvider("app-check-internal");return new ZEe(o,s,a,u,i,t)},"PUBLIC").setMultipleInstances(!0)),at(u9,"0.10.0",e),at(u9,"0.10.0","esm2017")}(fetch.bind(self));class sN{constructor(e){return e}}const l9="functions",aN=new ae("angularfire2.functions-instances");function fCe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sN(r)}}const pCe={provide:class dCe{constructor(){return Ih(l9)}},deps:[[new Ft,aN]]},gCe={provide:sN,useFactory:function hCe(t,e){const n=bh(l9,t,e);return n&&new sN(n)},deps:[[new Ft,aN],Os]};let mCe=(()=>{class t{constructor(){at("angularfire",jc.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({providers:[gCe,pCe]}),t})();function _Ce(t,...e){return{ngModule:mCe,providers:[{provide:aN,useFactory:fCe(t),multi:!0,deps:[tt,lr,Dh,Th,[new Ft,R_],[new Ft,xh],...e]}]}}const yCe=bn(cCe,!0);function vCe(t,e){if(1&t){const n=Hr();M(0,"tr")(1,"td"),j(2),A(),M(3,"td"),j(4),A(),M(5,"td"),j(6),A(),M(7,"td"),j(8),A(),M(9,"td")(10,"button",6),de("click",function(){const o=Kn(n).$implicit;return Qn(mc().Muestras(o.name))}),A(),M(11,"button",7),de("click",function(){const o=Kn(n).$implicit;return Qn(mc().editProyecto(o.name))}),A()()()}if(2&t){const n=e.$implicit;Se(2),xr(n.name),Se(2),xr(n.owner),Se(2),xr(n.integrantes),Se(2),xr(n.cliente)}}let wCe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const n=BS();T3(n,i=>{i&&i.email&&(this.email=i.email)});const r=Mn(this.firestore,"projects");mn(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(n){const r=yr(this.firestore,"projects",n);zx(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=yr(this.firestore,"projects",n);Nl(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(n){this.router.navigate(["user/muestras/"+n])}editProyecto(n){this.router.navigate(["user/project-edit/"+n])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Qa(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}MyQuery(){var n=this;return v(function*(){const r=BS();let i;i="",console.log(r),T3(r,function(){var o=v(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=yu(Mn(n.firestore,"projects"),vu("owner","==",i));mn(a).then(u=>{n.data=[...u.docs.map(c=>({...c.data(),id:c.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}}return t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-projects"]],decls:22,vars:1,consts:[[1,"scanbutton"],[1,"scantext",3,"click"],[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"edit",3,"click"]],template:function(n,r){1&n&&(M(0,"p"),j(1,"projects works!"),A(),he(2,"div",0),M(3,"div",1),de("click",function(){return r.Scan()}),j(4,"SCAN"),A(),M(5,"h1",2),j(6,"Proyectos"),A(),M(7,"div",3)(8,"table")(9,"tr")(10,"th"),j(11," Nombre "),A(),M(12,"th"),j(13," Due\xf1o "),A(),M(14,"th"),j(15," Integrantes"),A(),M(16,"th"),j(17," Clientes "),A(),he(18,"th"),A(),xd(19,vCe,12,4,"tr",4),A(),M(20,"button",5),de("click",function(){return r.newProject()}),j(21," Agregar "),A()()),2&n&&(Se(19),Lt("ngForOf",r.data))},dependencies:[dm],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})();function ECe(t,e){if(1&t){const n=Hr();M(0,"tr")(1,"td"),j(2),A(),M(3,"td"),j(4),A(),M(5,"td"),j(6),A(),M(7,"td"),j(8),A(),M(9,"td")(10,"button",7),de("click",function(){const o=Kn(n).$implicit;return Qn(mc().infoMuestra(o.codigo))}),A(),M(11,"button",8),de("click",function(){const o=Kn(n).$implicit;return Qn(mc().editMuestra(o.codigo))}),A(),he(12,"button",9),A()()}if(2&t){const n=e.$implicit;Se(2),xr(n.codigo),Se(2),xr(n.fecha),Se(2),xr(n.cultivo),Se(2),xr(n.coordenadas)}}let CCe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[]}ngOnInit(){this.route.params.subscribe(n=>{this.item=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}getData(){const n=Mn(this.firestore,"muestras");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(n){const r=yr(this.firestore,"muestras",n);zx(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(n){const r=yr(this.firestore,"muestras",n);Nl(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){Qa(this.auth).then(()=>{}).catch(n=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(n){this.router.navigate(["user/muestras-edit/"+n])}infoProject(n){this.router.navigate(["user/project-edit/"+n])}infoMuestra(n){this.router.navigate(["user/muestras-info/"+n])}MyQuery(){var n=this;return v(function*(){let r=n.item;n.pid=r,console.log(r);const i=yu(Mn(n.firestore,"muestras"),vu("project","==",r));mn(i).then(s=>{n.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield mn(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}}return t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-muestras"]],decls:24,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir"]],template:function(n,r){1&n&&(M(0,"p"),j(1,"muestras works!"),A(),M(2,"h1",0),j(3,"Muestras"),A(),he(4,"div",1),M(5,"div",2),de("click",function(){return r.Scan()}),j(6,"SCAN"),A(),M(7,"div",3)(8,"div",4),de("click",function(){return r.infoProject(r.pid)}),j(9,"Proyecto"),A(),M(10,"table")(11,"tr")(12,"th"),j(13," Codigo "),A(),M(14,"th"),j(15," Fecha "),A(),M(16,"th"),j(17," Cultivo"),A(),M(18,"th"),j(19," Coordenadas "),A(),he(20,"th"),A(),xd(21,ECe,13,4,"tr",5),A(),M(22,"button",6),de("click",function(){return r.newMuestra()}),j(23," Agregar "),A()()),2&n&&(Se(21),Lt("ngForOf",r.data))},dependencies:[dm],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})(),bCe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.data=[]}generateBarcode(n){var r=n.txt_input;this.res=r,s5("#barcode",r,{format:"CODE128"})}toPrint(){this.router.navigate(["/print/"+this.res])}}return t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-barcode"]],decls:16,vars:0,consts:[[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],["name","txt_input","ngModel","","placeholder"," ","id","txt_input","type","text",1,"input-field"],["id","btn_generate"],["onclick","window.print(this)","id","barcode"],[3,"click"]],template:function(n,r){if(1&n){const i=Hr();M(0,"p"),j(1,"barcode works!"),A(),he(2,"br"),M(3,"form",0,1),de("ngSubmit",function(){Kn(i);const s=ni(4);return Qn(r.generateBarcode(s.value))}),M(5,"div",2)(6,"div",3),he(7,"input",4),A(),he(8,"br"),M(9,"button",5),j(10,"Generate Barcode"),A()()(),he(11,"br")(12,"br"),E0(),he(13,"svg",6),function LR(){!function RW(){_e.lFrame.currentNamespace=null}()}(),M(14,"button",7),de("click",function(){return r.toPrint()}),j(15,"Print"),A()}},dependencies:[Vo,Ji,Ts,Fo,Lo,Ti]}),t})();const ICe=["div"];let DCe=(()=>{class t{constructor(n,r,i){this.auth=n,this.firestore=r,this.renderer=i,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let n="";for(let o=0;o<20;o++)n+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return n}handleRegister(n){this.addData(n)}addData(n){var r=this;return v(function*(){let o=r.randomCode(),s=n.integrantes.split(/[\s,]+/);const a=yr(r.firestore,"projects",o);(yield ave(a)).exists()?alert("Needs a Unique Code"):Rl(a,{name:n.name,cliente:n.cliente,owner:n.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(c=>{alert(c.message)})})()}getData(){const n=Mn(this.firestore,"projects");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}}return t.\u0275fac=function(n){return new(n||t)(k(Jt),k(sr),k(_i))},t.\u0275cmp=qt({type:t,selectors:[["app-project-new"]],viewQuery:function(n,r){if(1&n&&Yi(ICe,5),2&n){let i;Ei(i=Ci())&&(r.div=i.first)}},decls:32,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[2,"color","red"],[1,"input-fields"],[1,"Text"],["name","id","ngModel","","placeholder","ID","id","id","type","id",1,"input-field"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(n,r){if(1&n){const i=Hr();M(0,"p"),j(1,"project-new works!"),A(),M(2,"h1",0),j(3,"Nuevo Proyecto"),A(),M(4,"div",1)(5,"form",2,3),de("ngSubmit",function(){Kn(i);const s=ni(6);return Qn(r.handleRegister(s.value))}),M(7,"div",4)(8,"p",5),j(9," * Todo Projecto requiere un identificador \xfanico "),A(),M(10,"div",6)(11,"span",7),j(12,"ID:"),A(),he(13,"input",8),A(),M(14,"div",6)(15,"span",7),j(16,"Name:"),A(),he(17,"input",9),A(),M(18,"div",6)(19,"span",7),j(20,"Owner:"),A(),he(21,"input",10),A(),M(22,"div",6)(23,"span",7),j(24,"Integrantes:"),A(),he(25,"input",11),A(),M(26,"div",6)(27,"span",7),j(28,"Cliente:"),A(),he(29,"input",12),A(),M(30,"button",13),j(31,"Crear Proyecto"),A()()()()}},dependencies:[Vo,Ji,Ts,Fo,Lo,Ti],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})();const TCe=["geo"];let SCe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new ht}handleRegister(n){this.addData(n)}addData(n){const r=yr(this.firestore,"muestras",n.codigo);Rl(r,n).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=Mn(this.firestore,"muestras");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude),t.text=n.coords.latitude+", "+n.coords.longitude,console.log(t.text)}getLocation(){var n=this;return v(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{n.res=t.text,console.log(n.res)},1e3)})()}}return t.text="",t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-muestras-new"]],viewQuery:function(n,r){if(1&n&&Yi(TCe,5),2&n){let i;Ei(i=Ci())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:61,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopat\xf3genos","name","fitopat\xf3geno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopat\xf3geno","type","fitopat\xf3geno",1,"input-field"],["id","fitopat\xf3genos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","s\xedntomas","ngModel","","placeholder","S\xedntomas","id","s\xedntomas","rows","4","cols","50"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50"],[1,"boton"]],template:function(n,r){if(1&n){const i=Hr();M(0,"p"),j(1,"muestras-new works!"),A(),M(2,"h1",0),j(3,"Nueva Muestra"),A(),M(4,"div",1)(5,"form",2,3),de("ngSubmit",function(){Kn(i);const s=ni(6);return Qn(r.handleRegister(s.value))}),M(7,"div",4)(8,"div",5)(9,"span",6),j(10,"Codigo:"),A(),he(11,"input",7),A(),M(12,"div",5)(13,"span",6),j(14,"Cliente:"),A(),he(15,"input",8),A(),M(16,"div",5)(17,"span",6),j(18,"Fecha:"),A(),he(19,"input",9),A(),M(20,"div",5)(21,"span",6),j(22,"Cultivo:"),A(),he(23,"input",10),A(),M(24,"div",5)(25,"span",6),j(26,"Tipo:"),A(),he(27,"input",11),M(28,"datalist",12),he(29,"option",13)(30,"option",14)(31,"option",15),A()(),M(32,"div",5)(33,"span",6),j(34,"Fitopat\xf3geno:"),A(),he(35,"input",16),M(36,"datalist",17),he(37,"option",18)(38,"option",19)(39,"option",20),A()(),M(40,"div",5)(41,"span",6),j(42,"Codigo:"),A(),he(43,"input",21),A(),M(44,"div",5)(45,"span",6),j(46,"Coordenadas:"),A(),M(47,"input",22),de("ngModelChange",function(s){return r.res=s}),A(),M(48,"div",23),de("click",function(){return r.getLocation()}),he(49,"img",24),A()(),M(50,"div",5)(51,"span",6),j(52,"S\xedntomas:"),A(),he(53,"textarea",25),A(),M(54,"div",5)(55,"span",6),j(56,"Comentarios:"),A(),M(57,"textarea",26),j(58," "),A()(),M(59,"button",27),j(60,"Crear Muestra"),A()()()()}2&n&&(Se(47),Lt("ngModel",r.res))},dependencies:[Vo,Tm,Sm,Ji,Ts,Fo,Lo,Ti],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:15%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})();class di extends ki{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:n,_hasValue:r,_value:i,thrownError:o,isStopped:s,_isComplete:a}=this;n?e.error(o):(s||a)&&(r&&e.next(i),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:n,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(n),super.complete())}}const ACe=["video"],xCe=["canvas"],MCe=["resultsPanel"],uN="assets/wasm/index.js",Ip="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",d9={audio:!1,video:!0},cN={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},lN={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},as={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:d9,canvasStyles:[cN,lN]};var Uv=()=>"zbarWasm"in window;const qe=(t,e,n)=>{n?t.error(n):t.next(e),t.complete()},dN=(t=!1)=>{if(!1===t)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const n=e.play();n&&n.catch(r=>{})}},h9=(t,e,n,r)=>{let i,o,s=e.width,a=e.height,u=s/a,c=parseInt(getComputedStyle(e).width),l=parseInt(getComputedStyle(e).height),d=c/l;n.innerHTML="",u>d?(i=c/s,o=c/u/a):(o=l/a,i=l*u/s);for(let h=0;h<t.length;h++){const p=t[h];let y=document.createElement("canvas"),E=y.getContext("2d",{willReadFrequently:!0}),D={},N=[],T=[],$=0,Y=0,ie=2===r.length&&r[1]?.font?.replace(/[^0-9]/g,"");ie&&/[0-9]/g.test(ie)&&($=parseFloat(ie),Y=(i||1)*$,Number.isNaN(Y)&&(Y=$));const me=p.points;for(let St=0;St<me.length;St++){const Bv=me?.[St]?.x??0,jv=me?.[St]?.y??0;D[`x${St+1}`]=Bv,D[`y${St+1}`]=jv,N.push(Bv),T.push(jv)}let Et=Math.max(...N),un=Math.min(...N),hi=Math.max(...T),wo=Math.min(...T);y.setAttribute("class","qrcode-polygon"),u>d?(y.style.top=wo*o+.5*(l-c/u)+"px",y.style.left=un*i+"px",y.width=(Et-un)*i,y.height=(hi-wo)*i):(y.style.top=wo*o+"px",y.style.left=un*i+.5*(c-l*u)+"px",y.width=(Et-un)*o,y.height=(hi-wo)*o);for(const St in r[0])E[St]=r[0][St];const gN=[];for(let St=0;St<N.length;St++)gN.push((D[`x${St+1}`]-un)*o),gN.push((D[`y${St+1}`]-wo)*i);const Dp=gN.slice(0);for(E.beginPath(),E.moveTo(Dp.shift(),Dp.shift());Dp.length;)E.lineTo(Dp.shift(),Dp.shift());if(E.closePath(),E.fill(),E.stroke(),$){const St=document.createElement("div");St.setAttribute("class","qrcode-tooltip-temp"),St.innerText=p.value,St.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",St.style.borderRadius=`clamp(1px, ${i*$-10}px, 3px)`,St.style.paddingBlock=`clamp(1px, ${i*$-10}px, 3px)`,St.style.paddingInline=`clamp(2.5px, ${i*$-6}px, 10px)`;const Bv=`<svg xmlns="http://www.w3.org/2000/svg" width="${Y}" height="${Y}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,jv=(new DOMParser).parseFromString(Bv,"application/xml"),mN=St.ownerDocument.importNode(jv.documentElement,!0);mN.style.marginLeft=`clamp(1px, ${i*$-10}px, 3px)`,St.appendChild(mN),mN.addEventListener("click",()=>window.navigator.clipboard.writeText(p.value)),St.addEventListener("click",()=>window.navigator.clipboard.writeText(p.value));const ha=document.createElement("div");ha.setAttribute("class","qrcode-tooltip"),ha.appendChild(St),o=l/a,i=l*u/s,ha.style.fontSize=i*$+"px",ha.style.top=wo*o+"px",ha.style.left=un*i+.5*(c-l*u)+"px",ha.style.width=(Et-un)*o+"px",ha.style.height=(hi-wo)*o+"px";const Mu=document.createElement("span");Mu.innerText=p.value,Mu.style.top=wo*o+-20*o+"px",Mu.style.left=un*i+.5*(c-l*u)+"px";const rbe=r[1]?.font?.split(" ")?.[1];Mu.style.fontFamily=rbe,Mu.style.fontSize=i*$+"px",Mu.style.color=r?.[1]?.fillStyle,n?.appendChild(ha),n?.appendChild(Mu)}n?.appendChild(y)}},f9=(t,e)=>new Promise((n,r)=>t.toBlob(i=>n(i),e)),p9=(t=[],e,n,r,i=new di)=>(g9(t,n,r).then(o=>{Promise.all(Object.assign([],t).map(s=>((t,e)=>{let n=e?.decode??as.decode,r=2===e?.canvasStyles?.length?e?.canvasStyles:[cN,lN],i=e?.isBeep??as.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const u={name:t.name,file:t,url:URL.createObjectURL(t)},c=new Image;c.setAttribute("crossOrigin","anonymous"),c.onload=v(function*(){const l=document.createElement("canvas");l.width=c.naturalWidth||c.width,l.height=c.naturalHeight||c.height;const d=l.getContext("2d");d.drawImage(c,0,0,l.width,l.height);const h=d.getImageData(0,0,l.width,l.height);if(Uv()){const p=yield zbarWasm.scanImageData(h);if(p?.length){p.forEach(N=>N.value=N.decode(n?.toLocaleLowerCase())),((t,e,n)=>{let r=e.getContext("2d",{willReadFrequently:!0});for(let i=0;i<t.length;i++){const o=t[i];let s={},a=[],u=[],c=0,d=n[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(c=parseFloat(d));const h=o.points;for(let T=0;T<h.length;T++){const $=h?.[T]?.x??0,Y=h?.[T]?.y??0;s[`x${T+1}`]=$,s[`y${T+1}`]=Y,a.push($),u.push(Y)}let p=Math.min(...a),y=Math.min(...u);const E=()=>{for(const Y in n[0])r[Y]=n[0][Y];const T=[];for(let Y=0;Y<a.length;Y++)T.push(s[`x${Y+1}`]),T.push(s[`y${Y+1}`]);const $=T.slice(0);for(r.beginPath(),r.moveTo($.shift(),$.shift());$.length;)r.lineTo($.shift(),$.shift());r.closePath(),r.fill(),r.stroke()};let D=document.createElement("canvas");const N=()=>{const T=n[1]?.font?.split(" ")?.[1];D.height=e.height,D.width=e.width;let $=D.getContext("2d",{willReadFrequently:!0});$.font=c+"px "+T;for(const Y in n[1])$[Y]=n[1][Y];LCe($,o.value,p,y-5)};E(),N(),r.drawImage(D,0,0)}})(p,l,r);const y=yield f9(l),E=URL.createObjectURL(y);o(Object.assign({},u,{data:p,url:E,canvas:l,file:(N=y,T=u.name,new File([N],T,{lastModified:(new Date).getTime(),type:N.type}))})),dN(i)}else o(Object.assign({},u,{data:p,canvas:l}))}var N,T}),c.src=u.url},a.onerror=u=>s(u),a.readAsDataURL(t)})})(s,e))).then(s=>{qe(i,s)}).catch(s=>qe(i,null,s))}),i),LCe=(t,e,n,r)=>{let i=1.2*t.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)t.fillText(o[s],n,r),t.strokeText(o[s],n,r),r+=i},g9=function(){var t=v(function*(e=[],n=.5,r="image/jpeg"){if(!e.length||1===n)return e;const i=function(){var s=v(function*(a){const u=yield createImageBitmap(a),c=document.createElement("canvas");c.width=u.width,c.height=u.height,c.getContext("2d").drawImage(u,0,0);const d=yield new Promise(h=>c.toBlob(h,r,n));return new File([d],a.name,{type:d.type})});return function(u){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield v(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield i(s);o.items.add(a)}})(),o.files});return function(){return t.apply(this,arguments)}}(),m9=t=>{Object.assign([],t.childNodes).forEach(e=>t.removeChild(e))},hN=(t,e)=>{t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight+"px"},_9=(t=300)=>{t&&UCe()&&window?.navigator?.vibrate(t)},UCe=()=>{const t=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4))||/^((?!chrome|android).)*safari/i.test(t))};let y9=(()=>{class t{loadFiles(n=[],r,i){const o=new di;return g9(n,r,i).then(s=>{Promise.all(Object.assign([],n).map(a=>this.readAsDataURL(a))).then(a=>qe(o,a)).catch(a=>qe(o,null,a))}),o}loadFilesToScan(n=[],r,i,o){return p9(n,r,i,o)}readAsDataURL(n){return new Promise((r,i)=>{const o=new FileReader;o.onload=()=>{const s={name:n.name,file:n,url:URL.createObjectURL(n)};r(s)},o.onerror=s=>i(s),o.readAsDataURL(n)})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ge({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fN=(t=new di,e)=>{let n=0;const r=(i=!1)=>{const o=()=>{let u;try{const c=()=>{clearTimeout(u),Uv()?setTimeout(()=>qe(t,!0)):u=setTimeout(()=>c())};setTimeout(()=>c()),setTimeout(()=>clearTimeout(u),3e3)}catch{clearTimeout(u)}},s=document.querySelectorAll(`script[src="${Ip}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const u=document.querySelectorAll(`script[src="${uN}"]`);if(1===u.length)o();else if(u.forEach(c=>c.remove()),e){const c=e.createElement("script");e.setAttribute(c,"src",i?Ip:uN),e.setAttribute(c,"type","text/javascript"),e.setAttribute(c,"async",""),e.appendChild(document.head,c),c.onload=()=>o(),c.onerror=()=>{n<2?(document.head.removeChild(c),r(!0)):qe(t,!1,Ip)},n+=1}else{const c=document.createElement("script");c.setAttribute("src",i?Ip:uN),c.setAttribute("type","text/javascript"),c.setAttribute("async",""),document.head.appendChild(c),c.onload=()=>o(),c.onerror=()=>{n<2?(document.head.removeChild(c),r(!0)):qe(t,!1,Ip)},n+=1}}};return r(),t};let BCe=(()=>{class t{constructor(n,r){this.renderer=n,this.elementRef=r,this.event=new ht,this.src=as.src,this.fps=as.fps,this.vibrate=as.vibrate,this.decode=as.decode,this.isBeep=as.isBeep,this.config=as,this.constraints=as.constraints,this.canvasStyles=[cN,lN],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new Er([]),this.devices=new Er([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new di,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),fN(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(n){const r=new di;return this.isStart?qe(r,!1):this.safariWebRTC(r,n),r}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const n=new di;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(r=>{r.stop(),qe(n,!0)}),this.dataForResize=[],(t=>{t.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,t.width,t.height)})(this.canvas.nativeElement),m9(this.resultsPanel.nativeElement)}catch(r){qe(n,!1,r)}return n}play(){const n=new di;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),qe(n,!0)):qe(n,!1),n}pause(){const n=new di;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),qe(n,!0)):qe(n,!1),n}playDevice(n,r=new di){const i=this.getConstraints();switch(!0){case"null"===n||"undefined"===n||!n:stop(),this.stop(),qe(r,!1);break;case n&&(!this.isStart||!i||i.deviceId!==n):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===n);const s={...this.constraints,audio:!1,video:{deviceId:n,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),qe(r,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),qe(r,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:qe(r,!1),this.STATUS.loadingOFF()}return r}loadImage(n){const r=new di;this.STATUS.startOFF(),this.STATUS.loadingON();const i=new Image;return i.setAttribute("crossOrigin","anonymous"),i.onload=()=>{Uv()&&this.drawImage(i,o=>{qe(r,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},i.src=n,r}torcher(){const n=this.applyConstraints({advanced:[{torch:this.isTorch}]});return n.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),n}applyConstraints(n,r=0){var i=this;const o=new di;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===r&&void 0===r&&Number.isNaN(r))qe(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[r];new window.ImageCapture(a).getPhotoCapabilities().then(v(function*(){yield a.applyConstraints(n),hN(i.video.nativeElement,i.canvas.nativeElement),qe(o,!0)})).catch(c=>{switch(c?.name){case"NotFoundError":case"DevicesNotFoundError":qe(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":qe(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":qe(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":qe(o,!1,"Permission denied in browser");break;case"TypeError":qe(o,!1,"Empty constraints object");break;default:qe(o,!1,c)}})}}else qe(o,!1,"Please start the scanner");return o}getConstraints(n=0){return this.video.nativeElement.srcObject?.getVideoTracks()[n]?.getConstraints()}download(n=`ngx_scanner_qrcode_${Date.now()}.png`,r,i){var o=this;const s=new di;return v(function*(){const u=((t,e)=>new File([t],e,{lastModified:(new Date).getTime(),type:t.type}))(yield f9(o.canvas.nativeElement),n);p9([u],o.config,r,i,s).subscribe(c=>{c.forEach(l=>{if(l?.data?.length){const d=document.createElement("a");d.href=l.url,d.download=l.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{h9(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),hN(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((t,e,n)=>{if(e&&Object.keys(e[t]).length){for(const r in n){const i=JSON.parse(JSON.stringify({...e[t],[r]:n[r]}));e[t]=e[t].hasOwnProperty(r)?e[t]:i}return e[t]}return n})("constraints",this.config,d9)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(n,r){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(i=>{i.getTracks().forEach(o=>o.stop()),this.loadAllDevices(n,r)}).catch(i=>{qe(n,!1,i),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(n,r){navigator.mediaDevices.enumerateDevices().then(i=>{let o=i.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(qe(n,o),r?r(o):this.playDevice(o[0].deviceId)):(qe(n,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(i=>{qe(n,!1,i),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(n,r=(()=>{})){var i=this;return v(function*(){const o=i.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});n instanceof HTMLImageElement&&(o.width=n.naturalWidth,o.height=n.naturalHeight,n.style.visibility="",i.video.nativeElement.style.visibility="hidden",i.renderer.setStyle(i.elementRef.nativeElement,"width",o.width+"px"),i.renderer.setStyle(i.elementRef.nativeElement,"maxWidth","100%"),i.renderer.setStyle(i.elementRef.nativeElement,"display","inline-block")),n instanceof HTMLVideoElement&&(o.width=n.videoWidth,o.height=n.videoHeight,n.style.visibility="",i.canvas.nativeElement.style.visibility="hidden"),hN(i.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(n,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),u=yield zbarWasm.scanImageData(a);if(u?.length){u.forEach(l=>l.value=l.decode(i.decode?.toLocaleLowerCase())),h9(u,Object.freeze(i.canvas.nativeElement),i.resultsPanel.nativeElement,i.canvasStyles);const c=()=>{i.eventEmit(u),i.dataForResize=u};n instanceof HTMLImageElement&&(r(!0),c(),_9(i.vibrate),dN(i.isBeep)),n instanceof HTMLVideoElement&&(c(),_9(i.vibrate),dN(i.isBeep))}else r(!1),m9(i.resultsPanel.nativeElement),i.dataForResize=[]})()}eventEmit(n=!1){!1!==n&&this.data.next(n||[]),!1!==n&&this.event.emit(n||[])}requestAnimationFrame(n=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(n=0,Uv()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(n))},n||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}}return t.\u0275fac=function(n){return new(n||t)(k(_i),k(Ar))},t.\u0275cmp=qt({type:t,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(n,r){if(1&n&&(Yi(ACe,5),Yi(xCe,5),Yi(MCe,5)),2&n){let i;Ei(i=Ci())&&(r.video=i.first),Ei(i=Ci())&&(r.canvas=i.first),Ei(i=Ci())&&(r.resultsPanel=i.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(n,r){1&n&&he(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2}),t})(),E9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({providers:[y9]}),t})();const zCe=["action"];function GCe(t,e){1&t&&(M(0,"p"),j(1,"\u231b Loading..."),A())}let qCe=(()=>{class t{constructor(n,r,i,o,s){this.qrcode=n,this.router=r,this.route=i,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(n=>{})}onEvent(n,r){console.log(n[0].value)}handle(n,r){"start"===r?n[r](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));n.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(r,o),alert):n[r]().subscribe(o=>console.log(r,o),alert)}onDowload(n){n.download().subscribe(console.log,alert)}onSelects(n){this.qrcode.loadFiles(n,.5).subscribe(r=>{this.qrCodeResult=r})}onSelects2(n){this.qrcode.loadFilesToScan(n,this.config,.5).subscribe(r=>{console.log(r),this.qrCodeResult2=r})}getData(){const n=Mn(this.firestore,"muestras");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}MyQuery(){var n=this;return v(function*(){let r=n.item;console.log(r);const i=yu(Mn(n.firestore,"muestras"),vu("codigo","==",r));mn(i).then(o=>{n.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=n.data.length&&(n.router.navigate(["user/muestras-info/"+r]),console.log("not empty"))})})()}}return t.\u0275fac=function(n){return new(n||t)(k(y9),k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-scan"]],viewQuery:function(n,r){if(1&n&&Yi(zCe,5),2&n){let i;Ei(i=Ci())&&(r.action=i.first)}},decls:8,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(n,r){if(1&n){const i=Hr();M(0,"div",0)(1,"h1"),j(2," ngx-scanner-qrcode "),A(),M(3,"ngx-scanner-qrcode",1,2),de("event",function(s){Kn(i);const a=ni(4);return Qn(r.onEvent(s,a))}),A(),xd(5,GCe,2,0,"p",3),M(6,"button",4),de("click",function(){Kn(i);const s=ni(4);return Qn(r.handle(s,s.isStart?"stop":"start"))}),he(7,"img",5),A()()}if(2&n){const i=ni(4);Se(3),Lt("config",r.config),Se(2),Lt("ngIf",i.isLoading),Se(1),Nd("btn-info",!i.isStart)("btn-warning",i.isStart),Lt("disabled",i.isLoading),Se(1),Lt("src",i.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",ew)}},dependencies:[L2,BCe],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center;background:#fdfdfd}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:antiquewhite;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:50%;width:50%;margin-left:auto;margin-right:auto}"]}),t})();const WCe=["geo"];let KCe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new ht}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}addData(n){const r=yr(this.firestore,"muestras",n.codigo);Rl(r,n).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=Mn(this.firestore,"muestras");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return v(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return v(function*(){let r=n.text;const i=yu(Mn(n.firestore,"muestras"),vu("codigo","==",r));(yield mn(i)).forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data()),n.res=n.item.coordenadas})})()}deleteData(n){const r=yr(this.firestore,"users",n);Nl(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-muestras-edit"]],viewQuery:function(n,r){if(1&n&&Yi(WCe,5),2&n){let i;Ei(i=Ci())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:59,vars:9,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(n,r){if(1&n){const i=Hr();M(0,"p"),j(1,"muestras-edit works!"),A(),M(2,"h1",0),j(3,"Editar Muestra"),A(),M(4,"div",1)(5,"form",2,3),de("ngSubmit",function(){Kn(i);const s=ni(6);return Qn(r.handleRegister(s.value))}),M(7,"div",4)(8,"div",5)(9,"span",6),j(10,"Codigo:"),A(),M(11,"input",7),de("ngModelChange",function(s){return r.item.codigo=s}),A()(),M(12,"div",5)(13,"span",6),j(14,"Cliente:"),A(),M(15,"input",8),de("ngModelChange",function(s){return r.item.cliente=s}),A()(),M(16,"div",5)(17,"span",6),j(18,"Fecha:"),A(),M(19,"input",9),de("ngModelChange",function(s){return r.item.fecha=s}),A()(),M(20,"div",5)(21,"span",6),j(22,"Cultivo:"),A(),M(23,"input",10),de("ngModelChange",function(s){return r.item.cultivo=s}),A()(),M(24,"div",5)(25,"span",6),j(26,"Tipo:"),A(),M(27,"input",11),de("ngModelChange",function(s){return r.item.tipo=s}),A(),M(28,"datalist",12),he(29,"option",13)(30,"option",14)(31,"option",15),A()(),M(32,"div",5)(33,"span",6),j(34,"Fitopat\xf3geno:"),A(),M(35,"input",16),de("ngModelChange",function(s){return r.item.fitopatogeno=s}),A(),M(36,"datalist",17),he(37,"option",18)(38,"option",19)(39,"option",20),A()(),M(40,"div",5)(41,"span",6),j(42,"Coordenadas:"),A(),M(43,"input",21),de("ngModelChange",function(s){return r.res=s}),A(),M(44,"div",22),de("click",function(){return r.getLocation()}),he(45,"img",23),A()(),M(46,"div",5)(47,"span",6),j(48,"S\xedntomas:"),A(),M(49,"textarea",24),de("ngModelChange",function(s){return r.item.sintomas=s}),A()(),M(50,"div",5)(51,"span",6),j(52,"Comentarios:"),A(),M(53,"textarea",25),de("ngModelChange",function(s){return r.item.comentarios=s}),j(54," "),A()(),M(55,"button",26),j(56,"Editar Muestra"),A(),M(57,"button",27),de("click",function(){return r.deleteData(r.item.id)}),j(58," Delete "),A()()()()}2&n&&(Se(11),Lt("ngModel",r.item.codigo),Se(4),Lt("ngModel",r.item.cliente),Se(4),Lt("ngModel",r.item.fecha),Se(4),Lt("ngModel",r.item.cultivo),Se(4),Lt("ngModel",r.item.tipo),Se(8),Lt("ngModel",r.item.fitopatogeno),Se(8),Lt("ngModel",r.res),Se(6),Lt("ngModel",r.item.sintomas),Se(4),Lt("ngModel",r.item.comentarios))},dependencies:[Vo,Tm,Sm,Ji,Ts,Fo,Lo,Ti],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:17%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})();const QCe=["geo"];let YCe=(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new ht,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}addData(n){const r=yr(this.firestore,"muestras",n.codigo);Rl(r,n).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(n.comentarios)}getData(){const n=Mn(this.firestore,"muestras");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return v(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return v(function*(){let r=n.text;const i=yu(Mn(n.firestore,"muestras"),vu("codigo","==",r));(yield mn(i)).forEach(s=>{n.item=s.data(),console.log(s.id," => ",s.data())})})()}deleteData(n){const r=yr(this.firestore,"users",n);Nl(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-muestras-info"]],viewQuery:function(n,r){if(1&n&&Yi(QCe,5),2&n){let i;Ei(i=Ci())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:53,vars:9,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(n,r){if(1&n){const i=Hr();M(0,"p"),j(1,"muestras-info works!"),A(),M(2,"h1",0),j(3,"Datos de la Muestra"),A(),M(4,"div",1)(5,"form",2,3),de("ngSubmit",function(){Kn(i);const s=ni(6);return Qn(r.handleRegister(s.value))}),M(7,"div",4)(8,"div",5)(9,"span",6),j(10,"Codigo:"),A(),M(11,"span",7),j(12),A()(),M(13,"div",5)(14,"span",6),j(15,"Cliente:"),A(),M(16,"span",7),j(17),A()(),M(18,"div",5)(19,"span",6),j(20,"Fecha:"),A(),M(21,"span",7),j(22),A()(),M(23,"div",5)(24,"span",6),j(25,"Cultivo:"),A(),M(26,"span",7),j(27),A()(),M(28,"div",5)(29,"span",6),j(30,"Tipo:"),A(),M(31,"span",7),j(32),A()(),M(33,"div",5)(34,"span",6),j(35,"Fitopat\xf3geno:"),A(),M(36,"span",7),j(37),A()(),M(38,"div",5)(39,"span",6),j(40,"Coordenadas:"),A(),M(41,"span",7),j(42),A()(),M(43,"div",5)(44,"span",6),j(45,"S\xedntomas:"),A(),M(46,"span",7),j(47),A()(),M(48,"div",5)(49,"span",6),j(50,"Comentarios:"),A(),M(51,"span",7),j(52),A()()()()()}2&n&&(Se(12),ri(" ",r.item.codigo,""),Se(5),ri(" ",r.item.cliente,""),Se(5),ri(" ",r.item.fecha,""),Se(5),ri(" ",r.item.cultivo,""),Se(5),ri(" ",r.item.tipo,""),Se(5),ri(" ",r.item.fitopatogeno,""),Se(5),ri(" ",r.item.coordenadas,""),Se(5),ri(" ",r.item.sintomas,""),Se(5),ri(" ",r.item.comentarios,""))},dependencies:[Vo,Fo,Ti],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:60%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})();const XCe=["geo"],JCe=[{path:"user",component:o5,children:[{path:"projects",component:wCe},{path:"project-new",component:DCe},{path:"project-edit/:id",component:(()=>{class t{constructor(n,r,i,o){this.router=n,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new ht}ngOnInit(){this.route.params.subscribe(n=>{this.text=n.id,console.log(n),console.log(n.id)}),this.getData(),this.MyQuery()}handleRegister(n){this.addData(n)}randomCode(){let n="";for(let o=0;o<20;o++)n+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return n}addData(n){let r=n.integrantes.split(/[\s,]+/);const i=yr(this.firestore,"projects",this.pid);Rl(i,{name:n.name,cliente:n.cliente,owner:n.owner,integrantes:r}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(n.comentarios)}getData(){const n=Mn(this.firestore,"projects");mn(n).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(n){console.log(n.coords.latitude),console.log(n.coords.longitude)}getLocation(){var n=this;return v(function*(){n.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(n.showPosition):console.log("error"),setTimeout(()=>{console.log(n.res)},1e3)})()}MyQuery(){var n=this;return v(function*(){let r=n.text;const i=yu(Mn(n.firestore,"projects"),vu("name","==",r));(yield mn(i)).forEach(s=>{n.item=s.data(),n.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(n){const r=yr(this.firestore,"users",n);Nl(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return t.\u0275fac=function(n){return new(n||t)(k(rt),k(er),k(Jt),k(sr))},t.\u0275cmp=qt({type:t,selectors:[["app-project-edit"]],viewQuery:function(n,r){if(1&n&&Yi(XCe,5),2&n){let i;Ei(i=Ci())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(n,r){if(1&n){const i=Hr();M(0,"p"),j(1,"project-edit works!"),A(),M(2,"h1",0),j(3,"Editar Projecto"),A(),M(4,"div",1)(5,"form",2,3),de("ngSubmit",function(){Kn(i);const s=ni(6);return Qn(r.handleRegister(s.value))}),M(7,"div",4)(8,"div",5)(9,"span",6),j(10,"Nombre:"),A(),M(11,"input",7),de("ngModelChange",function(s){return r.item.name=s}),A()(),M(12,"div",5)(13,"span",6),j(14,"Owner:"),A(),M(15,"input",8),de("ngModelChange",function(s){return r.item.owner=s}),A()(),M(16,"div",5)(17,"span",6),j(18,"Integrantes:"),A(),M(19,"input",9),de("ngModelChange",function(s){return r.item.integrantes=s}),A()(),M(20,"div",5)(21,"span",6),j(22,"Cliente:"),A(),M(23,"input",10),de("ngModelChange",function(s){return r.item.cliente=s}),A()(),M(24,"button",11),j(25,"Editar Projecto"),A(),M(26,"button",12),de("click",function(){return r.deleteData(r.item.id)}),j(27," Delete "),A()()()()}2&n&&(Se(11),Lt("ngModel",r.item.name),Se(4),Lt("ngModel",r.item.owner),Se(4),Lt("ngModel",r.item.integrantes),Se(4),Lt("ngModel",r.item.cliente))},dependencies:[Vo,Ji,Ts,Fo,Lo,Ti],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}"]}),t})()},{path:"barcode",component:bCe},{path:"muestras/:id",component:CCe},{path:"muestras-new/:id",component:SCe},{path:"muestras-edit/:id",component:KCe},{path:"muestras-info/:id",component:YCe},{path:"scan",component:qCe}]}];let ZCe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({imports:[Pa.forChild(JCe),Pa]}),t})();fN().subscribe(t=>console.log("LOAD_WASM",t));let ebe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({imports:[hm,ZCe,IC,E9]}),t})(),tbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=jt({imports:[hm]}),t})();fN().subscribe(t=>console.log("LOAD_WASM",t));let nbe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Wt({type:t,bootstrap:[yve]}),t.\u0275inj=jt({providers:[{provide:Es,useClass:I2}],imports:[Xte,_ve,IC,dve,Ele(()=>Cle(vve_firebase)),ope(()=>BS()),GEe(()=>qEe()),sve(()=>uve()),_Ce(()=>yCe()),ebe,tbe,E9]}),t})();Qte().bootstrapModule(nbe).catch(t=>console.error(t))},6387:(fe,b,R)=>{var U=J(R(4168)),O=J(R(6017)),z=J(R(1301)),H=J(R(7164)),f=J(R(8619)),_=J(R(4866)),w=J(R(3057)),I=R(723),q=J(R(530));function J(Fe){return Fe&&Fe.__esModule?Fe:{default:Fe}}var oe=function(){},ut=function(ct,Ot,st){var He=new oe;if(typeof ct>"u")throw Error("No element to render on was provided.");return He._renderProperties=(0,f.default)(ct),He._encodings=[],He._options=q.default,He._errorHandler=new w.default(He),typeof Ot<"u"&&((st=st||{}).format||(st.format=us()),He.options(st)[st.format](Ot,st).render()),He};for(var Fr in ut.getModule=function(Fe){return U.default[Fe]},U.default)U.default.hasOwnProperty(Fr)&&Yr(U.default,Fr);function Yr(Fe,ct){oe.prototype[ct]=oe.prototype[ct.toUpperCase()]=oe.prototype[ct.toLowerCase()]=function(Ot,st){var He=this;return He._errorHandler.wrapBarcodeCall(function(){st.text=typeof st.text>"u"?void 0:""+st.text;var wr=(0,O.default)(He._options,st);wr=(0,_.default)(wr);var At=fa(Ot,Fe[ct],wr);return He._encodings.push(At),He})}}function fa(Fe,ct,Ot){var st=new ct(Fe=""+Fe,Ot);if(!st.valid())throw new I.InvalidInputException(st.constructor.name,Fe);var He=st.encode();He=(0,z.default)(He);for(var wr=0;wr<He.length;wr++)He[wr].options=(0,O.default)(Ot,He[wr].options);return He}function us(){return U.default.CODE128?"CODE128":Object.keys(U.default)[0]}function cs(Fe,ct,Ot){ct=(0,z.default)(ct);for(var st=0;st<ct.length;st++)ct[st].options=(0,O.default)(Ot,ct[st].options),(0,H.default)(ct[st].options);(0,H.default)(Ot),new(0,Fe.renderer)(Fe.element,ct,Ot).render(),Fe.afterRender&&Fe.afterRender()}oe.prototype.options=function(Fe){return this._options=(0,O.default)(this._options,Fe),this},oe.prototype.blank=function(Fe){var ct=new Array(Fe+1).join("0");return this._encodings.push({data:ct}),this},oe.prototype.init=function(){var Fe;if(this._renderProperties)for(var ct in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var Ot=(0,O.default)(this._options,(Fe=this._renderProperties[ct]).options);"auto"==Ot.format&&(Ot.format=us()),this._errorHandler.wrapBarcodeCall(function(){var wr=fa(Ot.value,U.default[Ot.format.toUpperCase()],Ot);cs(Fe,wr,Ot)})}},oe.prototype.render=function(){if(!this._renderProperties)throw new I.NoElementException;if(Array.isArray(this._renderProperties))for(var Fe=0;Fe<this._renderProperties.length;Fe++)cs(this._renderProperties[Fe],this._encodings,this._options);else cs(this._renderProperties,this._encodings,this._options);return this},oe.prototype._defaults=q.default,typeof window<"u"&&(window.JsBarcode=ut),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Fe,ct){var Ot=[];return jQuery(this).each(function(){Ot.push(this)}),ut(Ot,Fe,ct)}),fe.exports=ut},9418:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function U(V,O){(function R(U,V){if(!(U instanceof V))throw new TypeError("Cannot call a class as a function")})(this,U),this.data=V,this.text=O.text||V,this.options=O}},8514:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function f(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&f(g.prototype,_),m&&f(g,m),g}}(),V=function B(f){return f&&f.__esModule?f:{default:f}}(R(9418)),O=R(9144),C=function(f){function g(_,m){!function z(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g);var w=function x(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_.substring(1),m));return w.bytes=_.split("").map(function(I){return I.charCodeAt(0)}),w}return function H(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}(g,f),F(g,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var m=this.bytes,w=m.shift()-105,I=O.SET_BY_CODE[w];if(void 0===I)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&m.unshift(O.FNC1);var S=g.next(m,1,I);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:g.getBar(w)+S.result+g.getBar((S.checksum+w)%O.MODULO)+g.getBar(O.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var m=this.options.ean128||!1;return"string"==typeof m&&(m="true"===m.toLowerCase()),m}}],[{key:"getBar",value:function(m){return O.BARS[m]?O.BARS[m].toString():""}},{key:"correctIndex",value:function(m,w){if(w===O.SET_A){var I=m.shift();return I<32?I+64:I-32}return w===O.SET_B?m.shift()-32:10*(m.shift()-48)+m.shift()-48}},{key:"next",value:function(m,w,I){if(!m.length)return{result:"",checksum:0};var S=void 0,q=void 0;if(m[0]>=200){q=m.shift()-105;var J=O.SWAP[q];void 0!==J?S=g.next(m,w+1,J):((I===O.SET_A||I===O.SET_B)&&q===O.SHIFT&&(m[0]=I===O.SET_A?m[0]>95?m[0]-96:m[0]:m[0]<32?m[0]+96:m[0]),S=g.next(m,w+1,I))}else q=g.correctIndex(m,I),S=g.next(m,w+1,I);return{result:g.getBar(q)+S.result,checksum:q*w+S.checksum}}}]),g}(V.default);b.default=C},2100:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function f(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&f(g.prototype,_),m&&f(g,m),g}}(),V=function B(f){return f&&f.__esModule?f:{default:f}}(R(8514)),O=R(9144),C=function(f){function g(_,m){return function z(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),function x(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,O.A_START_CHAR+_,m))}return function H(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}(g,f),F(g,[{key:"valid",value:function(){return new RegExp("^"+O.A_CHARS+"+$").test(this.data)}}]),g}(V.default);b.default=C},2943:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function f(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&f(g.prototype,_),m&&f(g,m),g}}(),V=function B(f){return f&&f.__esModule?f:{default:f}}(R(8514)),O=R(9144),C=function(f){function g(_,m){return function z(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),function x(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,O.B_START_CHAR+_,m))}return function H(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}(g,f),F(g,[{key:"valid",value:function(){return new RegExp("^"+O.B_CHARS+"+$").test(this.data)}}]),g}(V.default);b.default=C},5683:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function f(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&f(g.prototype,_),m&&f(g,m),g}}(),V=function B(f){return f&&f.__esModule?f:{default:f}}(R(8514)),O=R(9144),C=function(f){function g(_,m){return function z(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),function x(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,O.C_START_CHAR+_,m))}return function H(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}(g,f),F(g,[{key:"valid",value:function(){return new RegExp("^"+O.C_CHARS+"+$").test(this.data)}}]),g}(V.default);b.default=C},7737:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var U=B(R(8514)),O=B(R(4336));function B(f){return f&&f.__esModule?f:{default:f}}function x(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}var C=function(f){function g(_,m){if(function z(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),/^[\x00-\x7F\xC8-\xD3]+$/.test(_))var w=x(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,(0,O.default)(_),m));else w=x(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,m));return x(w)}return function H(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}(g,f),g}(U.default);b.default=C},4336:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=R(9144),U=function(H){return H.match(new RegExp("^"+F.A_CHARS+"*"))[0].length},V=function(H){return H.match(new RegExp("^"+F.B_CHARS+"*"))[0].length},O=function(H){return H.match(new RegExp("^"+F.C_CHARS+"*"))[0]};function B(x,H){var C=H?F.A_CHARS:F.B_CHARS,f=x.match(new RegExp("^("+C+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(f)return f[1]+String.fromCharCode(204)+z(x.substring(f[1].length));var g=x.match(new RegExp("^"+C+"+"))[0];return g.length===x.length?x:g+String.fromCharCode(H?205:206)+B(x.substring(g.length),!H)}function z(x){var H=O(x),C=H.length;if(C===x.length)return x;x=x.substring(C);var f=U(x)>=V(x);return H+String.fromCharCode(f?206:205)+B(x,f)}b.default=function(x){var H=void 0;if(O(x).length>=2)H=F.C_START_CHAR+z(x);else{var f=U(x)>V(x);H=(f?F.A_START_CHAR:F.B_START_CHAR)+B(x,f)}return H.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(g,_){return String.fromCharCode(203)+_})}},9144:(fe,b)=>{var R;function F(Fr,Yr,fa){return Yr in Fr?Object.defineProperty(Fr,Yr,{value:fa,enumerable:!0,configurable:!0,writable:!0}):Fr[Yr]=fa,Fr}Object.defineProperty(b,"__esModule",{value:!0});var U=b.SET_A=0,V=b.SET_B=1,O=b.SET_C=2,z=(b.SHIFT=98,b.START_A=103),x=b.START_B=104,H=b.START_C=105;b.MODULO=103,b.STOP=106,b.FNC1=207,b.SET_BY_CODE=(F(R={},z,U),F(R,x,V),F(R,H,O),R),b.SWAP={101:U,100:V,99:O},b.A_START_CHAR=String.fromCharCode(208),b.B_START_CHAR=String.fromCharCode(209),b.C_START_CHAR=String.fromCharCode(210),b.A_CHARS="[\0-_\xc8-\xcf]",b.B_CHARS="[ -\x7f\xc8-\xcf]",b.C_CHARS="(\xcf*[0-9]{2}\xcf*)",b.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},8754:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CODE128C=b.CODE128B=b.CODE128A=b.CODE128=void 0;var U=C(R(7737)),O=C(R(2100)),z=C(R(2943)),H=C(R(5683));function C(f){return f&&f.__esModule?f:{default:f}}b.CODE128=U.default,b.CODE128A=O.default,b.CODE128B=z.default,b.CODE128C=H.default},6602:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CODE39=void 0;var F=function(){function S(q,J){for(var oe=0;oe<J.length;oe++){var ut=J[oe];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(q,ut.key,ut)}}return function(q,J,oe){return J&&S(q.prototype,J),oe&&S(q,oe),q}}(),H=function(S){function q(J,oe){return function B(S,q){if(!(S instanceof q))throw new TypeError("Cannot call a class as a function")}(this,q),J=J.toUpperCase(),oe.mod43&&(J+=function m(S){return C[S]}(function I(S){for(var q=0,J=0;J<S.length;J++)q+=w(S[J]);return q%=43}(J))),function z(S,q){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!q||"object"!=typeof q&&"function"!=typeof q?S:q}(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,J,oe))}return function x(S,q){if("function"!=typeof q&&null!==q)throw new TypeError("Super expression must either be null or a function, not "+typeof q);S.prototype=Object.create(q&&q.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(S,q):S.__proto__=q)}(q,S),F(q,[{key:"encode",value:function(){for(var oe=g("*"),ut=0;ut<this.data.length;ut++)oe+=g(this.data[ut])+"0";return{data:oe+=g("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),q}(function O(S){return S&&S.__esModule?S:{default:S}}(R(9418)).default),C=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],f=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function g(S){return function _(S){return f[S].toString(2)}(w(S))}function w(S){return C.indexOf(S)}b.CODE39=H},4079:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function _(m,w){for(var I=0;I<w.length;I++){var S=w[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,I){return w&&_(m.prototype,w),I&&_(m,I),m}}(),U=R(1392),O=x(R(2651));function x(_){return _&&_.__esModule?_:{default:_}}var g=function(_){function m(w,I){!function H(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var S=function C(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?_:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w,I));return S.fontSize=!I.flat&&I.fontSize>10*I.width?10*I.width:I.fontSize,S.guardHeight=I.height+S.fontSize/2+I.textMargin,S}return function f(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(m,_),F(m,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(I,S){return this.text.substr(I,S)}},{key:"leftEncode",value:function(I,S){return(0,O.default)(I,S)}},{key:"rightText",value:function(I,S){return this.text.substr(I,S)}},{key:"rightEncode",value:function(I,S){return(0,O.default)(I,S)}},{key:"encodeGuarded",value:function(){var I={fontSize:this.fontSize},S={height:this.guardHeight};return[{data:U.SIDE_BIN,options:S},{data:this.leftEncode(),text:this.leftText(),options:I},{data:U.MIDDLE_BIN,options:S},{data:this.rightEncode(),text:this.rightText(),options:I},{data:U.SIDE_BIN,options:S}]}},{key:"encodeFlat",value:function(){return{data:[U.SIDE_BIN,this.leftEncode(),U.MIDDLE_BIN,this.rightEncode(),U.SIDE_BIN].join(""),text:this.text}}}]),m}(x(R(9418)).default);b.default=g},9619:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function _(m,w){for(var I=0;I<w.length;I++){var S=w[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,I){return w&&_(m.prototype,w),I&&_(m,I),m}}(),U=function _(m,w,I){null===m&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,w);if(void 0===S){var q=Object.getPrototypeOf(m);return null===q?void 0:_(q,w,I)}if("value"in S)return S.value;var J=S.get;return void 0===J?void 0:J.call(I)},V=R(1392),B=function z(_){return _&&_.__esModule?_:{default:_}}(R(4079)),f=function(m){return(10-m.substr(0,12).split("").map(function(I){return+I}).reduce(function(I,S,q){return q%2?I+3*S:I+S},0)%10)%10},g=function(_){function m(w,I){(function x(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")})(this,m),-1!==w.search(/^[0-9]{12}$/)&&(w+=f(w));var S=function H(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?_:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w,I));return S.lastChar=I.lastChar,S}return function C(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(m,_),F(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===f(this.data)}},{key:"leftText",value:function(){return U(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var I=this.data.substr(1,6),S=V.EAN13_STRUCTURE[this.data[0]];return U(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftEncode",this).call(this,I,S)}},{key:"rightText",value:function(){return U(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var I=this.data.substr(7,6);return U(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightEncode",this).call(this,I,"RRRRRR")}},{key:"encodeGuarded",value:function(){var I=U(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(I.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(I.push({data:"00"}),I.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),I}}]),m}(B.default);b.default=g},5754:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function _(m,w){for(var I=0;I<w.length;I++){var S=w[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,I){return w&&_(m.prototype,w),I&&_(m,I),m}}(),U=R(1392),O=x(R(2651));function x(_){return _&&_.__esModule?_:{default:_}}var g=function(_){function m(w,I){return function H(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function C(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?_:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w,I))}return function f(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(m,_),F(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var I=U.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,O.default)(this.data,I,"01"),text:this.text}}}]),m}(x(R(9418)).default);b.default=g},1931:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function m(w,I){for(var S=0;S<I.length;S++){var q=I[S];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(w,q.key,q)}}return function(w,I,S){return I&&m(w.prototype,I),S&&m(w,S),w}}(),U=R(1392),O=x(R(2651));function x(m){return m&&m.__esModule?m:{default:m}}var _=function(m){function w(I,S){return function H(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w),function C(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?m:w}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I,S))}return function f(m,w){if("function"!=typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}(w,m),F(w,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var S=U.EAN5_STRUCTURE[function(w){return w.split("").map(function(S){return+S}).reduce(function(S,q,J){return J%2?S+9*q:S+3*q},0)%10}(this.data)];return{data:"1011"+(0,O.default)(this.data,S,"01"),text:this.text}}}]),w}(x(R(9418)).default);b.default=_},3372:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function g(_,m){for(var w=0;w<m.length;w++){var I=m[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,m,w){return m&&g(_.prototype,m),w&&g(_,w),_}}(),U=function g(_,m,w){null===_&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,m);if(void 0===I){var S=Object.getPrototypeOf(_);return null===S?void 0:g(S,m,w)}if("value"in I)return I.value;var q=I.get;return void 0===q?void 0:q.call(w)},O=function B(g){return g&&g.__esModule?g:{default:g}}(R(4079)),C=function(_){return(10-_.substr(0,7).split("").map(function(w){return+w}).reduce(function(w,I,S){return S%2?w+I:w+3*I},0)%10)%10},f=function(g){function _(m,w){return function z(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}(this,_),-1!==m.search(/^[0-9]{7}$/)&&(m+=C(m)),function x(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?g:_}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,m,w))}return function H(g,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}(_,g),F(_,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===C(this.data)}},{key:"leftText",value:function(){return U(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var w=this.data.substr(0,4);return U(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"leftEncode",this).call(this,w,"LLLL")}},{key:"rightText",value:function(){return U(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var w=this.data.substr(4,4);return U(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"rightEncode",this).call(this,w,"RRRR")}}]),_}(O.default);b.default=f},5821:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function _(m,w){for(var I=0;I<w.length;I++){var S=w[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,w,I){return w&&_(m.prototype,w),I&&_(m,I),m}}();b.checksum=g;var V=z(R(2651));function z(_){return _&&_.__esModule?_:{default:_}}var f=function(_){function m(w,I){(function x(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")})(this,m),-1!==w.search(/^[0-9]{11}$/)&&(w+=g(w));var S=function H(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?_:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w,I));return S.displayValue=I.displayValue,S.fontSize=I.fontSize>10*I.width?10*I.width:I.fontSize,S.guardHeight=I.height+S.fontSize/2+I.textMargin,S}return function C(_,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}(m,_),F(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==g(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var I="";return I+="101",I+=(0,V.default)(this.data.substr(0,6),"LLLLLL"),I+="01010",I+=(0,V.default)(this.data.substr(6,6),"RRRRRR"),{data:I+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var I=[];return this.displayValue&&I.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),I.push({data:"101"+(0,V.default)(this.data[0],"L"),options:{height:this.guardHeight}}),I.push({data:(0,V.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),I.push({data:"01010",options:{height:this.guardHeight}}),I.push({data:(0,V.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),I.push({data:(0,V.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&I.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),I}}]),m}(z(R(9418)).default);function g(_){var w,m=0;for(w=1;w<11;w+=2)m+=parseInt(_[w]);for(w=0;w<11;w+=2)m+=3*parseInt(_[w]);return(10-m%10)%10}b.default=f},1091:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function I(S,q){for(var J=0;J<q.length;J++){var oe=q[J];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(S,oe.key,oe)}}return function(S,q,J){return q&&I(S.prototype,q),J&&I(S,J),S}}(),V=x(R(2651)),B=x(R(9418)),z=R(5821);function x(I){return I&&I.__esModule?I:{default:I}}function C(I,S){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?I:S}var g=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],_=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],m=function(I){function S(q,J){!function H(I,S){if(!(I instanceof S))throw new TypeError("Cannot call a class as a function")}(this,S);var oe=C(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,q,J));if(oe.isValid=!1,-1!==q.search(/^[0-9]{6}$/))oe.middleDigits=q,oe.upcA=w(q,"0"),oe.text=J.text||""+oe.upcA[0]+q+oe.upcA[oe.upcA.length-1],oe.isValid=!0;else{if(-1===q.search(/^[01][0-9]{7}$/))return C(oe);if(oe.middleDigits=q.substring(1,q.length-1),oe.upcA=w(oe.middleDigits,q[0]),oe.upcA[oe.upcA.length-1]!==q[q.length-1])return C(oe);oe.isValid=!0}return oe.displayValue=J.displayValue,oe.fontSize=J.fontSize>10*J.width?10*J.width:J.fontSize,oe.guardHeight=J.height+oe.fontSize/2+J.textMargin,oe}return function f(I,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);I.prototype=Object.create(S&&S.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(I,S):I.__proto__=S)}(S,I),F(S,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var J="";return J+="101",J+=this.encodeMiddleDigits(),{data:J+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var J=[];return this.displayValue&&J.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),J.push({data:"101",options:{height:this.guardHeight}}),J.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),J.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&J.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),J}},{key:"encodeMiddleDigits",value:function(){var J=this.upcA[0],ut=_[parseInt(this.upcA[this.upcA.length-1])][parseInt(J)];return(0,V.default)(this.middleDigits,ut)}}]),S}(B.default);function w(I,S){for(var q=parseInt(I[I.length-1]),J=g[q],oe="",ut=0,Fr=0;Fr<J.length;Fr++){var Yr=J[Fr];oe+="X"===Yr?I[ut++]:Yr}return(oe=""+S+oe)+(0,z.checksum)(oe)}b.default=m},1392:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SIDE_BIN="101",b.MIDDLE_BIN="01010",b.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},b.EAN2_STRUCTURE=["LL","LG","GL","GG"],b.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],b.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2651:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=R(1392);b.default=function(O,B,z){var x=O.split("").map(function(C,f){return F.BINARIES[B[f]]}).map(function(C,f){return C?C[O[f]]:""});if(z){var H=O.length-1;x=x.map(function(C,f){return f<H?C+z:C})}return x.join("")}},2708:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.UPCE=b.UPC=b.EAN2=b.EAN5=b.EAN8=b.EAN13=void 0;var U=m(R(9619)),O=m(R(3372)),z=m(R(1931)),H=m(R(5754)),f=m(R(5821)),_=m(R(1091));function m(w){return w&&w.__esModule?w:{default:w}}b.EAN13=U.default,b.EAN8=O.default,b.EAN5=z.default,b.EAN2=H.default,b.UPC=f.default,b.UPCE=_.default},8817:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.GenericBarcode=void 0;var F=function(){function C(f,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,g,_){return g&&C(f.prototype,g),_&&C(f,_),f}}(),H=function(C){function f(g,_){return function B(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function z(C,f){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?C:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g,_))}return function x(C,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);C.prototype=Object.create(f&&f.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(C,f):C.__proto__=f)}(f,C),F(f,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),f}(function O(C){return C&&C.__esModule?C:{default:C}}(R(9418)).default);b.GenericBarcode=H},6065:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function f(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&f(g.prototype,_),m&&f(g,m),g}}(),U=R(5168),C=function(f){function g(){return function z(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),function x(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return function H(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}(g,f),F(g,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var m=this,w=this.data.match(/.{2}/g).map(function(I){return m.encodePair(I)}).join("");return{data:U.START_BIN+w+U.END_BIN,text:this.text}}},{key:"encodePair",value:function(m){var w=U.BINARIES[m[1]];return U.BINARIES[m[0]].split("").map(function(I,S){return("1"===I?"111":"1")+("1"===w[S]?"000":"0")}).join("")}}]),g}(function B(f){return f&&f.__esModule?f:{default:f}}(R(9418)).default);b.default=C},9643:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function f(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&f(g.prototype,_),m&&f(g,m),g}}(),V=function O(f){return f&&f.__esModule?f:{default:f}}(R(6065)),H=function(g){var _=g.substr(0,13).split("").map(function(m){return parseInt(m,10)}).reduce(function(m,w,I){return m+w*(3-I%2*2)},0);return 10*Math.ceil(_/10)-_},C=function(f){function g(_,m){return function B(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),-1!==_.search(/^[0-9]{13}$/)&&(_+=H(_)),function z(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,m))}return function x(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}(g,f),F(g,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===H(this.data)}}]),g}(V.default);b.default=C},5168:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.START_BIN="1010",b.END_BIN="11101",b.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},8969:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ITF14=b.ITF=void 0;var U=B(R(6065)),O=B(R(9643));function B(z){return z&&z.__esModule?z:{default:z}}b.ITF=U.default,b.ITF14=O.default},7037:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function f(g,_){for(var m=0;m<_.length;m++){var w=_[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}return function(g,_,m){return _&&f(g.prototype,_),m&&f(g,m),g}}(),H=function(f){function g(_,m){return function B(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}(this,g),function z(f,g){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?f:g}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,_,m))}return function x(f,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);f.prototype=Object.create(g&&g.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(f,g):f.__proto__=g)}(g,f),F(g,[{key:"encode",value:function(){for(var m="110",w=0;w<this.data.length;w++){var S=parseInt(this.data[w]).toString(2);S=C(S,4-S.length);for(var q=0;q<S.length;q++)m+="0"==S[q]?"100":"110"}return{data:m+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),g}(function O(f){return f&&f.__esModule?f:{default:f}}(R(9418)).default);function C(f,g){for(var _=0;_<g;_++)f="0"+f;return f}b.default=H},3922:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var U=function O(C){return C&&C.__esModule?C:{default:C}}(R(7037)),V=R(6225),H=function(C){function f(g,_){return function B(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function z(C,f){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?C:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g+(0,V.mod10)(g),_))}return function x(C,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);C.prototype=Object.create(f&&f.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(C,f):C.__proto__=f)}(f,C),f}(U.default);b.default=H},8742:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var U=function O(C){return C&&C.__esModule?C:{default:C}}(R(7037)),V=R(6225),H=function(C){function f(g,_){return function B(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),g+=(0,V.mod10)(g),g+=(0,V.mod10)(g),function z(C,f){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?C:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g,_))}return function x(C,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);C.prototype=Object.create(f&&f.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(C,f):C.__proto__=f)}(f,C),f}(U.default);b.default=H},1825:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var U=function O(C){return C&&C.__esModule?C:{default:C}}(R(7037)),V=R(6225),H=function(C){function f(g,_){return function B(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function z(C,f){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?C:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g+(0,V.mod11)(g),_))}return function x(C,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);C.prototype=Object.create(f&&f.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(C,f):C.__proto__=f)}(f,C),f}(U.default);b.default=H},4455:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var U=function O(C){return C&&C.__esModule?C:{default:C}}(R(7037)),V=R(6225),H=function(C){function f(g,_){return function B(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),g+=(0,V.mod11)(g),g+=(0,V.mod10)(g),function z(C,f){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?C:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g,_))}return function x(C,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);C.prototype=Object.create(f&&f.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(C,f):C.__proto__=f)}(f,C),f}(U.default);b.default=H},6225:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.mod10=function R(U){for(var V=0,O=0;O<U.length;O++){var B=parseInt(U[O]);V+=(O+U.length)%2==0?B:2*B%10+Math.floor(2*B/10)}return(10-V%10)%10},b.mod11=function F(U){for(var V=0,O=[2,3,4,5,6,7],B=0;B<U.length;B++){var z=parseInt(U[U.length-1-B]);V+=O[B%O.length]*z}return(11-V%11)%11}},1122:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MSI1110=b.MSI1010=b.MSI11=b.MSI10=b.MSI=void 0;var U=g(R(7037)),O=g(R(3922)),z=g(R(1825)),H=g(R(8742)),f=g(R(4455));function g(_){return _&&_.__esModule?_:{default:_}}b.MSI=U.default,b.MSI10=O.default,b.MSI11=z.default,b.MSI1010=H.default,b.MSI1110=f.default},886:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.codabar=void 0;var F=function(){function C(f,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,g,_){return g&&C(f.prototype,g),_&&C(f,_),f}}(),H=function(C){function f(g,_){(function B(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")})(this,f),0===g.search(/^[0-9\-\$\:\.\+\/]+$/)&&(g="A"+g+"A");var m=function z(C,f){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?C:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g.toUpperCase(),_));return m.text=m.options.text||m.text.replace(/[A-D]/g,""),m}return function x(C,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);C.prototype=Object.create(f&&f.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(C,f):C.__proto__=f)}(f,C),F(f,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var _=[],m=this.getEncodings(),w=0;w<this.data.length;w++)_.push(m[this.data.charAt(w)]),w!==this.data.length-1&&_.push("0");return{text:this.text,data:_.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),f}(function O(C){return C&&C.__esModule?C:{default:C}}(R(9418)).default);b.codabar=H},4168:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=R(6602),U=R(8754),V=R(2708),O=R(8969),B=R(1122),z=R(8758),x=R(886),H=R(8817);b.default={CODE39:F.CODE39,CODE128:U.CODE128,CODE128A:U.CODE128A,CODE128B:U.CODE128B,CODE128C:U.CODE128C,EAN13:V.EAN13,EAN8:V.EAN8,EAN5:V.EAN5,EAN2:V.EAN2,UPC:V.UPC,UPCE:V.UPCE,ITF14:O.ITF14,ITF:O.ITF,MSI:B.MSI,MSI10:B.MSI10,MSI11:B.MSI11,MSI1010:B.MSI1010,MSI1110:B.MSI1110,pharmacode:z.pharmacode,codabar:x.codabar,GenericBarcode:H.GenericBarcode}},8758:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.pharmacode=void 0;var F=function(){function C(f,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,g,_){return g&&C(f.prototype,g),_&&C(f,_),f}}(),H=function(C){function f(g,_){!function B(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f);var m=function z(C,f){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?C:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,g,_));return m.number=parseInt(g,10),m}return function x(C,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);C.prototype=Object.create(f&&f.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(C,f):C.__proto__=f)}(f,C),F(f,[{key:"encode",value:function(){for(var _=this.number,m="";!isNaN(_)&&0!=_;)_%2==0?(m="11100"+m,_=(_-2)/2):(m="100"+m,_=(_-1)/2);return{data:m=m.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),f}(function O(C){return C&&C.__esModule?C:{default:C}}(R(9418)).default);b.pharmacode=H},3057:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0});var R=function(){function V(O,B){for(var z=0;z<B.length;z++){var x=B[z];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(O,x.key,x)}}return function(O,B,z){return B&&V(O.prototype,B),z&&V(O,z),O}}(),U=function(){function V(O){(function F(V,O){if(!(V instanceof O))throw new TypeError("Cannot call a class as a function")})(this,V),this.api=O}return R(V,[{key:"handleCatch",value:function(B){if("InvalidInputException"!==B.name)throw B;if(this.api._options.valid===this.api._defaults.valid)throw B.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(B){try{var z=B.apply(void 0,arguments);return this.api._options.valid(!0),z}catch(x){return this.handleCatch(x),this.api}}}]),V}();b.default=U},723:(fe,b)=>{function R(z,x){if(!(z instanceof x))throw new TypeError("Cannot call a class as a function")}function F(z,x){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?z:x}function U(z,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);z.prototype=Object.create(x&&x.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(z,x):z.__proto__=x)}Object.defineProperty(b,"__esModule",{value:!0});var V=function(z){function x(H,C){R(this,x);var f=F(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return f.name="InvalidInputException",f.symbology=H,f.input=C,f.message='"'+f.input+'" is not a valid input for '+f.symbology,f}return U(x,Error),x}(),O=function(z){function x(){R(this,x);var H=F(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return H.name="InvalidElementException",H.message="Not supported type to render on",H}return U(x,Error),x}(),B=function(z){function x(){R(this,x);var H=F(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));return H.name="NoElementException",H.message="No element to render on.",H}return U(x,Error),x}();b.InvalidInputException=V,b.InvalidElementException=O,b.NoElementException=B},7164:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function R(F){return F.marginTop=F.marginTop||F.margin,F.marginBottom=F.marginBottom||F.margin,F.marginRight=F.marginRight||F.margin,F.marginLeft=F.marginLeft||F.margin,F}},7020:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var U=B(R(4866)),O=B(R(530));function B(x){return x&&x.__esModule?x:{default:x}}b.default=function z(x){var H={};for(var C in O.default)O.default.hasOwnProperty(C)&&(x.hasAttribute("jsbarcode-"+C.toLowerCase())&&(H[C]=x.getAttribute("jsbarcode-"+C.toLowerCase())),x.hasAttribute("data-"+C.toLowerCase())&&(H[C]=x.getAttribute("data-"+C.toLowerCase())));return H.value=x.getAttribute("jsbarcode-value")||x.getAttribute("data-value"),(0,U.default)(H)}},8619:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},V=x(R(7020)),B=x(R(2233)),z=R(723);function x(g){return g&&g.__esModule?g:{default:g}}b.default=function H(g){if("string"==typeof g)return function C(g){var _=document.querySelectorAll(g);if(0!==_.length){for(var m=[],w=0;w<_.length;w++)m.push(H(_[w]));return m}}(g);if(Array.isArray(g)){for(var _=[],m=0;m<g.length;m++)_.push(H(g[m]));return _}if(typeof HTMLCanvasElement<"u"&&g instanceof HTMLImageElement)return function f(g){var _=document.createElement("canvas");return{element:_,options:(0,V.default)(g),renderer:B.default.CanvasRenderer,afterRender:function(){g.setAttribute("src",_.toDataURL())}}}(g);if(g&&g.nodeName&&"svg"===g.nodeName.toLowerCase()||typeof SVGElement<"u"&&g instanceof SVGElement)return{element:g,options:(0,V.default)(g),renderer:B.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&g instanceof HTMLCanvasElement)return{element:g,options:(0,V.default)(g),renderer:B.default.CanvasRenderer};if(g&&g.getContext)return{element:g,renderer:B.default.CanvasRenderer};if(g&&"object"===(typeof g>"u"?"undefined":F(g))&&!g.nodeName)return{element:g,renderer:B.default.ObjectRenderer};throw new z.InvalidElementException}},1301:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function R(F){var U=[];return function V(O){if(Array.isArray(O))for(var B=0;B<O.length;B++)V(O[B]);else O.text=O.text||"",O.data=O.data||"",U.push(O)}(F),U}},6017:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0});var R=Object.assign||function(F){for(var U=1;U<arguments.length;U++){var V=arguments[U];for(var O in V)Object.prototype.hasOwnProperty.call(V,O)&&(F[O]=V[O])}return F};b.default=function(F,U){return R({},F,U)}},4866:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function R(F){var U=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var V in U)U.hasOwnProperty(V)&&"string"==typeof F[V=U[V]]&&(F[V]=parseInt(F[V],10));return"string"==typeof F.displayValue&&(F.displayValue="false"!=F.displayValue),F}},530:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1799:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function H(C,f){for(var g=0;g<f.length;g++){var _=f[g];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(C,_.key,_)}}return function(C,f,g){return f&&H(C.prototype,f),g&&H(C,g),C}}(),V=function B(H){return H&&H.__esModule?H:{default:H}}(R(6017)),O=R(4358),x=function(){function H(C,f,g){(function z(H,C){if(!(H instanceof C))throw new TypeError("Cannot call a class as a function")})(this,H),this.canvas=C,this.encodings=f,this.options=g}return F(H,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var f=0;f<this.encodings.length;f++){var g=(0,V.default)(this.options,this.encodings[f].options);this.drawCanvasBarcode(g,this.encodings[f]),this.drawCanvasText(g,this.encodings[f]),this.moveCanvasDrawing(this.encodings[f])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var f=this.canvas.getContext("2d");f.save(),(0,O.calculateEncodingAttributes)(this.encodings,this.options,f);var g=(0,O.getTotalWidthOfEncodings)(this.encodings),_=(0,O.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=g+this.options.marginLeft+this.options.marginRight,this.canvas.height=_,f.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(f.fillStyle=this.options.background,f.fillRect(0,0,this.canvas.width,this.canvas.height)),f.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(f,g){var w,_=this.canvas.getContext("2d"),m=g.data;w="top"==f.textPosition?f.marginTop+f.fontSize+f.textMargin:f.marginTop,_.fillStyle=f.lineColor;for(var I=0;I<m.length;I++){var S=I*f.width+g.barcodePadding;"1"===m[I]?_.fillRect(S,w,f.width,f.height):m[I]&&_.fillRect(S,w,f.width,f.height*m[I])}}},{key:"drawCanvasText",value:function(f,g){var w,I,_=this.canvas.getContext("2d");f.displayValue&&(I="top"==f.textPosition?f.marginTop+f.fontSize-f.textMargin:f.height+f.textMargin+f.marginTop+f.fontSize,_.font=f.fontOptions+" "+f.fontSize+"px "+f.font,"left"==f.textAlign||g.barcodePadding>0?(w=0,_.textAlign="left"):"right"==f.textAlign?(w=g.width-1,_.textAlign="right"):(w=g.width/2,_.textAlign="center"),_.fillText(g.text,w,I))}},{key:"moveCanvasDrawing",value:function(f){this.canvas.getContext("2d").translate(f.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),H}();b.default=x},2233:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var U=x(R(1799)),O=x(R(5794)),z=x(R(1138));function x(H){return H&&H.__esModule?H:{default:H}}b.default={CanvasRenderer:U.default,SVGRenderer:O.default,ObjectRenderer:z.default}},1138:(fe,b)=>{Object.defineProperty(b,"__esModule",{value:!0});var R=function(){function V(O,B){for(var z=0;z<B.length;z++){var x=B[z];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(O,x.key,x)}}return function(O,B,z){return B&&V(O.prototype,B),z&&V(O,z),O}}(),U=function(){function V(O,B,z){(function F(V,O){if(!(V instanceof O))throw new TypeError("Cannot call a class as a function")})(this,V),this.object=O,this.encodings=B,this.options=z}return R(V,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),V}();b.default=U},4358:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getTotalWidthOfEncodings=b.calculateEncodingAttributes=b.getBarcodePadding=b.getEncodingHeight=b.getMaximumHeightOfEncodings=void 0;var U=function V(f){return f&&f.__esModule?f:{default:f}}(R(6017));function O(f,g){return g.height+(g.displayValue&&f.text.length>0?g.fontSize+g.textMargin:0)+g.marginTop+g.marginBottom}function B(f,g,_){if(_.displayValue&&g<f){if("center"==_.textAlign)return Math.floor((f-g)/2);if("left"==_.textAlign)return 0;if("right"==_.textAlign)return Math.floor(f-g)}return 0}function C(f,g,_){var m;if(_)m=_;else{if(!(typeof document<"u"))return 0;m=document.createElement("canvas").getContext("2d")}m.font=g.fontOptions+" "+g.fontSize+"px "+g.font;var w=m.measureText(f);return w?w.width:0}b.getMaximumHeightOfEncodings=function H(f){for(var g=0,_=0;_<f.length;_++)f[_].height>g&&(g=f[_].height);return g},b.getEncodingHeight=O,b.getBarcodePadding=B,b.calculateEncodingAttributes=function z(f,g,_){for(var m=0;m<f.length;m++){var S,w=f[m],I=(0,U.default)(g,w.options);S=I.displayValue?C(w.text,I,_):0;var q=w.data.length*I.width;w.width=Math.ceil(Math.max(S,q)),w.height=O(w,I),w.barcodePadding=B(S,q,I)}},b.getTotalWidthOfEncodings=function x(f){for(var g=0,_=0;_<f.length;_++)g+=f[_].width;return g}},5794:(fe,b,R)=>{Object.defineProperty(b,"__esModule",{value:!0});var F=function(){function C(f,g){for(var _=0;_<g.length;_++){var m=g[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,g,_){return g&&C(f.prototype,g),_&&C(f,_),f}}(),V=function B(C){return C&&C.__esModule?C:{default:C}}(R(6017)),O=R(4358),x="http://www.w3.org/2000/svg",H=function(){function C(f,g,_){(function z(C,f){if(!(C instanceof f))throw new TypeError("Cannot call a class as a function")})(this,C),this.svg=f,this.encodings=g,this.options=_,this.document=_.xmlDocument||document}return F(C,[{key:"render",value:function(){var g=this.options.marginLeft;this.prepareSVG();for(var _=0;_<this.encodings.length;_++){var m=this.encodings[_],w=(0,V.default)(this.options,m.options),I=this.createGroup(g,w.marginTop,this.svg);this.setGroupOptions(I,w),this.drawSvgBarcode(I,w,m),this.drawSVGText(I,w,m),g+=m.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,O.calculateEncodingAttributes)(this.encodings,this.options);var g=(0,O.getTotalWidthOfEncodings)(this.encodings),_=(0,O.getMaximumHeightOfEncodings)(this.encodings),m=g+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(m,_),this.options.background&&this.drawRect(0,0,m,_,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(g,_,m){var I,w=m.data;I="top"==_.textPosition?_.fontSize+_.textMargin:0;for(var S=0,q=0,J=0;J<w.length;J++)q=J*_.width+m.barcodePadding,"1"===w[J]?S++:S>0&&(this.drawRect(q-_.width*S,I,_.width*S,_.height,g),S=0);S>0&&this.drawRect(q-_.width*(S-1),I,_.width*S,_.height,g)}},{key:"drawSVGText",value:function(g,_,m){var I,S,w=this.document.createElementNS(x,"text");_.displayValue&&(w.setAttribute("style","font:"+_.fontOptions+" "+_.fontSize+"px "+_.font),S="top"==_.textPosition?_.fontSize-_.textMargin:_.height+_.textMargin+_.fontSize,"left"==_.textAlign||m.barcodePadding>0?(I=0,w.setAttribute("text-anchor","start")):"right"==_.textAlign?(I=m.width-1,w.setAttribute("text-anchor","end")):(I=m.width/2,w.setAttribute("text-anchor","middle")),w.setAttribute("x",I),w.setAttribute("y",S),w.appendChild(this.document.createTextNode(m.text)),g.appendChild(w))}},{key:"setSvgAttributes",value:function(g,_){var m=this.svg;m.setAttribute("width",g+"px"),m.setAttribute("height",_+"px"),m.setAttribute("x","0px"),m.setAttribute("y","0px"),m.setAttribute("viewBox","0 0 "+g+" "+_),m.setAttribute("xmlns",x),m.setAttribute("version","1.1"),m.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(g,_,m){var w=this.document.createElementNS(x,"g");return w.setAttribute("transform","translate("+g+", "+_+")"),m.appendChild(w),w}},{key:"setGroupOptions",value:function(g,_){g.setAttribute("style","fill:"+_.lineColor+";")}},{key:"drawRect",value:function(g,_,m,w,I){var S=this.document.createElementNS(x,"rect");return S.setAttribute("x",g),S.setAttribute("y",_),S.setAttribute("width",m),S.setAttribute("height",w),I.appendChild(S),S}}]),C}();b.default=H}},fe=>{fe(fe.s=8824)}]);