"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[179],{839:()=>{function Ae(t){return"function"==typeof t}function Fc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const gf=Fc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ca(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ae(r))try{r()}catch(s){e=s instanceof gf?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{tN(s)}catch(o){e=e??[],o instanceof gf?e=[...e,...o.errors]:e.push(o)}}if(e)throw new gf(e)}}add(e){var n;if(e&&e!==this)if(this.closed)tN(e);else{if(e instanceof Bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ca(n,e)}remove(e){const{_finalizers:n}=this;n&&Ca(n,e),e instanceof Bn&&e._removeParent(this)}}Bn.EMPTY=(()=>{const t=new Bn;return t.closed=!0,t})();const Zx=Bn.EMPTY;function eN(t){return t instanceof Bn||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function tN(t){Ae(t)?t():t.unsubscribe()}const io={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},mf={setTimeout(t,e,...n){const{delegate:r}=mf;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=mf;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nN(t){mf.setTimeout(()=>{const{onUnhandledError:e}=io;if(!e)throw t;e(t)})}function rN(){}const Jq=Ay("C",void 0,void 0);function Ay(t,e,n){return{kind:t,value:e,error:n}}let so=null;function _f(t){if(io.useDeprecatedSynchronousErrorHandling){const e=!so;if(e&&(so={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=so;if(so=null,n)throw r}}else t()}class My extends Bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eN(e)&&e.add(this)):this.destination=s3}static create(e,n,r){return new Lc(e,n,r)}next(e){this.isStopped?Ny(function e3(t){return Ay("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ny(function Zq(t){return Ay("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ny(Jq,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const n3=Function.prototype.bind;function xy(t,e){return n3.call(t,e)}class r3{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){yf(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){yf(r)}else yf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yf(n)}}}class Lc extends My{constructor(e,n,r){let i;if(super(),Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&io.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xy(e.next,s),error:e.error&&xy(e.error,s),complete:e.complete&&xy(e.complete,s)}):i=e}this.destination=new r3(i)}}function yf(t){io.useDeprecatedSynchronousErrorHandling?function t3(t){io.useDeprecatedSynchronousErrorHandling&&so&&(so.errorThrown=!0,so.error=t)}(t):nN(t)}function Ny(t,e){const{onStoppedNotification:n}=io;n&&mf.setTimeout(()=>n(t,e))}const s3={closed:!0,next:rN,error:function i3(t){throw t},complete:rN},Ry="function"==typeof Symbol&&Symbol.observable||"@@observable";function ns(t){return t}function iN(t){return 0===t.length?ns:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let et=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function u3(t){return t&&t instanceof My||function a3(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}(t)&&eN(t)}(n)?n:new Lc(n,r,i);return _f(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=sN(r))((i,s)=>{const o=new Lc({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ry](){return this}pipe(...n){return iN(n)(this)}toPromise(n){return new(n=sN(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function sN(t){var e;return null!==(e=t??io.Promise)&&void 0!==e?e:Promise}const c3=Fc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _i=(()=>{class t extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new oN(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new c3}next(n){_f(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){_f(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_f(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Zx:(this.currentObservers=null,s.push(n),new Bn(()=>{this.currentObservers=null,Ca(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new et;return n.source=this,n}}return t.create=(e,n)=>new oN(e,n),t})();class oN extends _i{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Zx}}class nr extends _i{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function aN(t){return Ae(t?.lift)}function xt(t){return e=>{if(aN(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Et(t,e,n,r,i){return new l3(t,e,n,r,i)}class l3 extends My{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function xe(t,e){return xt((n,r)=>{let i=0;n.subscribe(Et(r,s=>{r.next(t.call(e,s,i++))}))})}function Oy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function rs(t){return this instanceof rs?(this.v=t,this):new rs(t)}function dN(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Ly(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const hN=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function fN(t){return Ae(t?.then)}function pN(t){return Ae(t[Ry])}function gN(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function mN(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _N=function N3(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function yN(t){return Ae(t?.[_N])}function vN(t){return function lN(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof rs?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield rs(n.read());if(i)return yield rs(void 0);yield yield rs(r)}}finally{n.releaseLock()}})}function wN(t){return Ae(t?.getReader)}function rr(t){if(t instanceof et)return t;if(null!=t){if(pN(t))return function R3(t){return new et(e=>{const n=t[Ry]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(hN(t))return function k3(t){return new et(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(fN(t))return function P3(t){return new et(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,nN)})}(t);if(gN(t))return EN(t);if(yN(t))return function O3(t){return new et(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(wN(t))return function F3(t){return EN(vN(t))}(t)}throw mN(t)}function EN(t){return new et(e=>{(function L3(t,e){var n,r,i,s;return function uN(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=dN(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function yi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Gt(t,e,n=1/0){return Ae(e)?Gt((r,i)=>xe((s,o)=>e(r,s,i,o))(rr(t(r,i))),n):("number"==typeof e&&(n=e),xt((r,i)=>function V3(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let _=!1;rr(n(g,l++)).subscribe(Et(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;u.length&&c<r;){const w=u.shift();o?yi(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(Et(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Da(t=1/0){return Gt(ns,t)}const Pr=new et(t=>t.complete());function Vy(t){return t[t.length-1]}function IN(t){return Ae(Vy(t))?t.pop():void 0}function Vc(t){return function B3(t){return t&&Ae(t.schedule)}(Vy(t))?t.pop():void 0}function vf(t,e=0){return xt((n,r)=>{n.subscribe(Et(r,i=>yi(r,t,()=>r.next(i),e),()=>yi(r,t,()=>r.complete(),e),i=>yi(r,t,()=>r.error(i),e)))})}function wf(t,e=0){return xt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function CN(t,e){if(!t)throw new Error("Iterable cannot be null");return new et(n=>{yi(n,e,()=>{const r=t[Symbol.asyncIterator]();yi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Nt(t,e){return e?function q3(t,e){if(null!=t){if(pN(t))return function j3(t,e){return rr(t).pipe(wf(e),vf(e))}(t,e);if(hN(t))return function G3(t,e){return new et(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(fN(t))return function H3(t,e){return rr(t).pipe(wf(e),vf(e))}(t,e);if(gN(t))return CN(t,e);if(yN(t))return function z3(t,e){return new et(n=>{let r;return yi(n,e,()=>{r=t[_N](),yi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}(t,e);if(wN(t))return function W3(t,e){return CN(vN(t),e)}(t,e)}throw mN(t)}(t,e):rr(t)}function z(...t){return Nt(t,Vc(t))}function DN(t={}){const{connector:e=(()=>new _i),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return xt((g,_)=>{c++,!d&&!l&&h();const w=u=u??e();_.add(()=>{c--,0===c&&!d&&!l&&(a=Uy(p,i))}),w.subscribe(_),!o&&c>0&&(o=new Lc({next:y=>w.next(y),error:y=>{d=!0,h(),a=Uy(f,n,y),w.error(y)},complete:()=>{l=!0,h(),a=Uy(f,r),w.complete()}}),rr(g).subscribe(o))})(s)}}function Uy(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Lc({next:()=>{r.unsubscribe(),t()}});return rr(e(...n)).subscribe(r)}function Or(t,e){return xt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(Et(r,u=>{i?.unsubscribe();let c=0;const l=s++;rr(t(u,l)).subscribe(i=Et(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Y3(t,e){return t===e}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function Ef(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(It).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function By(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const X3=Ee({__forward_ref__:Ee});function Pe(t){return t.__forward_ref__=Pe,t.toString=function(){return It(this())},t}function W(t){return $y(t)?t():t}function $y(t){return"function"==typeof t&&t.hasOwnProperty(X3)&&t.__forward_ref__===Pe}function jy(t){return t&&!!t.\u0275providers}class b extends Error{constructor(e,n){super(function If(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ve(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function Q(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Cf(t,e){throw new b(-201,!1)}function ir(t,e){null==t&&function ge(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function mt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Df(t){return bN(t,Tf)||bN(t,AN)}function bN(t,e){return t.hasOwnProperty(e)?t[e]:null}function SN(t){return t&&(t.hasOwnProperty(Hy)||t.hasOwnProperty(s6))?t[Hy]:null}const Tf=Ee({\u0275prov:Ee}),Hy=Ee({\u0275inj:Ee}),AN=Ee({ngInjectableDef:Ee}),s6=Ee({ngInjectorDef:Ee});var re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(re||{});let Gy;function Sn(t){const e=Gy;return Gy=t,e}function xN(t,e,n){const r=Df(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&re.Optional?null:void 0!==e?e:void Cf(It(t))}const Ne=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Uc={},zy="__NG_DI_FLAG__",bf="ngTempTokenPath",a6=/\n/gm,NN="__source";let Ta;function is(t){const e=Ta;return Ta=t,e}function l6(t,e=re.Default){if(void 0===Ta)throw new b(-203,!1);return null===Ta?xN(t,void 0,e):Ta.get(t,e&re.Optional?null:void 0,e)}function $(t,e=re.Default){return(function MN(){return Gy}()||l6)(W(t),e)}function V(t,e=re.Default){return $(t,Sf(e))}function Sf(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Wy(t){const e=[];for(let n=0;n<t.length;n++){const r=W(t[n]);if(Array.isArray(r)){if(0===r.length)throw new b(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){const a=r[o],u=d6(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function Bc(t,e){return t[zy]=e,t.prototype[zy]=e,t}function d6(t){return t[zy]}function vi(t){return{toString:t}.toString()}var Af=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Af||{}),mr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(mr||{});const Fr={},he=[],Mf=Ee({\u0275cmp:Ee}),qy=Ee({\u0275dir:Ee}),Ky=Ee({\u0275pipe:Ee}),kN=Ee({\u0275mod:Ee}),wi=Ee({\u0275fac:Ee}),$c=Ee({__NG_ELEMENT_ID__:Ee}),PN=Ee({__NG_ENV_ID__:Ee});function ON(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Qy(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];LN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function FN(t){return 3===t||4===t||6===t}function LN(t){return 64===t.charCodeAt(0)}function jc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||VN(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function VN(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const UN="ng-template";function p6(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==ON(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function BN(t){return 4===t.type&&t.value!==UN}function g6(t,e,n){return e===(4!==t.type||n?t.value:UN)}function m6(t,e,n){let r=4;const i=t.attrs||[],s=function v6(t){for(let e=0;e<t.length;e++)if(FN(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!g6(t,u,n)||""===u&&1===e.length){if(_r(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!p6(t.attrs,c,n)){if(_r(r))return!1;o=!0}continue}const d=_6(8&r?"class":u,i,BN(t),n);if(-1===d){if(_r(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==ON(f,c,0)||2&r&&c!==h){if(_r(r))return!1;o=!0}}}}else{if(!o&&!_r(r)&&!_r(u))return!1;if(o&&_r(u))continue;o=!1,r=u|1&r}}return _r(r)||o}function _r(t){return 0==(1&t)}function _6(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function w6(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function $N(t,e,n=!1){for(let r=0;r<e.length;r++)if(m6(t,e[r],n))return!0;return!1}function jN(t,e){return t?":not("+e.trim()+")":e}function I6(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!_r(o)&&(e+=jN(s,i),i=""),r=o,s=s||!_r(r);n++}return""!==i&&(e+=jN(s,i)),e}function ao(t){return vi(()=>{const e=GN(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Af.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||mr.Emulated,styles:t.styles||he,_:null,schemas:t.schemas||null,tView:null,id:""};zN(n);const r=t.dependencies;return n.directiveDefs=xf(r,!1),n.pipeDefs=xf(r,!0),n.id=function x6(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function b6(t){return me(t)||tn(t)}function S6(t){return null!==t}function Ct(t){return vi(()=>({type:t.type,bootstrap:t.bootstrap||he,declarations:t.declarations||he,imports:t.imports||he,exports:t.exports||he,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function HN(t,e){if(null==t)return Fr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function G(t){return vi(()=>{const e=GN(t);return zN(e),e})}function me(t){return t[Mf]||null}function tn(t){return t[qy]||null}function Mn(t){return t[Ky]||null}function jn(t,e){const n=t[kN]||null;if(!n&&!0===e)throw new Error(`Type ${It(t)} does not have '\u0275mod' property.`);return n}function GN(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Fr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||he,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:HN(t.inputs,e),outputs:HN(t.outputs)}}function zN(t){t.features?.forEach(e=>e(t))}function xf(t,e){if(!t)return null;const n=e?Mn:b6;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(S6)}const Dt=0,k=1,X=2,Ke=3,yr=4,Hc=5,nn=6,Sa=7,at=8,Aa=9,uo=10,J=11,Gc=12,WN=13,Ma=14,ut=15,zc=16,xa=17,Lr=18,Wc=19,qN=20,ss=21,Ei=22,Nf=23,Rf=24,ae=25,Yy=1,KN=2,Vr=7,Na=9,rn=11;function Hn(t){return Array.isArray(t)&&"object"==typeof t[Yy]}function xn(t){return Array.isArray(t)&&!0===t[Yy]}function Xy(t){return 0!=(4&t.flags)}function co(t){return t.componentOffset>-1}function Pf(t){return 1==(1&t.flags)}function vr(t){return!!t.template}function Jy(t){return 0!=(512&t[X])}function lo(t,e){return t.hasOwnProperty(wi)?t[wi]:null}let F6=Ne.WeakRef??class O6{constructor(e){this.ref=e}deref(){return this.ref}},V6=0,Ur=null,Of=!1;function Rt(t){const e=Ur;return Ur=t,e}class ZN{constructor(){this.id=V6++,this.ref=function L6(t){return new F6(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(null!=r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Of;Of=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Of=e}}producerAccessed(){if(Of)throw new Error("");if(null===Ur)return;let e=Ur.producers.get(this.id);void 0===e?(e={consumerNode:Ur.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ur.trackingVersion},Ur.producers.set(this.id,e),this.consumers.set(Ur.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Ur.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ur?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let eR=null;const nR=()=>{};class j6 extends ZN{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=nR,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Rt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=nR,this.watch(this.registerOnCleanup)}finally{Rt(e)}}cleanup(){this.cleanupFn()}}class H6{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function sr(){return rR}function rR(t){return t.type.prototype.ngOnChanges&&(t.setInput=z6),G6}function G6(){const t=sR(this),e=t?.current;if(e){const n=t.previous;if(n===Fr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function z6(t,e,n,r){const i=this.declaredInputs[n],s=sR(t)||function W6(t,e){return t[iR]=e}(t,{previous:Fr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new H6(u&&u.currentValue,e,a===Fr),t[r]=e}sr.ngInherit=!0;const iR="__ngSimpleChanges__";function sR(t){return t[iR]||null}const Br=function(t,e,n){};function Be(t){for(;Array.isArray(t);)t=t[Dt];return t}function Nn(t,e){return Be(e[t.index])}function Gn(t,e){const n=e[t];return Hn(n)?n:n[Dt]}function os(t,e){return null==e?null:t[e]}function cR(t){t[xa]=0}function Z6(t){1024&t[X]||(t[X]|=1024,dR(t,1))}function lR(t){1024&t[X]&&(t[X]&=-1025,dR(t,-1))}function dR(t,e){let n=t[Ke];if(null===n)return;n[Hc]+=e;let r=n;for(n=n[Ke];null!==n&&(1===e&&1===r[Hc]||-1===e&&0===r[Hc]);)n[Hc]+=e,r=n,n=n[Ke]}const H={lFrame:IR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pR(){return H.bindingsEnabled}function I(){return H.lFrame.lView}function ce(){return H.lFrame.tView}function iv(t){return H.lFrame.contextLView=t,t[at]}function sv(t){return H.lFrame.contextLView=null,t}function zt(){let t=gR();for(;null!==t&&64===t.type;)t=t.parent;return t}function gR(){return H.lFrame.currentTNode}function $r(t,e){const n=H.lFrame;n.currentTNode=t,n.isParent=e}function ov(){return H.lFrame.isParent}function d9(t,e){const n=H.lFrame;n.bindingIndex=n.bindingRootIndex=t,uv(e)}function uv(t){H.lFrame.currentDirectiveIndex=t}function lv(t){H.lFrame.currentQueryIndex=t}function f9(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[nn]:null}function wR(t,e,n){if(n&re.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&re.Host||(i=f9(s),null===i||(s=s[Ma],10&i.type))););if(null===i)return!1;e=i,t=s}const r=H.lFrame=ER();return r.currentTNode=e,r.lView=t,!0}function dv(t){const e=ER(),n=t[k];H.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ER(){const t=H.lFrame,e=null===t?null:t.child;return null===e?IR(t):e}function IR(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function CR(){const t=H.lFrame;return H.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const DR=CR;function hv(){const t=CR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _n(){return H.lFrame.selectedIndex}function ho(t){H.lFrame.selectedIndex=t}let bR=!0;function Uf(){return bR}function as(t){bR=t}function Bf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function $f(t,e,n){SR(t,e,3,n)}function jf(t,e,n,r){(3&t[X])===n&&SR(t,e,n,r)}function fv(t,e){let n=t[X];(3&n)===e&&(n&=8191,n+=1,t[X]=n)}function SR(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[xa]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[xa]+=65536),(a<s||-1==s)&&(E9(t,n,e,u),t[xa]=(4294901760&t[xa])+u+2),u++}function AR(t,e){Br(4,t,e);const n=Rt(null);try{e.call(t)}finally{Rt(n),Br(5,t,e)}}function E9(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[X]>>13<t[xa]>>16&&(3&t[X])===e&&(t[X]+=8192,AR(a,s)):AR(a,s)}const Oa=-1;class Qc{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function MR(t){return t!==Oa}function Hf(t){return 32767&t}function Gf(t,e){let n=function T9(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ma],n--;return r}let gv=!0;function zf(t){const e=gv;return gv=t,e}const xR=255,NR=5;let b9=0;const jr={};function Wf(t,e){const n=RR(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,mv(r.data,t),mv(e,null),mv(r.blueprint,null));const i=_v(t,e),s=t.injectorIndex;if(MR(i)){const o=Hf(i),a=Gf(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function mv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function RR(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function _v(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=UR(i),null===r)return Oa;if(n++,i=i[Ma],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oa}function yv(t,e,n){!function S9(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($c)&&(r=n[$c]),null==r&&(r=n[$c]=b9++);const i=r&xR;e.data[t+(i>>NR)]|=1<<i}(t,e,n)}function kR(t,e,n){if(n&re.Optional||void 0!==t)return t;Cf()}function PR(t,e,n,r){if(n&re.Optional&&void 0===r&&(r=null),!(n&(re.Self|re.Host))){const i=t[Aa],s=Sn(void 0);try{return i?i.get(e,r,n&re.Optional):xN(e,r,n&re.Optional)}finally{Sn(s)}}return kR(r,0,n)}function OR(t,e,n,r=re.Default,i){if(null!==t){if(2048&e[X]&&!(r&re.Self)){const o=function R9(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[X]&&!(512&o[X]);){const a=FR(s,o,n,r|re.Self,jr);if(a!==jr)return a;let u=s.parent;if(!u){const c=o[qN];if(c){const l=c.get(n,jr,r);if(l!==jr)return l}u=UR(o),o=o[Ma]}s=u}return i}(t,e,n,r,jr);if(o!==jr)return o}const s=FR(t,e,n,r,jr);if(s!==jr)return s}return PR(e,n,r,i)}function FR(t,e,n,r,i){const s=function x9(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($c)?t[$c]:void 0;return"number"==typeof e?e>=0?e&xR:N9:e}(n);if("function"==typeof s){if(!wR(e,t,r))return r&re.Host?kR(i,0,r):PR(e,n,r,i);try{const o=s(r);if(null!=o||r&re.Optional)return o;Cf()}finally{DR()}}else if("number"==typeof s){let o=null,a=RR(t,e),u=Oa,c=r&re.Host?e[ut][nn]:null;for((-1===a||r&re.SkipSelf)&&(u=-1===a?_v(t,e):e[a+8],u!==Oa&&VR(r,!1)?(o=e[k],a=Hf(u),e=Gf(u,e)):a=-1);-1!==a;){const l=e[k];if(LR(s,a,l.data)){const d=M9(a,e,n,o,r,c);if(d!==jr)return d}u=e[a+8],u!==Oa&&VR(r,e[k].data[a+8]===c)&&LR(s,a,e)?(o=l,a=Hf(u),e=Gf(u,e)):a=-1}}return i}function M9(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function qf(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&vr(f)&&f.type===n)return u}return null}(a,o,n,null==r?co(a)&&gv:r!=o&&0!=(3&a.type),i&re.Host&&s===a);return null!==l?fo(e,o,l,a):jr}function fo(t,e,n,r){let i=t[n];const s=e.data;if(function I9(t){return t instanceof Qc}(i)){const o=i;o.resolving&&function J3(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,`Circular dependency in DI detected for ${t}${n}`)}(ve(s[n]));const a=zf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Sn(o.injectImpl):null;wR(t,r,re.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function w9(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=rR(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&Sn(u),zf(a),o.resolving=!1,DR()}}return i}function LR(t,e,n){return!!(n[e+(t>>NR)]&1<<t)}function VR(t,e){return!(t&re.Self||t&re.Host&&e)}class Fa{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return OR(this._tNode,this._lView,e,Sf(r),n)}}function N9(){return new Fa(zt(),I())}function Wt(t){return vi(()=>{const e=t.prototype.constructor,n=e[wi]||vv(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[wi]||vv(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function vv(t){return $y(t)?()=>{const e=vv(W(t));return e&&e()}:lo(t)}function UR(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[nn]:null}const Va="__parameters__";function Ba(t,e,n){return vi(()=>{const r=function wv(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Va)?u[Va]:Object.defineProperty(u,Va,{value:[]})[Va];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Xc(t,e){t.forEach(n=>Array.isArray(n)?Xc(n,e):e(n))}function $R(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function zn(t,e,n){let r=ja(t,e);return r>=0?t[1|r]=n:(r=~r,function U9(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Ev(t,e){const n=ja(t,e);if(n>=0)return t[1|n]}function ja(t,e){return function jR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Ye=Bc(Ba("Optional"),8),Xf=Bc(Ba("SkipSelf"),4);function np(t){return 128==(128&t.flags)}var us=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(us||{});const bv=new Map;let c5=0;const Av="__ngContext__";function sn(t,e){Hn(e)?(t[Av]=e[Wc],function d5(t){bv.set(t[Wc],t)}(e)):t[Av]=e}let Mv;function xv(t,e){return Mv(t,e)}function tl(t){const e=t[Ke];return xn(e)?e[Ke]:e}function uk(t){return lk(t[Gc])}function ck(t){return lk(t[yr])}function lk(t){for(;null!==t&&!xn(t);)t=t[yr];return t}function za(t,e,n,r,i){if(null!=r){let s,o=!1;xn(r)?s=r:Hn(r)&&(o=!0,r=r[Dt]);const a=Be(r);0===t&&null!==n?null==i?gk(e,n,a):po(e,n,a,i||null,!0):1===t&&null!==n?po(e,n,a,i||null,!0):2===t?function up(t,e,n){const r=op(t,e);r&&function x5(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function k5(t,e,n,r,i){const s=n[Vr];s!==Be(n)&&za(e,t,r,s,i);for(let a=rn;a<n.length;a++){const u=n[a];rl(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function sp(t,e,n){return t.createElement(e,n)}function hk(t,e){const n=t[Na],r=n.indexOf(e);lR(e),n.splice(r,1)}function Rv(t,e){if(t.length<=rn)return;const n=rn+e,r=t[n];if(r){const i=r[zc];null!==i&&i!==t&&hk(i,r),e>0&&(t[n-1][yr]=r[yr]);const s=Qf(t,rn+e);!function I5(t,e){rl(t,e,e[J],2,null,null),e[Dt]=null,e[nn]=null}(r[k],r);const o=s[Lr];null!==o&&o.detachView(s[k]),r[Ke]=null,r[yr]=null,r[X]&=-129}return r}function fk(t,e){if(!(256&e[X])){const n=e[J];e[Nf]?.destroy(),e[Rf]?.destroy(),n.destroyNode&&rl(t,e,n,3,null,null),function T5(t){let e=t[Gc];if(!e)return kv(t[k],t);for(;e;){let n=null;if(Hn(e))n=e[Gc];else{const r=e[rn];r&&(n=r)}if(!n){for(;e&&!e[yr]&&e!==t;)Hn(e)&&kv(e[k],e),e=e[Ke];null===e&&(e=t),Hn(e)&&kv(e[k],e),n=e&&e[yr]}e=n}}(e)}}function kv(t,e){if(!(256&e[X])){e[X]&=-129,e[X]|=256,function M5(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Qc)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];Br(4,a,u);try{u.call(a)}finally{Br(5,a,u)}}else{Br(4,i,s);try{s.call(i)}finally{Br(5,i,s)}}}}}(t,e),function A5(t,e){const n=t.cleanup,r=e[Sa];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Sa]=null);const i=e[ss];if(null!==i){e[ss]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[J].destroy();const n=e[zc];if(null!==n&&xn(e[Ke])){n!==e[Ke]&&hk(n,e);const r=e[Lr];null!==r&&r.detachView(t)}!function h5(t){bv.delete(t[Wc])}(e)}}function Pv(t,e,n){return function pk(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Dt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===mr.None||s===mr.Emulated)return null}return Nn(r,n)}}(t,e.parent,n)}function po(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gk(t,e,n){t.appendChild(e,n)}function mk(t,e,n,r,i){null!==r?po(t,e,n,r,i):gk(t,e,n)}function op(t,e){return t.parentNode(e)}let Ov,Uv,vk=function yk(t,e,n){return 40&t.type?Nn(t,n):null};function ap(t,e,n,r){const i=Pv(t,r,e),s=e[J],a=function _k(t,e,n){return vk(t,e,n)}(r.parent||e[nn],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)mk(s,i,n[u],a,!1);else mk(s,i,n,a,!1);void 0!==Ov&&Ov(s,r,e,n,i)}function nl(t,e){if(null!==e){const n=e.type;if(3&n)return Nn(e,t);if(4&n)return Fv(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return nl(t,r);{const i=t[e.index];return xn(i)?Fv(-1,i):Be(i)}}if(32&n)return xv(e,t)()||Be(t[e.index]);{const r=Ek(t,e);return null!==r?Array.isArray(r)?r[0]:nl(tl(t[ut]),r):nl(t,e.next)}}return null}function Ek(t,e){return null!==e?t[ut][nn].projection[e.projection]:null}function Fv(t,e){const n=rn+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return nl(r,i)}return e[Vr]}function Lv(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&sn(Be(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Lv(t,e,n.child,r,i,s,!1),za(e,t,i,a,s);else if(32&u){const c=xv(n,r);let l;for(;l=c();)za(e,t,i,l,s);za(e,t,i,a,s)}else 16&u?Ck(t,e,r,n,i,s):za(e,t,i,a,s);n=o?n.projectionNext:n.next}}function rl(t,e,n,r,i,s){Lv(n,r,t.firstChild,e,i,s,!1)}function Ck(t,e,n,r,i,s){const o=n[ut],u=o[nn].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)za(e,t,i,u[c],s);else{let c=u;const l=o[Ke];np(r)&&(c.flags|=128),Lv(t,e,c,l,i,s,!0)}}function Dk(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Tk(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Qy(t,e,r),null!==i&&Dk(t,e,i),null!==s&&function O5(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class Mk{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class F{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ul=new F("ENVIRONMENT_INITIALIZER"),Uk=new F("INJECTOR",-1),Bk=new F("INJECTOR_DEF_TYPES");class $k{get(e,n=Uc){if(n===Uc){const r=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw r.name="NullInjectorError",r}return n}}function u7(...t){return{\u0275providers:Hk(0,t),\u0275fromNgModule:!0}}function Hk(t,...e){const n=[],r=new Set;let i;return Xc(e,s=>{const o=s;zv(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&Gk(i,n),n}function Gk(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Wv(i,s=>{e.push(s)})}}function zv(t,e,n,r){if(!(t=W(t)))return!1;let i=null,s=SN(t);const o=!s&&me(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=SN(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)zv(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Xc(s.imports,l=>{zv(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&Gk(c,e)}if(!a){const c=lo(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:he},{provide:Bk,useValue:i,multi:!0},{provide:ul,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||Wv(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Wv(t,e){for(let n of t)jy(n)&&(n=n.\u0275providers),Array.isArray(n)?Wv(n,e):e(n)}const c7=Ee({provide:String,useValue:Ee});function qv(t){return null!==t&&"object"==typeof t&&c7 in t}function go(t){return"function"==typeof t}const Kv=new F("Set Injector scope."),hp={},d7={};let Qv;function fp(){return void 0===Qv&&(Qv=new $k),Qv}class Ti{}class Yv extends Ti{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jv(e,o=>this.processProvider(o)),this.records.set(Uk,Ka(void 0,this)),i.has("environment")&&this.records.set(Ti,Ka(void 0,this));const s=this.records.get(Kv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Bk.multi,he,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=is(this),r=Sn(void 0);try{return e()}finally{is(n),Sn(r)}}get(e,n=Uc,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(PN))return e[PN](this);r=Sf(r);const i=is(this),s=Sn(void 0);try{if(!(r&re.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function m7(t){return"function"==typeof t||"object"==typeof t&&t instanceof F}(e)&&Df(e);a=u&&this.injectableDefInScope(u)?Ka(Xv(e),hp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&re.Self?fp():this.parent).get(e,n=r&re.Optional&&n===Uc?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[bf]=o[bf]||[]).unshift(It(e)),i)throw o;return function h6(t,e,n,r){const i=t[bf];throw e[NN]&&i.unshift(e[NN]),t.message=function f6(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):It(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(a6,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[bf]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Sn(s),is(i)}}resolveInjectorInitializers(){const e=is(this),n=Sn(void 0);try{const r=this.get(ul.multi,he,re.Self);for(const i of r)i()}finally{is(e),Sn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){let n=go(e=W(e))?e:W(e&&e.provide);const r=function f7(t){return qv(t)?Ka(void 0,t.useValue):Ka(qk(t),hp)}(e);if(go(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ka(void 0,hp,!0),i.factory=()=>Wy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===hp&&(n.value=d7,n.value=n.factory()),"object"==typeof n.value&&n.value&&function g7(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=W(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Xv(t){const e=Df(t),n=null!==e?e.factory:lo(t);if(null!==n)return n;if(t instanceof F)throw new b(204,!1);if(t instanceof Function)return function h7(t){const e=t.length;if(e>0)throw function Jc(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new b(204,!1);const n=function i6(t){return t&&(t[Tf]||t[AN])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new b(204,!1)}function qk(t,e,n){let r;if(go(t)){const i=W(t);return lo(i)||Xv(i)}if(qv(t))r=()=>W(t.useValue);else if(function Wk(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Wy(t.deps||[]));else if(function zk(t){return!(!t||!t.useExisting)}(t))r=()=>$(W(t.useExisting));else{const i=W(t&&(t.useClass||t.provide));if(!function p7(t){return!!t.deps}(t))return lo(i)||Xv(i);r=()=>new i(...Wy(t.deps))}return r}function Ka(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Jv(t,e){for(const n of t)Array.isArray(n)?Jv(n,e):n&&jy(n)?Jv(n.\u0275providers,e):e(n)}const pp=new F("AppId",{providedIn:"root",factory:()=>_7}),_7="ng",Kk=new F("Platform Initializer"),ls=new F("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Qk=new F("CSP nonce",{providedIn:"root",factory:()=>function il(){if(void 0!==Uv)return Uv;if(typeof document<"u")return document;throw new b(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xk=(t,e)=>null;function Jk(t,e){return Xk(t,e)}class b7{}class tP{}class A7{resolveComponentFactory(e){throw function S7(t){const e=Error(`No component factory found for ${It(t)}.`);return e.ngComponent=t,e}(e)}}let vp=(()=>{class t{}return t.NULL=new A7,t})();function M7(){return Ya(zt(),I())}function Ya(t,e){return new Wn(Nn(t,e))}let Wn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=M7,t})();class rP{}let bi=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function N7(){const t=I(),n=Gn(zt().index,t);return(Hn(n)?n:t)[J]}(),t})(),R7=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>null}),t})();class Xa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const iP=new Xa("16.1.6"),cw={};function dl(t){for(;t;){t[X]|=64;const e=tl(t);if(Jy(t)&&!e)return t;t=e}return null}function lw(t){return t.ngOriginalError}class mo{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lw(e);for(;n&&lw(n);)n=lw(n);return n||null}}const aP=new F("",{providedIn:"root",factory:()=>!1});function Si(t){return t instanceof Function?t():t}class hP extends ZN{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){dl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=Rt(this);this.trackingVersion++;try{e(n,r)}finally{Rt(i)}}destroy(){this.trackingVersion++}}let Ep=null;function fP(){return Ep??=new hP,Ep}function pP(t,e){return t[e]??fP()}function gP(t,e){const n=fP();n.hasReadASignal&&(t[e]=Ep,n.lView=t,Ep=new hP)}const Z={};function wP(t,e=null,n=null,r){const i=EP(t,e,n,r);return i.resolveInjectorInitializers(),i}function EP(t,e=null,n=null,r,i=new Set){const s=[n||he,u7(t)];return r=r||("object"==typeof t?void 0:It(t)),new Yv(s,e||fp(),r||null,i)}let yn=(()=>{class t{static create(n,r){if(Array.isArray(n))return wP({name:""},r,n,"");{const i=n.name??"";return wP({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Uc,t.NULL=new $k,t.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(Uk)}),t.__NG_ELEMENT_ID__=-1,t})();function T(t,e=re.Default){const n=I();return null===n?$(t,e):OR(zt(),n,W(t),e)}function Ip(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[Dt]=i,d[X]=140|r,(null!==c||t&&2048&t[X])&&(d[X]|=2048),cR(d),d[Ke]=d[Ma]=t,d[at]=n,d[uo]=o||t&&t[uo],d[J]=a||t&&t[J],d[Aa]=u||t&&t[Aa]||null,d[nn]=s,d[Wc]=function l5(){return c5++}(),d[Ei]=l,d[qN]=c,d[ut]=2==e.type?t[ut]:d,d}function Za(t,e,n,r,i){let s=t.data[e];if(null===s)s=function dw(t,e,n,r,i){const s=gR(),o=ov(),u=t.data[e]=function e8(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function ka(){return null!==H.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function l9(){return H.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Kc(){const t=H.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return $r(s,!0),s}function hl(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function CP(t,e,n,r,i){const s=pP(e,Nf),o=_n(),a=2&r;try{if(ho(-1),a&&e.length>ae&&function mP(t,e,n,r){if(!r)if(3==(3&e[X])){const s=t.preOrderCheckHooks;null!==s&&$f(e,s,n)}else{const s=t.preOrderHooks;null!==s&&jf(e,s,0,n)}ho(n)}(t,e,ae,!1),Br(a?2:0,i),a)s.runInContext(n,r,i);else{const c=Rt(null);try{n(r,i)}finally{Rt(c)}}}finally{a&&null===e[Nf]&&gP(e,Nf),ho(o),Br(a?3:1,i)}}function hw(t,e,n){if(Xy(e)){const r=Rt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Rt(r)}}}function DP(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=gw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function gw(t,e,n,r,i,s,o,a,u,c,l){const d=ae+r,h=d+i,f=function K7(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Z);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let TP=t=>null;function bP(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?SP(n,e,i,s):r.hasOwnProperty(i)&&SP(n,e,r[i],s)}return n}function SP(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function AP(t,e,n,r,i,s){for(let c=0;c<r.length;c++)yv(Wf(n,e),t,r[c].type);!function h8(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=hl(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=jc(n.mergedAttrs,l.hostAttrs),f8(t,n,e,u,l),d8(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function t8(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=bP(d.inputs,l,u,h?h.inputs:null),c=bP(d.outputs,l,c,p);const g=null===u||null===o||BN(e)?null:m8(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function MP(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function h9(){return H.lFrame.currentDirectiveIndex}();try{ho(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];uv(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&u8(u,c)}}finally{ho(-1),uv(o)}}function u8(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function _w(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function d8(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function f8(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=lo(i.type)),o=new Qc(s,vr(i),T);t.blueprint[r]=o,n[r]=o,function s8(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function o8(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,hl(t,n,i.hostVars,Z),i)}function g8(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)xP(r,n,o[a++],o[a++],o[a++])}function xP(t,e,n,r,i){const s=Rt(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Rt(s)}}function m8(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function RP(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];lv(n[r]),o.contentQueries(2,e[s],s)}}}function Cp(t,e){return t[Gc]?t[WN][yr]=e:t[Gc]=e,t[WN]=e,e}function vw(t,e,n){lv(0);const r=Rt(null);try{e(t,n)}finally{Rt(r)}}function FP(t,e){const n=t[Aa],r=n?n.get(mo,null):null;r&&r.handleError(e)}function ww(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];xP(t.data[o],e[o],r,a,i)}}function _8(t,e){const n=Gn(e,t),r=n[k];!function y8(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Dt];null!==i&&null===n[Ei]&&(n[Ei]=Jk(i,n[Aa])),Ew(r,n,n[at])}function Ew(t,e,n){dv(e);try{const r=t.viewQuery;null!==r&&vw(1,r,n);const i=t.template;null!==i&&CP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&RP(t,e),t.staticViewQueries&&vw(2,t.viewQuery,n);const s=t.components;null!==s&&function v8(t,e){for(let n=0;n<e.length;n++)_8(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,hv()}}let LP=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new j6(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t}),t})();function Dp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=By(i,a):2==s&&(r=By(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function fl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Be(s)),xn(s)){for(let a=rn;a<s.length;a++){const u=s[a],c=u[k].firstChild;null!==c&&fl(u[k],u,c,r)}s[Vr]!==s[Dt]&&r.push(s[Vr])}const o=n.type;if(8&o)fl(t,e,n.child,r);else if(32&o){const a=xv(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=Ek(e,n);if(Array.isArray(a))r.push(...a);else{const u=tl(e[ut]);fl(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Tp(t,e,n,r=!0){const i=e[uo].rendererFactory;i.begin&&i.begin();try{VP(t,e,t.template,n)}catch(o){throw r&&FP(e,o),o}finally{i.end&&i.end(),e[uo].effectManager?.flush()}}function VP(t,e,n,r){const i=e[X];if(256!=(256&i)){e[uo].effectManager?.flush(),dv(e);try{cR(e),function _R(t){return H.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&CP(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&$f(e,c,null)}else{const c=t.preOrderHooks;null!==c&&jf(e,c,0,null),fv(e,0)}if(function D8(t){for(let e=uk(t);null!==e;e=ck(e)){if(!e[KN])continue;const n=e[Na];for(let r=0;r<n.length;r++){Z6(n[r])}}}(e),UP(e,2),null!==t.contentQueries&&RP(t,e),o){const c=t.contentCheckHooks;null!==c&&$f(e,c)}else{const c=t.contentHooks;null!==c&&jf(e,c,1),fv(e,1)}!function q7(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=pP(e,Rf);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ho(~s);else{const o=s,a=n[++i],u=n[++i];d9(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[Rf]&&gP(e,Rf),ho(-1)}}(t,e);const a=t.components;null!==a&&$P(e,a,0);const u=t.viewQuery;if(null!==u&&vw(2,u,r),o){const c=t.viewCheckHooks;null!==c&&$f(e,c)}else{const c=t.viewHooks;null!==c&&jf(e,c,2),fv(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[X]&=-73,lR(e)}finally{hv()}}}function UP(t,e){for(let n=uk(t);null!==n;n=ck(n))for(let r=rn;r<n.length;r++)BP(n[r],e)}function T8(t,e,n){BP(Gn(e,t),n)}function BP(t,e){if(!function X6(t){return 128==(128&t[X])}(t))return;const n=t[k];if(80&t[X]&&0===e||1024&t[X]||2===e)VP(n,t,n.template,t[at]);else if(t[Hc]>0){UP(t,1);const i=t[k].components;null!==i&&$P(t,i,1)}}function $P(t,e,n){for(let r=0;r<e.length;r++)T8(t,e[r],n)}class pl{get rootNodes(){const e=this._lView,n=e[k];return fl(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[at]}set context(e){this._lView[at]=e}get destroyed(){return 256==(256&this._lView[X])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ke];if(xn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Rv(e,r),Qf(n,r))}this._attachedToViewContainer=!1}fk(this._lView[k],this._lView)}onDestroy(e){!function hR(t,e){if(256==(256&t[X]))throw new b(911,!1);null===t[ss]&&(t[ss]=[]),t[ss].push(e)}(this._lView,e)}markForCheck(){dl(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){this._lView[X]|=128}detectChanges(){Tp(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D5(t,e){rl(t,e,e[J],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e}}class b8 extends pl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Tp(e[k],e,e[at],!1)}checkNoChanges(){}get context(){return null}}class jP extends vp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=me(e);return new gl(n,this.ngModule)}}function HP(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class A8{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Sf(r);const i=this.injector.get(e,cw,r);return i!==cw||n===cw?i:this.parentInjector.get(e,n,r)}}class gl extends tP{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=HP(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return HP(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function C6(t){return t.map(I6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Ti?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new A8(e,s):e,a=o.get(rP,null);if(null===a)throw new b(407,!1);const l={rendererFactory:a,sanitizer:o.get(R7,null),effectManager:o.get(LP,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function Q7(t,e,n,r){const s=r.get(aP,!1)||n===mr.ShadowDom,o=t.selectRootElement(e,s);return function Y7(t){TP(t)}(o),o}(d,r,this.componentDef.encapsulation,o):sp(d,h,function S8(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528,w=gw(0,null,null,1,0,null,null,null,null,null,null),y=Ip(null,w,null,_,null,null,l,d,o,null,null);let D,P;dv(y);try{const L=this.componentDef;let K,ot=null;L.findHostDirectiveDefs?(K=[],ot=new Map,L.findHostDirectiveDefs(L,K,ot),K.push(L)):K=[L];const kr=function x8(t,e){const n=t[k],r=ae;return t[r]=e,Za(n,r,2,"#host",null)}(y,f),ro=function N8(t,e,n,r,i,s,o){const a=i[k];!function R8(t,e,n,r){for(const i of t)e.mergedAttrs=jc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Dp(e,e.mergedAttrs,!0),null!==n&&Tk(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=Jk(e,i[Aa]));const c=s.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Ip(i,DP(n),null,l,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&_w(a,t,r.length-1),Cp(i,d),i[t.index]=d}(kr,f,L,K,y,l,d);P=function uR(t,e){return t.data[e]}(w,ae),f&&function P8(t,e,n,r){if(r)Qy(t,n,["ng-version",iP.full]);else{const{attrs:i,classes:s}=function D6(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!_r(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Qy(t,n,i),s&&s.length>0&&Dk(t,n,s.join(" "))}}(d,L,f,r),void 0!==n&&function O8(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(P,this.ngContentSelectors,n),D=function k8(t,e,n,r,i,s){const o=zt(),a=i[k],u=Nn(o,i);AP(a,i,o,n,null,r);for(let l=0;l<n.length;l++)sn(fo(i,a,o.directiveStart+l,o),i);MP(a,i,o),u&&sn(u,i);const c=fo(i,a,o.directiveStart+o.componentOffset,o);if(t[at]=i[at]=c,null!==s)for(const l of s)l(c,e);return hw(a,o,t),c}(ro,L,K,ot,y,[F8]),Ew(w,y,null)}finally{hv()}return new M8(this.componentType,D,Ya(P,y),y,P)}}class M8 extends b7{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new b8(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;ww(s[k],s,i,e,n),this.previousInputValues.set(e,n),dl(Gn(this._tNode.index,s))}}get injector(){return new Fa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function F8(){const t=zt();Bf(I()[k],t)}function Ie(t){let e=function GP(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(vr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=bp(t.inputs),o.inputTransforms=bp(t.inputTransforms),o.declaredInputs=bp(t.declaredInputs),o.outputs=bp(t.outputs);const a=i.hostBindings;a&&B8(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&V8(t,u),c&&U8(t,c),Ef(t.inputs,i.inputs),Ef(t.declaredInputs,i.declaredInputs),Ef(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Ef(o.inputTransforms,i.inputTransforms)),vr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ie&&(n=!1)}}e=Object.getPrototypeOf(e)}!function L8(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jc(i.hostAttrs,n=jc(n,i.hostAttrs))}}(r)}function bp(t){return t===Fr?{}:t===he?[]:t}function V8(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function U8(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function B8(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Aw(t){return function Ra(t,e){return t[e]}(function c9(){return H.lFrame.contextLView}(),ae+t)}function Mw(t,e,n,r,i){const o=i?"class":"style";ww(t,n,e.inputs[o],o,r)}function ct(t,e,n,r){const i=I(),s=ce(),o=ae+t,a=i[J],u=s.firstCreatePass?function mK(t,e,n,r,i,s){const o=e.consts,u=Za(e,t,2,r,os(o,i));return function mw(t,e,n,r){if(pR()){const i=null===r?null:{"":-1},s=function c8(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if($N(e,o.selectors,!1))if(r||(r=[]),vr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),_w(t,e,a.length)}else r.unshift(o),_w(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&AP(t,e,n,o,i,a),i&&function l8(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new b(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=jc(n.mergedAttrs,n.attrs)}(e,n,u,os(o,s)),null!==u.attrs&&Dp(u,u.attrs,!1),null!==u.mergedAttrs&&Dp(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=l1(s,i,u,a,e,t);i[o]=c;const l=Pf(u);return $r(u,!0),Tk(a,c,u),32!=(32&u.flags)&&Uf()&&ap(s,i,c,u),0===function t9(){return H.lFrame.elementDepthCount}()&&sn(c,i),function n9(){H.lFrame.elementDepthCount++}(),l&&(function fw(t,e,n){pR()&&(function a8(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;co(n)&&function p8(t,e,n){const r=Nn(e,t),i=DP(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Cp(t,Ip(t,i,null,o,r,e,null,t[uo].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wf(n,e),sn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=fo(e,t,a,n);sn(c,e),null!==o&&g8(0,a-i,c,u,0,o),vr(u)&&(Gn(n.index,e)[at]=fo(e,t,a,n))}}(t,e,n,Nn(n,e)),64==(64&n.flags)&&MP(t,e,n))}(s,i,u),hw(s,u,i)),null!==r&&function pw(t,e,n=Nn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}(i,u),ct}function bt(){let t=zt();ov()?function av(){H.lFrame.isParent=!1}():(t=t.parent,$r(t,!1));const e=t;(function i9(t){return H.skipHydrationRootTNode===t})(e)&&function u9(){H.skipHydrationRootTNode=null}(),function r9(){H.lFrame.elementDepthCount--}();const n=ce();return n.firstCreatePass&&(Bf(n,t),Xy(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function C9(t){return 0!=(8&t.flags)}(e)&&Mw(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function D9(t){return 0!=(16&t.flags)}(e)&&Mw(n,e,I(),e.stylesWithoutHost,!1),bt}function Wr(t,e,n,r){return ct(t,e,n,r),bt(),Wr}let l1=(t,e,n,r,i,s)=>(as(!0),sp(r,i,function TR(){return H.lFrame.currentNamespace}()));function Rw(){return I()}function wl(t){return!!t&&"function"==typeof t.then}function f1(t){return!!t&&"function"==typeof t.subscribe}function kn(t,e,n,r){const i=I(),s=ce(),o=zt();return function g1(t,e,n,r,i,s,o){const a=Pf(r),c=t.firstCreatePass&&function PP(t){return t.cleanup||(t.cleanup=[])}(t),l=e[at],d=function kP(t){return t[Sa]||(t[Sa]=[])}(e);let h=!0;if(3&r.type||o){const g=Nn(r,e),_=o?o(g):g,w=d.length,y=o?P=>o(Be(P[r.index])):r.index;let D=null;if(!o&&a&&(D=function IK(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Sa],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,h=!1;else{s=_1(r,e,l,s,!1);const P=n.listen(_,i,s);d.push(s,P),c&&c.push(i,y,w,w+1)}}else s=_1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let _=0;_<g;_+=2){const L=e[p[_]][p[_+1]].subscribe(s),K=d.length;d.push(s,L),c&&c.push(i,r.index,K,-(K+1))}}}(s,i,i[J],o,t,e,r),kn}function m1(t,e,n,r){try{return Br(6,e,n),!1!==n(r)}catch(i){return FP(t,i),!1}finally{Br(7,e,n)}}function _1(t,e,n,r,i){return function s(o){if(o===Function)return r;dl(t.componentOffset>-1?Gn(t.index,e):e);let u=m1(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=m1(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Rp(t,e){return t<<17|e<<2}function ds(t){return t>>17&32767}function Pw(t){return 2|t}function yo(t){return(131068&t)>>2}function Ow(t,e){return-131069&t|e<<2}function Fw(t){return 1|t}function S1(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ds(s):yo(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];RK(t[a],e)&&(u=!0,t[a+1]=r?Fw(l):Pw(l)),a=r?ds(l):yo(l)}u&&(t[n+1]=r?Pw(s):Fw(s))}function RK(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ja(t,e)>=0}function kp(t,e){return function wr(t,e,n,r){const i=I(),s=ce(),o=function Ci(t){const e=H.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function F1(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_n()],o=function O1(t,e){return e>=t.expandoStartIndex}(t,n);(function B1(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function $K(t,e,n,r){const i=function cv(t){const e=H.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=El(n=Lw(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Lw(i,t,e,n,r),null===s){let u=function jK(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==yo(r))return t[ds(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Lw(null,t,e,u[1],r),u=El(u,e.attrs,r),function HK(t,e,n,r){t[ds(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function GK(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=El(r,t[s].hostAttrs,n);return El(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function xK(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ds(o),u=yo(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||ja(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=ds(t[a+1]);t[r+1]=Rp(h,a),0!==h&&(t[h+1]=Ow(t[h+1],r)),t[a+1]=function AK(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Rp(a,0),0!==a&&(t[a+1]=Ow(t[a+1],r)),a=r;else t[r+1]=Rp(u,0),0===a?a=r:t[u+1]=Ow(t[u+1],r),u=r;c&&(t[r+1]=Pw(t[r+1])),S1(t,l,r,!0),S1(t,l,r,!1),function NK(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ja(s,e)>=0&&(n[r+1]=Fw(n[r+1]))}(e,l,t,r,s),o=Rp(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==Z&&function on(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}(i,o,e)&&function V1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function MK(t){return 1==(1&t)}(c)?U1(u,e,n,i,yo(c),o):void 0;Pp(l)||(Pp(s)||function SK(t){return 2==(2&t)}(c)&&(s=U1(u,null,n,i,a,o)),function P5(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:us.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=us.Important),t.setStyle(n,r,i,s))}}(r,o,function Vf(t,e){return Be(e[t])}(_n(),n),i,s))}(s,s.data[_n()],i,i[J],t,i[o+1]=function KK(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=It(function cs(t){return t instanceof Mk?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),kp}function Lw(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=El(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function El(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zn(t,o,!!n||e[++s]))}return void 0===t?null:t}function U1(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===Z&&(h=d?he:void 0);let f=d?Ev(h,r):l===r?h:void 0;if(c&&!Pp(f)&&(f=Ev(u,r)),Pp(f)&&(a=f,o))return a;const p=t[i+1];i=o?ds(p):yo(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Ev(u,r))}return a}function Pp(t){return void 0!==t}function Kn(t,e=""){const n=I(),r=ce(),i=t+ae,s=r.firstCreatePass?Za(r,i,1,e,null):r.data[i],o=$1(r,n,s,e,t);n[i]=o,Uf()&&ap(r,n,o,s),$r(s,!1)}let $1=(t,e,n,r,i)=>(as(!0),function ip(t,e){return t.createText(e)}(e[J],r));const du="en-US";let lO=du;function $w(t,e,n,r,i){if(t=W(t),Array.isArray(t))for(let s=0;s<t.length;s++)$w(t[s],e,n,r,i);else{const s=ce(),o=I();let a=go(t)?t:W(t.provide),u=qk(t);const c=zt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(go(t)||!t.multi){const f=new Qc(u,i,T),p=Hw(a,e,i?l:l+h,d);-1===p?(yv(Wf(c,o),s,a),jw(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Hw(a,e,l+h,d),p=Hw(a,e,l,l+h),_=p>=0&&n[p];if(i&&!_||!i&&!(f>=0&&n[f])){yv(Wf(c,o),s,a);const w=function pY(t,e,n,r,i){const s=new Qc(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,OO(s,i,r&&!n),s}(i?fY:hY,n.length,i,r,u);!i&&_&&(n[p].providerFactory=w),jw(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),o.push(w)}else jw(s,t,f>-1?f:p,OO(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function jw(t,e,n,r){const i=go(e),s=function l7(t){return!!t.useClass}(e);if(i||s){const u=(s?W(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function OO(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hw(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function hY(t,e,n,r){return Gw(this.multi,[])}function fY(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=fo(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),Gw(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Gw(i,s);return s}function Gw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ze(t,e=[]){return n=>{n.providersResolver=(r,i)=>function dY(t,e,n){const r=ce();if(r.firstCreatePass){const i=vr(t);$w(n,r.data,r.blueprint,i,!0),$w(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class hu{}class FO{}class zw extends hu{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jP(this);const i=jn(e);this._bootstrapComponents=Si(i.bootstrap),this._r3Injector=EP(e,n,[{provide:hu,useValue:this},{provide:vp,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ww extends FO{constructor(e){super(),this.moduleType=e}create(e){return new zw(this.moduleType,e,[])}}class LO extends hu{constructor(e){super(),this.componentFactoryResolver=new jP(this),this.instance=null;const n=new Yv([...e.providers,{provide:hu,useValue:this},{provide:vp,useValue:this.componentFactoryResolver}],e.parent||fp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function qw(t,e,n=null){return new LO({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let _Y=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Hk(0,n.type),i=r.length>0?qw([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(Ti))}),t})();function VO(t){t.getStandaloneInjector=e=>e.get(_Y).getOrCreateStandaloneInjector(t)}function Qw(t){return e=>{setTimeout(t,void 0,e)}}const tt=class HY extends _i{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Qw(s),i&&(i=Qw(i)),o&&(o=Qw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Bn&&e.add(a),a}};let Ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=eX,t})();function eX(){return function tF(t,e){let n;const r=e[t.index];return xn(r)?n=r:(n=function NP(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}(r,e,null,t),e[t.index]=n,Cp(e,n)),nF(n,e,t,r),new ZO(n,t,e)}(zt(),I())}const tX=Ir,ZO=class extends tX{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ya(this._hostTNode,this._hostLView)}get injector(){return new Fa(this._hostTNode,this._hostLView)}get parentInjector(){const e=_v(this._hostTNode,this._hostLView);if(MR(e)){const n=Gf(e,this._hostLView),r=Hf(e);return new Fa(n[k].data[r+8],n)}return new Fa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=eF(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Yc(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new gl(me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const _=(o?c:this.parentInjector).get(Ti,null);_&&(s=_)}me(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[k];if(function J6(t){return xn(t[Ke])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ke],l=new ZO(c,c[nn],c[Ke]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function b5(t,e,n,r){const i=rn+r,s=n.length;r>0&&(n[i-1][yr]=e),r<s-rn?(e[yr]=n[i],$R(n,rn+r,e)):(n.push(e),e[yr]=null),e[Ke]=n;const o=e[zc];null!==o&&n!==o&&function S5(t,e){const n=t[Na];e[ut]!==e[Ke][Ke][ut]&&(t[KN]=!0),null===n?t[Na]=[e]:n.push(e)}(o,e);const a=e[Lr];null!==a&&a.insertView(t),e[X]|=128}(s,i,a,o),!r){const u=Fv(o,a),c=i[J],l=op(c,a[Vr]);null!==l&&function C5(t,e,n,r,i,s){r[Dt]=i,r[nn]=e,rl(t,r,n,1,i,s)}(s,a[nn],c,i,l,u)}return e.attachToViewContainerRef(),$R(Jw(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=eF(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Rv(this._lContainer,n);r&&(Qf(Jw(this._lContainer),n),fk(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=Rv(this._lContainer,n);return r&&null!=Qf(Jw(this._lContainer),n)?new pl(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function eF(t){return t[8]}function Jw(t){return t[8]||(t[8]=[])}let nF=function rF(t,e,n,r){if(t[Vr])return;let i;i=8&n.type?Be(r):function nX(t,e){const n=t[J],r=n.createComment(""),i=Nn(e,t);return po(n,op(n,i),r,function N5(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Vr]=i};const cE=new F("Application Initializer");let lE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=V(cE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(wl(s))n.push(s);else if(f1(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),AF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const xi=new F("LocaleId",{providedIn:"root",factory:()=>V(xi,re.Optional|re.SkipSelf)||function kX(){return typeof $localize<"u"&&$localize.locale||du}()});let MF=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new nr(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class FX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let xF=(()=>{class t{compileModuleSync(n){return new Ww(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Si(jn(n).declarations).reduce((o,a)=>{const u=me(a);return u&&o.push(new gl(u)),o},[]);return new FX(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function kF(...t){}class Ce{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tt(!1),this.onMicrotaskEmpty=new tt(!1),this.onStable=new tt(!1),this.onError=new tt(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function UX(){const t="function"==typeof Ne.requestAnimationFrame;let e=Ne[t?"requestAnimationFrame":"setTimeout"],n=Ne[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function jX(t){const e=()=>{!function $X(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ne,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hE(t),t.isCheckStableRunning=!0,dE(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hE(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return PF(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),OF(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return PF(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),OF(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,hE(t),dE(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ce.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(Ce.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,BX,kF,kF);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const BX={};function dE(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hE(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function PF(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OF(t){t._nesting--,dE(t)}class HX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tt,this.onMicrotaskEmpty=new tt,this.onStable=new tt,this.onError=new tt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const FF=new F("",{providedIn:"root",factory:LF});function LF(){const t=V(Ce);let e=!0;return function K3(...t){const e=Vc(t),n=function $3(t,e){return"number"==typeof Vy(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?rr(r[0]):Da(n)(Nt(r,e)):Pr}(new et(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new et(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(DN()))}const VF=new F(""),$p=new F("");let gE,fE=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gE||(function GX(t){gE=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Ce),$(pE),$($p))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),pE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return gE?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),hs=null;const UF=new F("AllowMultipleToken"),mE=new F("PlatformDestroyListeners"),_E=new F("appBootstrapListener");class $F{constructor(e,n){this.name=e,this.token=n}}function HF(t,e,n=[]){const r=`Platform: ${e}`,i=new F(r);return(s=[])=>{let o=yE();if(!o||o.injector.get(UF,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function qX(t){if(hs&&!hs.get(UF,!1))throw new b(400,!1);(function BF(){!function B6(t){eR=t}(()=>{throw new b(600,!1)})})(),hs=t;const e=t.get(zF);(function jF(t){t.get(Kk,null)?.forEach(n=>n())})(t)}(function GF(t=[],e){return yn.create({name:e,providers:[{provide:Kv,useValue:"platform"},{provide:mE,useValue:new Set([()=>hs=null])},...t]})}(a,r))}return function QX(t){const e=yE();if(!e)throw new b(401,!1);return e}()}}function yE(){return hs?.get(zF)??null}let zF=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function YX(t="zone.js",e){return"noop"===t?new HX:"zone.js"===t?new Ce(e):t}(r?.ngZone,function WF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function mY(t,e,n){return new zw(t,e,n)}(n.moduleType,this.injector,function XF(t){return[{provide:Ce,useFactory:t},{provide:ul,multi:!0,useFactory:()=>{const e=V(JX,{optional:!0});return()=>e.initialize()}},{provide:YF,useFactory:XX},{provide:FF,useFactory:LF}]}(()=>i)),o=s.injector.get(mo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{jp(this._modules,s),a.unsubscribe()})}),function qF(t,e,n){try{const r=n();return wl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(lE);return a.runInitializers(),a.donePromise.then(()=>(function dO(t){ir(t,"Expected localeId to be defined"),"string"==typeof t&&(lO=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(xi,du)||du),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=KF({},r);return function zX(t,e,n){const r=new Ww(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(gu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new b(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new b(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(mE,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(yn))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function KF(t,e){return Array.isArray(e)?e.reduce(KF,t):{...t,...e}}let gu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(YF),this.zoneIsStable=V(FF),this.componentTypes=[],this.components=[],this.isStable=V(MF).hasPendingTasks.pipe(Or(n=>n?z(!1):this.zoneIsStable),function Q3(t,e=ns){return t=t??Y3,xt((n,r)=>{let i,s=!0;n.subscribe(Et(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),DN()),this._injector=V(Ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof tP;if(!this._injector.get(lE).done)throw!i&&function ba(t){const e=me(t)||tn(t)||Mn(t);return null!==e&&e.standalone}(n),new b(405,!1);let o;o=i?n:this._injector.get(vp).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function WX(t){return t.isBoundToModule}(o)?void 0:this._injector.get(hu),c=o.create(yn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(VF,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),jp(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new b(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;jp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(_E,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const YF=new F("",{providedIn:"root",factory:()=>V(mo).handleError.bind(void 0)});function XX(){const t=V(Ce),e=V(mo);return n=>t.runOutsideAngular(()=>e.handleError(n))}let JX=(()=>{class t{constructor(){this.zone=V(Ce),this.applicationRef=V(gu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let Hp=(()=>{class t{}return t.__NG_ELEMENT_ID__=eJ,t})();function eJ(t){return function tJ(t,e,n){if(co(t)&&!n){const r=Gn(t.index,e);return new pl(r,r)}return 47&t.type?new pl(e[ut],e):null}(zt(),I(),16==(16&t))}const pJ=HF(null,"core",[]);let gJ=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(gu))},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({}),t})();let TE=null;function fs(){return TE}class SJ{}const ur=new F("DocumentToken");let bE=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(MJ)},providedIn:"platform"}),t})();const AJ=new F("Location Initialized");let MJ=(()=>{class t extends bE{constructor(){super(),this._doc=V(ur),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fs().getBaseHref(this._doc)}onPopState(n){const r=fs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=fs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new t},providedIn:"platform"}),t})();function SE(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function fL(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ni(t){return t&&"?"!==t[0]?"?"+t:t}let Eo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(gL)},providedIn:"root"}),t})();const pL=new F("appBaseHref");let gL=(()=>{class t extends Eo{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(ur).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return SE(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ni(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ni(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ni(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(bE),$(pL,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xJ=(()=>{class t extends Eo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=SE(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ni(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(bE),$(pL,8))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})(),AE=(()=>{class t{constructor(n){this._subject=new tt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function kJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(fL(mL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ni(r))}normalize(n){return t.stripTrailingSlash(function RJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,mL(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ni(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ni(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Ni,t.joinWithSlash=SE,t.stripTrailingSlash=fL,t.\u0275fac=function(n){return new(n||t)($(Eo))},t.\u0275prov=j({token:t,factory:function(){return function NJ(){return new AE($(Eo))}()},providedIn:"root"}),t})();function mL(t){return t.replace(/\/index.html$/,"")}let HE=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({}),t})();function RL(t){return"server"===t}let XZ=(()=>{class t{}return t.\u0275prov=j({token:t,providedIn:"root",factory:()=>new JZ($(ur),window)}),t})();class JZ{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function ZZ(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=kL(this.window.history)||kL(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function kL(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Cee extends SJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class WE extends Cee{static makeCurrent(){!function bJ(t){TE||(TE=t)}(new WE)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Dee(){return Pl=Pl||document.querySelector("base"),Pl?Pl.getAttribute("href"):null}();return null==n?null:function Tee(t){og=og||document.createElement("a"),og.setAttribute("href",t);const e=og.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Pl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function _Z(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let og,Pl=null,See=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const qE=new F("EventManagerPlugins");let VL=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)($(qE),$(Ce))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class UL{constructor(e){this._doc=e}}const KE="ng-app-id";let BL=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=RL(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${KE}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(KE),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(KE,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)($(ur),$(pp),$(Qk,8),$(ls))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const QE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},YE=/%COMP%/g,Nee=new F("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function jL(t,e){return e.map(n=>n.replace(YE,t))}let HL=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=RL(a),this.defaultRenderer=new XE(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mr.ShadowDom&&(r={...r,encapsulation:mr.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof zL?i.applyToHost(n):i instanceof JE&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case mr.Emulated:s=new zL(u,c,r,this.appId,l,o,a,d);break;case mr.ShadowDom:return new Oee(u,c,n,r,o,a,this.nonce,d);default:s=new JE(u,c,r,l,o,a,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)($(VL),$(BL),$(pp),$(Nee),$(ur),$(ls),$(Ce),$(Qk))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();class XE{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(QE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(GL(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(GL(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=QE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=QE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(us.DashCase|us.Important)?e.style.setProperty(n,r,i&us.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&us.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=fs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function GL(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Oee extends XE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=jL(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class JE extends XE{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?jL(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zL extends JE{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function Ree(t){return"_ngcontent-%COMP%".replace(YE,t)}(c),this.hostAttr=function kee(t){return"_nghost-%COMP%".replace(YE,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let Fee=(()=>{class t extends UL{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(ur))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const WL=["alt","control","meta","shift"],Lee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Uee=(()=>{class t extends UL{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),WL.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=Lee[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WL.forEach(o=>{o!==i&&(0,Vee[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(ur))},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();const KL=[{provide:ls,useValue:"browser"},{provide:Kk,useValue:function Bee(){WE.makeCurrent()},multi:!0},{provide:ur,useFactory:function jee(){return function U5(t){Uv=t}(document),document},deps:[]}],Hee=HF(pJ,"browser",KL),Gee=new F(""),QL=[{provide:$p,useClass:class bee{addToWindow(e){Ne.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new b(5103,!1);return s},Ne.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ne.getAllAngularRootElements=()=>e.getAllRootElements(),Ne.frameworkStabilizers||(Ne.frameworkStabilizers=[]),Ne.frameworkStabilizers.push(r=>{const i=Ne.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?fs().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:VF,useClass:fE,deps:[Ce,pE,$p]},{provide:fE,useClass:fE,deps:[Ce,pE,$p]}],YL=[{provide:Kv,useValue:"root"},{provide:mo,useFactory:function $ee(){return new mo},deps:[]},{provide:qE,useClass:Fee,multi:!0,deps:[ur,Ce,ls]},{provide:qE,useClass:Uee,multi:!0,deps:[ur]},HL,BL,VL,{provide:rP,useExisting:HL},{provide:class eee{},useClass:See,deps:[]},[]];let zee=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:pp,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)($(Gee,12))},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({providers:[...YL,...QL],imports:[HE,gJ]}),t})(),XL=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(ur))},t.\u0275prov=j({token:t,factory:function(n){let r=null;return r=n?new n:function qee(){return new XL($(ur))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:Jee}=Array,{getPrototypeOf:Zee,prototype:ete,keys:tte}=Object;function tV(t){if(1===t.length){const e=t[0];if(Jee(e))return{args:e,keys:null};if(function nte(t){return t&&"object"==typeof t&&Zee(t)===ete}(e)){const n=tte(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:rte}=Array;function nV(t){return xe(e=>function ite(t,e){return rte(e)?t(...e):t(e)}(t,e))}function rV(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let iV=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(T(bi),T(Wn))},t.\u0275dir=G({type:t}),t})(),Io=(()=>{class t extends iV{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Wt(t)))(r||t)}}(),t.\u0275dir=G({type:t,features:[Ie]}),t})();const Qr=new F("NgValueAccessor"),ate={provide:Qr,useExisting:Pe(()=>Ol),multi:!0},cte=new F("CompositionEventMode");let Ol=(()=>{class t extends iV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ute(){const t=fs()?fs().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(T(bi),T(Wn),T(cte,8))},t.\u0275dir=G({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&kn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ze([ate]),Ie]}),t})();const an=new F("NgValidators"),ms=new F("NgAsyncValidators");function gV(t){return null!=t}function mV(t){return wl(t)?Nt(t):t}function _V(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function yV(t,e){return e.map(n=>n(t))}function vV(t){return t.map(e=>function dte(t){return!t.validate}(e)?e:n=>e.validate(n))}function eI(t){return null!=t?function wV(t){if(!t)return null;const e=t.filter(gV);return 0==e.length?null:function(n){return _V(yV(n,e))}}(vV(t)):null}function tI(t){return null!=t?function EV(t){if(!t)return null;const e=t.filter(gV);return 0==e.length?null:function(n){return function ste(...t){const e=IN(t),{args:n,keys:r}=tV(t),i=new et(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;rr(n[l]).subscribe(Et(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?rV(r,a):a),s.complete())}))}});return e?i.pipe(nV(e)):i}(yV(n,e).map(mV)).pipe(xe(_V))}}(vV(t)):null}function IV(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nI(t){return t?Array.isArray(t)?t:[t]:[]}function ug(t,e){return Array.isArray(t)?t.includes(e):t===e}function TV(t,e){const n=nI(e);return nI(t).forEach(i=>{ug(n,i)||n.push(i)}),n}function bV(t,e){return nI(e).filter(n=>!ug(t,n))}class SV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=eI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class In extends SV{get formDirective(){return null}get path(){return null}}class _s extends SV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class AV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rI=(()=>{class t extends AV{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(_s,2))},t.\u0275dir=G({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&kp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ie]}),t})(),iI=(()=>{class t extends AV{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(T(In,10))},t.\u0275dir=G({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&kp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Ie]}),t})();const Fl="VALID",lg="INVALID",yu="PENDING",Ll="DISABLED";function aI(t){return(dg(t)?t.validators:t)||null}function uI(t,e){return(dg(e)?e.asyncValidators:t)||null}function dg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class RV{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fl}get invalid(){return this.status===lg}get pending(){return this.status==yu}get disabled(){return this.status===Ll}get enabled(){return this.status!==Ll}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bV(e,this._rawAsyncValidators))}hasValidator(e){return ug(this._rawValidators,e)}hasAsyncValidator(e){return ug(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ll,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Fl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===yu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ll:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yu,this._hasOwnPendingAsyncValidator=!0;const n=mV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new tt,this.statusChanges=new tt}_calculateStatus(){return this._allControlsDisabled()?Ll:this.errors?lg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yu)?yu:this._anyControlsHaveStatus(lg)?lg:Fl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gte(t){return Array.isArray(t)?eI(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mte(t){return Array.isArray(t)?tI(t):t||null}(this._rawAsyncValidators)}}class cI extends RV{constructor(e,n,r){super(aI(n),uI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function NV(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new b(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function xV(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const vu=new F("CallSetDisabledState",{providedIn:"root",factory:()=>hg}),hg="always";function Vl(t,e,n=hg){lI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function vte(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&kV(t,e)})}(t,e),function Ete(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function wte(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&kV(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function yte(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function gg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lI(t,e){const n=function CV(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(IV(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function DV(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(IV(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();gg(e._rawValidators,i),gg(e._rawAsyncValidators,i)}function kV(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const bte={provide:In,useExisting:Pe(()=>Bl)},Ul=(()=>Promise.resolve())();let Bl=(()=>{class t extends In{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new tt,this.form=new cI({},eI(n),tI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ul.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Vl(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ul.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ul.then(()=>{const r=this._findContainer(n.path),i=new cI({});(function PV(t,e){lI(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ul.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ul.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function OV(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(T(an,10),T(ms,10),T(vu,8))},t.\u0275dir=G({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&kn("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ze([bte]),Ie]}),t})();function FV(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function LV(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const VV=class extends RV{constructor(e=null,n,r){super(aI(n),uI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),dg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=LV(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){LV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Mte={provide:_s,useExisting:Pe(()=>_g)},$V=(()=>Promise.resolve())();let _g=(()=>{class t extends _s{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new VV,this._registered=!1,this.name="",this.update=new tt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fI(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ol?n=s:function Dte(t){return Object.getPrototypeOf(t.constructor)===Io}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function hI(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){$V.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function mu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);$V.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function fg(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(T(In,9),T(an,10),T(ms,10),T(Qr,10),T(Hp,8),T(vu,8))},t.\u0275dir=G({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ze([Mte]),Ie,sr]}),t})(),pI=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=G({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),HV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({}),t})(),Zte=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({imports:[HV]}),t})(),a2=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:vu,useValue:n.callSetDisabledState??hg}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({imports:[Zte]}),t})();function EI(...t){const e=Vc(t),n=IN(t),{args:r,keys:i}=tV(t);if(0===r.length)return Nt([],e);const s=new et(function nne(t,e,n=ns){return r=>{u2(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)u2(e,()=>{const c=Nt(t[u],e);let l=!1;c.subscribe(Et(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>rV(i,o):ns));return n?s.pipe(nV(n)):s}function u2(t,e,n){t?yi(n,t,e):e()}const yg=Fc(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function II(...t){return function rne(){return Da(1)}()(Nt(t,Vc(t)))}function c2(t){return new et(e=>{rr(t()).subscribe(e)})}function $l(t,e){const n=Ae(t)?t:()=>t,r=i=>i.error(n());return new et(e?i=>e.schedule(r,0,i):r)}function CI(){return xt((t,e)=>{let n=null;t._refCount++;const r=Et(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class l2 extends et{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,aN(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bn;const n=this.getSubject();e.add(this.source.subscribe(Et(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bn.EMPTY)}return e}refCount(){return CI()(this)}}function wu(t){return t<=0?()=>Pr:xt((e,n)=>{let r=0;e.subscribe(Et(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ys(t,e){return xt((n,r)=>{let i=0;n.subscribe(Et(r,s=>t.call(e,s,i++)&&r.next(s)))})}function vg(t){return xt((e,n)=>{let r=!1;e.subscribe(Et(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function d2(t=sne){return xt((e,n)=>{let r=!1;e.subscribe(Et(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sne(){return new yg}function Do(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ys((i,s)=>t(i,s,r)):ns,wu(1),n?vg(e):d2(()=>new yg))}function jl(t,e){return Ae(e)?Gt(t,e,1):Gt(t,1)}function un(t,e,n){const r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?xt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Et(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ns}function To(t){return xt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(Et(n,void 0,void 0,o=>{s=rr(t(o,To(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function DI(t){return t<=0?()=>Pr:xt((e,n)=>{let r=[];e.subscribe(Et(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function TI(t){return xt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const te="primary",Hl=Symbol("RouteTitle");class lne{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Eu(t){return new lne(t)}function dne(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Yr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!h2(t[i],e[i]))return!1;return!0}function h2(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function f2(t){return t.length>0?t[t.length-1]:null}function vs(t){return function tne(t){return!!t&&(t instanceof et||Ae(t.lift)&&Ae(t.subscribe))}(t)?t:wl(t)?Nt(Promise.resolve(t)):z(t)}const fne={exact:function m2(t,e,n){if(!bo(t.segments,e.segments)||!wg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!m2(t.children[r],e.children[r],n))return!1;return!0},subset:_2},p2={exact:function pne(t,e){return Yr(t,e)},subset:function gne(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>h2(t[n],e[n]))},ignored:()=>!0};function g2(t,e,n){return fne[n.paths](t.root,e.root,n.matrixParams)&&p2[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function _2(t,e,n){return y2(t,e,e.segments,n)}function y2(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!bo(i,n)||e.hasChildren()||!wg(i,n,r))}if(t.segments.length===n.length){if(!bo(t.segments,n)||!wg(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!_2(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(bo(t.segments,i)&&wg(t.segments,i,r)&&t.children[te])&&y2(t.children[te],e,s,r)}}function wg(t,e,n){return e.every((r,i)=>p2[n](t[i].parameters,r.parameters))}class Iu{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return yne.serialize(this)}}class De{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eg(this)}}class Gl{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Eu(this.parameters)),this._parameterMap}toString(){return E2(this)}}function bo(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let zl=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return new bI},providedIn:"root"}),t})();class bI{parse(e){const n=new Mne(e);return new Iu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Wl(e.root,!0)}`,r=function Ene(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ig(n)}=${Ig(i)}`).join("&"):`${Ig(n)}=${Ig(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function vne(t){return encodeURI(t)}(e.fragment)}`:""}`}}const yne=new bI;function Eg(t){return t.segments.map(e=>E2(e)).join("/")}function Wl(t,e){if(!t.hasChildren())return Eg(t);if(e){const n=t.children[te]?Wl(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${Wl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _ne(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===te?[Wl(t.children[te],!1)]:[`${i}:${Wl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[te]?`${Eg(t)}/${n[0]}`:`${Eg(t)}/(${n.join("//")})`}}function v2(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ig(t){return v2(t).replace(/%3B/gi,";")}function SI(t){return v2(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cg(t){return decodeURIComponent(t)}function w2(t){return Cg(t.replace(/\+/g,"%20"))}function E2(t){return`${SI(t.path)}${function wne(t){return Object.keys(t).map(e=>`;${SI(e)}=${SI(t[e])}`).join("")}(t.parameters)}`}const Ine=/^[^\/()?;#]+/;function AI(t){const e=t.match(Ine);return e?e[0]:""}const Cne=/^[^\/()?;=#]+/,Tne=/^[^=?&#]+/,Sne=/^[^&#]+/;class Mne{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new De(e,n)),r}parseSegment(){const e=AI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Gl(Cg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Dne(t){const e=t.match(Cne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=AI(this.remaining);i&&(r=i,this.capture(r))}e[Cg(n)]=Cg(r)}parseQueryParam(e){const n=function bne(t){const e=t.match(Tne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Ane(t){const e=t.match(Sne);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=w2(n),s=w2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=AI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[te]:new De([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}}function I2(t){return t.segments.length>0?new De([],{[te]:t}):t}function C2(t){const e={};for(const r of Object.keys(t.children)){const s=C2(t.children[r]);if(r===te&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function xne(t){if(1===t.numberOfChildren&&t.children[te]){const e=t.children[te];return new De(t.segments.concat(e.segments),e.children)}return t}(new De(t.segments,e))}function So(t){return t instanceof Iu}function D2(t){let e;const i=I2(function n(s){const o={};for(const u of s.children){const c=n(u);o[u.outlet]=c}const a=new De(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function T2(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return MI(i,i,i,n,r);const s=function Rne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new S2(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new S2(n,e,r)}(e);if(s.toRoot())return MI(i,i,new De([],{}),n,r);const o=function kne(t,e,n){if(t.isAbsolute)return new Tg(e,!0,0);if(!n)return new Tg(e,!1,NaN);if(null===n.parent)return new Tg(n,!0,0);const r=Dg(t.commands[0])?0:1;return function Pne(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new Tg(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?Kl(o.segmentGroup,o.index,s.commands):A2(o.segmentGroup,o.index,s.commands);return MI(i,o.segmentGroup,a,n,r)}function Dg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ql(t){return"object"==typeof t&&null!=t&&t.outlets}function MI(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=t===e?n:b2(t,e,n);const a=I2(C2(o));return new Iu(a,s,i)}function b2(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:b2(s,e,n)}),new De(t.segments,r)}class S2{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dg(r[0]))throw new b(4003,!1);const i=r.find(ql);if(i&&i!==f2(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Tg{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function A2(t,e,n){if(t||(t=new De([],{})),0===t.segments.length&&t.hasChildren())return Kl(t,e,n);const r=function Fne(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ql(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!x2(u,c,o))return s;r+=2}else{if(!x2(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new De(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new De(t.segments.slice(r.pathIndex),t.children),Kl(s,0,i)}return r.match&&0===i.length?new De(t.segments,{}):r.match&&!t.hasChildren()?xI(t,e,n):r.match?Kl(t,0,i):xI(t,e,n)}function Kl(t,e,n){if(0===n.length)return new De(t.segments,{});{const r=function One(t){return ql(t[0])?t[0].outlets:{[te]:t}}(n),i={};if(!r[te]&&t.children[te]&&1===t.numberOfChildren&&0===t.children[te].segments.length){const s=Kl(t.children[te],e,n);return new De(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=A2(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new De(t.segments,i)}}function xI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ql(s)){const u=Lne(s.outlets);return new De(r,u)}if(0===i&&Dg(n[0])){r.push(new Gl(t.segments[e].path,M2(n[0]))),i++;continue}const o=ql(s)?s.outlets[te]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Dg(a)?(r.push(new Gl(o,M2(a))),i+=2):(r.push(new Gl(o,{})),i++)}return new De(r,{})}function Lne(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=xI(new De([],{}),0,r))}),e}function M2(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function x2(t,e,n){return t==n.path&&Yr(e,n.parameters)}const Ql="imperative";class Xr{constructor(e,n){this.id=e,this.url=n}}class NI extends Xr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ao extends Xr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bg extends Xr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yl extends Xr{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class RI extends Xr{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vne extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Une extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bne extends Xr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ne extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jne extends Xr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hne{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gne{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zne{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wne{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qne{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kne{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N2{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xl,this.attachRef=null}}let Xl=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Qne,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class R2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=kI(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=kI(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=PI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return PI(e,this._root).map(n=>n.value)}}function kI(t,e){if(t===e.value)return e;for(const n of e.children){const r=kI(t,n);if(r)return r}return null}function PI(t,e){if(t===e.value)return[e];for(const n of e.children){const r=PI(t,n);if(r.length)return r.unshift(e),r}return[]}class Pi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Cu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class k2 extends R2{constructor(e,n){super(e),this.snapshot=n,OI(this,e)}toString(){return this.snapshot.toString()}}function P2(t,e){const n=function Yne(t,e){const o=new Sg([],{},{},"",{},te,e,null,{});return new F2("",new Pi(o,[]))}(0,e),r=new nr([new Gl("",{})]),i=new nr({}),s=new nr({}),o=new nr({}),a=new nr(""),u=new Du(r,i,o,a,s,te,e,n.root);return u.snapshot=n.root,new k2(new Pi(u,[]),n)}class Du{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(xe(c=>c[Hl]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>Eu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>Eu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function O2(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Xne(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Sg{get title(){return this.data?.[Hl]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class F2 extends R2{constructor(e,n){super(n),this.url=e,OI(this,n)}toString(){return L2(this._root)}}function OI(t,e){e.value._routerState=t,e.children.forEach(n=>OI(t,n))}function L2(t){const e=t.children.length>0?` { ${t.children.map(L2).join(", ")} } `:"";return`${t.value}${e}`}function FI(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yr(e.params,n.params)||t.paramsSubject.next(n.params),function hne(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),Yr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function LI(t,e){const n=Yr(t.params,e.params)&&function mne(t,e){return bo(t,e)&&t.every((n,r)=>Yr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||LI(t.parent,e.parent))}let Ag=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=V(Xl),this.location=V(Ir),this.changeDetector=V(Hp),this.environmentInjector=V(Ti),this.inputBinder=V(Mg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Jne(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=G({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sr]}),t})();class Jne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Du?this.route:e===Xl?this.childContexts:this.parent.get(e,n)}}const Mg=new F("");let V2=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=EI([r.queryParams,r.params,r.data]).pipe(Or(([s,o,a],u)=>(a={...s,...o,...a},0===u?z(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function TJ(t){const e=me(t);if(!e)return null;const n=new gl(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Jl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function ere(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Jl(t,r,i);return Jl(t,r)})}(t,e,n);return new Pi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Jl(t,a)),o}}const r=function tre(t){return new Du(new nr(t.url),new nr(t.params),new nr(t.queryParams),new nr(t.fragment),new nr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Jl(t,s));return new Pi(r,i)}}const VI="ngNavigationCancelingError";function U2(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=So(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=B2(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function B2(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[VI]=!0,r.cancellationCode=e,n&&(r.url=n),r}function $2(t){return j2(t)&&So(t.url)}function j2(t){return t&&t[VI]}let H2=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ao({type:t,selectors:[["ng-component"]],standalone:!0,features:[VO],decls:1,vars:0,template:function(n,r){1&n&&Wr(0,"router-outlet")},dependencies:[Ag],encapsulation:2}),t})();function UI(t){const e=t.children&&t.children.map(UI),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=H2),n}function br(t){return t.outlet||te}function Zl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ure{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),FI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Cu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Cu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Cu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Cu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Kne(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(FI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),FI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Zl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class G2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xg{constructor(e,n){this.component=e,this.route=n}}function cre(t,e,n){const r=t._root;return ed(r,e?e._root:null,n,[r.value])}function Tu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function r6(t){return null!==Df(t)}(t)?e.get(t):t:r}function ed(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Cu(e);return t.children.forEach(o=>{(function dre(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function hre(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!bo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!bo(t.url,e.url)||!Yr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!LI(t,e)||!Yr(t.queryParams,e.queryParams);default:return!LI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new G2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ed(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xg(a.outlet.component,o))}else o&&td(e,a,i),i.canActivateChecks.push(new G2(r)),ed(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>td(a,n.getContext(o),i)),i}function td(t,e,n){const r=Cu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{td(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new xg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function nd(t){return"function"==typeof t}function z2(t){return t instanceof yg||"EmptyError"===t?.name}const Ng=Symbol("INITIAL_VALUE");function bu(){return Or(t=>EI(t.map(e=>e.pipe(wu(1),function ine(...t){const e=Vc(t);return xt((n,r)=>{(e?II(t,n,e):II(t,n)).subscribe(r)})}(Ng)))).pipe(xe(e=>{for(const n of e)if(!0!==n){if(n===Ng)return Ng;if(!1===n||n instanceof Iu)return n}return!0}),ys(e=>e!==Ng),wu(1)))}function W2(t){return function o3(...t){return iN(t)}(un(e=>{if(So(e))throw U2(0,e)}),xe(e=>!0===e))}class Rg{constructor(e){this.segmentGroup=e||null}}class q2{constructor(e){this.urlTree=e}}function Su(t){return $l(new Rg(t))}function K2(t){return $l(new q2(t))}class Rre{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new b(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[te])return $l(new b(4e3,!1));i=i.children[te]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Iu(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new De(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const BI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kre(t,e,n,r,i){const s=$I(t,e,n);return s.matched?(r=function nre(t,e){return t.providers&&!t._injector&&(t._injector=qw(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function Mre(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?z(i.map(o=>{const a=Tu(o,t);return vs(function yre(t){return t&&nd(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(bu(),W2()):z(!0)}(r,e,n).pipe(xe(o=>!0===o?s:{...BI}))):z(s)}function $I(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...BI}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||dne)(n,t,e);if(!i)return{...BI};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Q2(t,e,n,r){return n.length>0&&function Fre(t,e,n){return n.some(r=>kg(t,e,r)&&br(r)!==te)}(t,n,r)?{segmentGroup:new De(e,Ore(r,new De(n,t.children))),slicedSegments:[]}:0===n.length&&function Lre(t,e,n){return n.some(r=>kg(t,e,r))}(t,n,r)?{segmentGroup:new De(t.segments,Pre(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function Pre(t,e,n,r,i){const s={};for(const o of r)if(kg(t,n,o)&&!i[br(o)]){const a=new De([],{});s[br(o)]=a}return{...i,...s}}function Ore(t,e){const n={};n[te]=e;for(const r of t)if(""===r.path&&br(r)!==te){const i=new De([],{});n[br(r)]=i}return n}function kg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class $re{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Rre(this.urlSerializer,this.urlTree)}noMatchError(e){return new b(4002,!1)}recognize(){const e=Q2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,te).pipe(To(n=>{if(n instanceof q2)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Rg?this.noMatchError(n):n}),xe(n=>{const r=new Sg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new Pi(r,n),s=new F2("",i),o=function Nne(t,e,n=null,r=null){return T2(D2(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,te).pipe(To(r=>{throw r instanceof Rg?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=O2(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Nt(i).pipe(jl(s=>{const o=r.children[s],a=function ore(t,e){const n=t.filter(r=>br(r)===e);return n.push(...t.filter(r=>br(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function ane(t,e){return xt(function one(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(Et(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),vg(null),function une(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ys((i,s)=>t(i,s,r)):ns,DI(1),n?vg(e):d2(()=>new yg))}(),Gt(s=>{if(null===s)return Su(r);const o=Y2(s);return function jre(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}(o),z(o)}))}processSegment(e,n,r,i,s,o){return Nt(n).pipe(jl(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(To(u=>{if(u instanceof Rg)return z(null);throw u}))),Do(a=>!!a),To(a=>{if(z2(a))return function Ure(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?z([]):Su(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function Vre(t,e,n,r){return!!(br(t)===r||r!==te&&kg(e,n,t))&&("**"===t.path||$I(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Su(i):Su(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?K2(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Gt(o=>{const a=new De(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=$I(n,i,s);if(!a)return Su(n);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?K2(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Gt(h=>this.processSegment(e,r,n,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?f2(i).parameters:{};a=z({snapshot:new Sg(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X2(r),br(r),r.component??r._loadedComponent??null,r,J2(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=kre(n,r,i,e).pipe(xe(({matched:u,consumedSegments:c,remainingSegments:l,parameters:d})=>u?{snapshot:new Sg(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,X2(r),br(r),r.component??r._loadedComponent??null,r,J2(r)),consumedSegments:c,remainingSegments:l}:null));return a.pipe(Or(u=>null===u?Su(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Or(({routes:c})=>{const l=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=Q2(n,h,f,c);if(0===g.length&&p.hasChildren())return this.processChildren(l,c,p).pipe(xe(w=>null===w?null:[new Pi(d,w)]));if(0===c.length&&0===g.length)return z([new Pi(d,[])]);const _=br(r)===s;return this.processSegment(l,c,p,g,_?te:s,!0).pipe(xe(w=>[new Pi(d,w)]))}))))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?z({routes:n._loadedRoutes,injector:n._loadedInjector}):function Are(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?z(!0):z(i.map(o=>{const a=Tu(o,t);return vs(function pre(t){return t&&nd(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(bu(),W2())}(e,n,r).pipe(Gt(i=>i?this.configLoader.loadChildren(e,n).pipe(un(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Nre(t){return $l(B2(!1,3))}())):z({routes:[],injector:e})}}function Hre(t){const e=t.value.routeConfig;return e&&""===e.path}function Y2(t){const e=[],n=new Set;for(const r of t){if(!Hre(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Y2(r.children);e.push(new Pi(r.value,i))}return e.filter(r=>!n.has(r))}function X2(t){return t.data||{}}function J2(t){return t.resolve||{}}function Z2(t){return"string"==typeof t.title||null===t.title}function jI(t){return Or(e=>{const n=t(e);return n?Nt(n).pipe(xe(()=>e)):z(e)})}const Au=new F("ROUTES");let HI=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(xF)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=vs(n.loadComponent()).pipe(xe(eU),un(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),TI(()=>{this.componentLoaders.delete(n)})),i=new l2(r,()=>new _i).pipe(CI());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(xe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c;return Array.isArray(a)?c=a:(u=a.create(n).injector,c=u.get(Au,[],re.Self|re.Optional).flat()),{routes:c.map(UI),injector:u}}),TI(()=>{this.childrenLoaders.delete(r)})),o=new l2(s,()=>new _i).pipe(CI());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return vs(n()).pipe(xe(eU),Gt(r=>r instanceof FO||Array.isArray(r)?z(r):Nt(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function eU(t){return function Yre(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Pg=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new _i,this.configLoader=V(HI),this.environmentInjector=V(Ti),this.urlSerializer=V(zl),this.rootContexts=V(Xl),this.inputBindingEnabled=null!==V(Mg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Gne(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Hne(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new nr({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ql,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ys(r=>0!==r.id),xe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Or(r=>{let i=!1,s=!1;return z(r).pipe(un(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Or(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const l="";return this.events.next(new Yl(o.id,n.serializeUrl(r.rawUrl),l,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Pr}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return tU(o.source)&&(n.browserUrlTree=o.extractedUrl),z(o).pipe(Or(l=>{const d=this.transitions?.getValue();return this.events.next(new NI(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?Pr:Promise.resolve(l)}),function Gre(t,e,n,r,i,s){return Gt(o=>function Bre(t,e,n,r,i,s,o="emptyOnly"){return new $re(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(xe(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),un(l=>{if(r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new Vne(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:l,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new NI(l,this.urlSerializer.serialize(d),h,f);this.events.next(g);const _=P2(0,this.rootComponentType).snapshot;return z(r={...o,targetSnapshot:_,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const l="";return this.events.next(new Yl(o.id,n.serializeUrl(r.extractedUrl),l,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Pr}}),un(o=>{const a=new Une(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),xe(o=>r={...o,guards:cre(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function wre(t,e){return Gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?z({...n,guardsResult:!0}):function Ere(t,e,n,r){return Nt(t).pipe(Gt(i=>function Sre(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const u=Zl(e)??i,c=Tu(a,u);return vs(function _re(t){return t&&nd(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Do())})).pipe(bu()):z(!0)}(i.component,i.route,n,e,r)),Do(i=>!0!==i,!0))}(o,r,i,t).pipe(Gt(a=>a&&function fre(t){return"boolean"==typeof t}(a)?function Ire(t,e,n,r){return Nt(e).pipe(jl(i=>II(function Dre(t,e){return null!==t&&e&&e(new zne(t)),z(!0)}(i.route.parent,r),function Cre(t,e){return null!==t&&e&&e(new qne(t)),z(!0)}(i.route,r),function bre(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function lre(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>c2(()=>z(o.guards.map(u=>{const c=Zl(o.node)??n,l=Tu(u,c);return vs(function mre(t){return t&&nd(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Do())})).pipe(bu())));return z(s).pipe(bu())}(t,i.path,n),function Tre(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(s=>c2(()=>{const o=Zl(e)??n,a=Tu(s,o);return vs(function gre(t){return t&&nd(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Do())}));return z(i).pipe(bu())}(t,i.route,n))),Do(i=>!0!==i,!0))}(r,s,t,e):z(a)),xe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),un(o=>{if(r.guardsResult=o.guardsResult,So(o.guardsResult))throw U2(0,o.guardsResult);const a=new Bne(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),ys(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),jI(o=>{if(o.guards.canActivateChecks.length)return z(o).pipe(un(a=>{const u=new $ne(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Or(a=>{let u=!1;return z(a).pipe(function zre(t,e){return Gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=0;return Nt(i).pipe(jl(o=>function Wre(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!Z2(i)&&(s[Hl]=i.title),function qre(t,e,n,r){const i=function Kre(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return z({});const s={};return Nt(i).pipe(Gt(o=>function Qre(t,e,n,r){const i=Zl(e)??r,s=Tu(t,i);return vs(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Do(),un(a=>{s[o]=a}))),DI(1),function cne(t){return xe(()=>t)}(s),To(o=>z2(o)?Pr:$l(o)))}(s,t,e,r).pipe(xe(o=>(t._resolvedData=o,t.data=O2(t,n).resolve,i&&Z2(i)&&(t.data[Hl]=i.title),null)))}(o.route,r,t,e)),un(()=>s++),DI(1),Gt(o=>s===i.length?z(n):Pr))})}(n.paramsInheritanceStrategy,this.environmentInjector),un({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),un(a=>{const u=new jne(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),jI(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(un(l=>{u.component=l}),xe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return EI(a(o.targetSnapshot.root)).pipe(vg(),wu(1))}),jI(()=>this.afterPreactivation()),xe(o=>{const a=function Zne(t,e,n){const r=Jl(t,e._root,n?n._root:void 0);return new k2(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),un(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n,r)=>xe(i=>(new ure(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),wu(1),un({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Ao(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),TI(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),To(o=>{if(s=!0,j2(o)){$2(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new bg(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),$2(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||tU(r.source)};n.scheduleNavigation(u,Ql,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new RI(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return Pr}))}))}cancelNavigationTransition(n,r,i){const s=new bg(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tU(t){return t!==Ql}let nU=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[Hl]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(Xre)},providedIn:"root"}),t})(),Xre=(()=>{class t extends nU{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(XL))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jre=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(eie)},providedIn:"root"}),t})();class Zre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let eie=(()=>{class t extends Zre{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Wt(t)))(r||t)}}(),t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Og=new F("",{providedIn:"root",factory:()=>({})});let tie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:function(){return V(nie)},providedIn:"root"}),t})(),nie=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var rd=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rd||{});function rU(t,e){t.events.pipe(ys(n=>n instanceof Ao||n instanceof bg||n instanceof RI||n instanceof Yl),xe(n=>n instanceof Ao||n instanceof Yl?rd.COMPLETE:n instanceof bg&&(0===n.code||1===n.code)?rd.REDIRECTING:rd.FAILED),ys(n=>n!==rd.REDIRECTING),wu(1)).subscribe(()=>{e()})}function rie(t){throw t}function iie(t,e,n){return e.parse("/")}const sie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=V(AF),this.isNgZoneEnabled=!1,this.options=V(Og,{optional:!0})||{},this.pendingTasks=V(MF),this.errorHandler=this.options.errorHandler||rie,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||iie,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=V(tie),this.routeReuseStrategy=V(Jre),this.titleStrategy=V(nU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=V(Au,{optional:!0})?.flat()??[],this.navigationTransitions=V(Pg),this.urlSerializer=V(zl),this.location=V(AE),this.componentInputBindingEnabled=!!V(Mg,{optional:!0}),this.isNgZoneEnabled=V(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Iu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=P2(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ql,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(UI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}null!==l&&(l=this.removeEmptyProps(l));try{d=D2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return T2(d,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=So(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ql,null,r)}navigate(n,r={skipLocationChange:!1}){return function aie(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new b(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...sie}:!1===r?{...oie}:r,So(n))return g2(this.currentUrlTree,n,i);const s=this.parseUrl(n);return g2(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h});const l=this.pendingTasks.add();return rU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class iU{}let lie=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ys(n=>n instanceof Ao),jl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=qw(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Nt(i).pipe(Da())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):z(null);const s=i.pipe(Gt(o=>null===o?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Nt([s,this.loader.loadComponent(r)]).pipe(Da()):s})}}return t.\u0275fac=function(n){return new(n||t)($(dr),$(xF),$(Ti),$(iU),$(HI))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zI=new F("");let sU=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof NI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ao?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Yl&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof N2&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new N2(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function IP(){throw new Error("invalid")}()},t.\u0275prov=j({token:t,factory:t.\u0275fac}),t})();function Oi(t,e){return{\u0275kind:t,\u0275providers:e}}function aU(){const t=V(yn);return e=>{const n=t.get(gu);if(e!==n.components[0])return;const r=t.get(dr),i=t.get(uU);1===t.get(WI)&&r.initialNavigation(),t.get(cU,null,re.Optional)?.setUpPreloading(),t.get(zI,null,re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const uU=new F("",{factory:()=>new _i}),WI=new F("",{providedIn:"root",factory:()=>1}),cU=new F("");function pie(t){return Oi(0,[{provide:cU,useExisting:lie},{provide:iU,useExisting:t}])}const lU=new F("ROUTER_FORROOT_GUARD"),mie=[AE,{provide:zl,useClass:bI},dr,Xl,{provide:Du,useFactory:function oU(t){return t.routerState.root},deps:[dr]},HI,[]];function _ie(){return new $F("Router",dr)}let Mo=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[mie,[],{provide:Au,multi:!0,useValue:n},{provide:lU,useFactory:Eie,deps:[[dr,new Ye,new Xf]]},{provide:Og,useValue:r||{}},r?.useHash?{provide:Eo,useClass:xJ}:{provide:Eo,useClass:gL},{provide:zI,useFactory:()=>{const t=V(XZ),e=V(Ce),n=V(Og),r=V(Pg),i=V(zl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new sU(i,r,t,e,n)}},r?.preloadingStrategy?pie(r.preloadingStrategy).\u0275providers:[],{provide:$F,multi:!0,useFactory:_ie},r?.initialNavigation?Iie(r):[],r?.bindToComponentInputs?Oi(8,[V2,{provide:Mg,useExisting:V2}]).\u0275providers:[],[{provide:dU,useFactory:aU},{provide:_E,multi:!0,useExisting:dU}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Au,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(lU,8))},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({}),t})();function Eie(t){return"guarded"}function Iie(t){return["disabled"===t.initialNavigation?Oi(3,[{provide:cE,multi:!0,useFactory:()=>{const e=V(dr);return()=>{e.setUpLocationChangeListener()}}},{provide:WI,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Oi(2,[{provide:WI,useValue:0},{provide:cE,multi:!0,deps:[yn],useFactory:e=>{const n=e.get(AJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(dr),s=e.get(uU);rU(i,()=>{r(!0)}),e.get(Pg).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const dU=new F("");let Die=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ao({type:t,selectors:[["app-auth"]],decls:7,vars:0,template:function(n,r){1&n&&(ct(0,"h2"),Kn(1,"Auth eader"),bt(),ct(2,"p"),Kn(3,"auth works!"),bt(),Wr(4,"router-outlet"),ct(5,"h2"),Kn(6,"Auth footer"),bt())},dependencies:[Ag]}),t})();function hU(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){hU(s,r,i,o,a,"next",u)}function a(u){hU(s,r,i,o,a,"throw",u)}o(void 0)})}}const x=function(t,e){if(!t)throw Mu(e)},Mu=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},fU=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Fg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fU(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new bie;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bie extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pU=function(t){const e=fU(t);return Fg.encodeByteArray(e,!0)},Lg=function(t){return pU(t).replace(/\./g,"")},Vg=function(t){try{return Fg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sie(t){return gU(void 0,t)}function gU(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Aie(n)||(t[n]=gU(t[n],e[n]));return t}function Aie(t){return"__proto__"!==t}const Ug=()=>{try{return function Mie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vg(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},mU=t=>{var e,n;return null===(n=null===(e=Ug())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},KI=t=>{const e=mU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_U=()=>{var t;return null===(t=Ug())||void 0===t?void 0:t.config},yU=t=>{var e;return null===(e=Ug())||void 0===e?void 0:e[`_${t}`]};class xu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function vU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lg(JSON.stringify({alg:"none",type:"JWT"})),Lg(JSON.stringify(o)),""].join(".")}function kt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function QI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function YI(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function wU(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function xo(){try{return"object"==typeof indexedDB}catch{return!1}}function id(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function XI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jr.prototype.create)}}class Jr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Fie(t,e){return t.replace(Lie,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new hr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Lie=/\{\$([^}]+)}/g;function sd(t){return JSON.parse(t)}function qt(t){return JSON.stringify(t)}const Bg=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=sd(Vg(s[0])||""),n=sd(Vg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Li(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Nu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function JI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $g(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function jg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(EU(s)&&EU(o)){if(!jg(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function EU(t){return null!==t&&"object"==typeof t}function od(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ad(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ud(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Bie{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,l,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),l=1518500249):(c=s^o^a,l=1859775393):d<60?(c=s&o|a&(s|o),l=2400959708):(c=s^o^a,l=3395469782);const h=(i<<5|i>>>27)+c+u+l+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class jie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Hie(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=ZI),void 0===i.error&&(i.error=ZI),void 0===i.complete&&(i.complete=ZI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZI(){}const Gg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},zie=1e3,Wie=2,qie=144e5,Kie=.5;function eC(t,e=zie,n=Wie){const r=e*Math.pow(n,t),i=Math.round(Kie*r*(Math.random()-.5)*2);return Math.min(qie,r+i)}function Yn(t){return t&&t._delegate?t._delegate:t}class Pt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const No="[DEFAULT]";class Yie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Jie(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:No})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=No){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=No){return this.instances.has(e)}getOptions(e=No){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===No?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=No){return this.component?this.component.multipleInstances?e:No:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Zie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const tC=[];var fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{});const IU={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},ese=fe.INFO,tse={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},nse=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=tse[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ro{constructor(e){this.name=e,this._logLevel=ese,this._logHandler=nse,this._userLogHandler=null,tC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?IU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const rse=(t,e)=>e.some(n=>t instanceof n);let CU,DU;const TU=new WeakMap,nC=new WeakMap,bU=new WeakMap,rC=new WeakMap,iC=new WeakMap;let sC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return nC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||bU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function lse(t){return"function"==typeof t?function cse(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sse(){return DU||(DU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(oC(this),e),ws(TU.get(this))}:function(...e){return ws(t.apply(oC(this),e))}:function(e,...n){const r=t.call(oC(this),e,...n);return bU.set(r,e.sort?e.sort():[e]),ws(r)}}(t):(t instanceof IDBTransaction&&function ase(t){if(nC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nC.set(t,e)}(t),rse(t,function ise(){return CU||(CU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,sC):t)}function ws(t){if(t instanceof IDBRequest)return function ose(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TU.set(n,t)}).catch(()=>{}),iC.set(e,t),e}(t);if(rC.has(t))return rC.get(t);const e=lse(t);return e!==t&&(rC.set(t,e),iC.set(e,t)),e}const oC=t=>iC.get(t),hse=["get","getKey","getAll","getAllKeys","count"],fse=["put","add","delete","clear"],aC=new Map;function SU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(aC.get(e))return aC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fse.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!hse.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return aC.set(e,s),s}!function use(t){sC=t(sC)}(t=>({...t,get:(e,n,r)=>SU(e,n)||t.get(e,n,r),has:(e,n)=>!!SU(e,n)||t.has(e,n)}));class pse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function gse(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const uC="@firebase/app",ko=new Ro("@firebase/app"),zg="[DEFAULT]",$se={[uC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Po=new Map,Wg=new Map;function jse(t,e){try{t.container.addComponent(e)}catch(n){ko.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kt(t){const e=t.name;if(Wg.has(e))return ko.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(const n of Po.values())jse(n,t);return!0}function Es(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Vi=new Jr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Gse{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}const Is="9.23.0";function MU(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:zg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=_U()),!n)throw Vi.create("no-options");const s=Po.get(i);if(s){if(jg(n,s.options)&&jg(r,s.config))return s;throw Vi.create("duplicate-app",{appName:i})}const o=new Zie(i);for(const u of Wg.values())o.addComponent(u);const a=new Gse(n,r,o);return Po.set(i,a),a}function cd(t=zg){const e=Po.get(t);if(!e&&t===zg&&_U())return MU();if(!e)throw Vi.create("no-app",{appName:t});return e}function xU(){return Array.from(Po.values())}function Me(t,e,n){var r;let i=null!==(r=$se[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ko.warn(a.join(" "))}Kt(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const zse="firebase-heartbeat-database",Wse=1,ld="firebase-heartbeat-store";let lC=null;function NU(){return lC||(lC=function dse(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ws(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ws(o.result),u.oldVersion,u.newVersion,ws(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(zse,Wse,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ld)}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),lC}function dC(){return(dC=m(function*(t){try{return yield(yield NU()).transaction(ld).objectStore(ld).get(kU(t))}catch(e){if(e instanceof hr)ko.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e?.message});ko.warn(n.message)}}})).apply(this,arguments)}function RU(t,e){return hC.apply(this,arguments)}function hC(){return(hC=m(function*(t,e){try{const r=(yield NU()).transaction(ld,"readwrite");yield r.objectStore(ld).put(e,kU(t)),yield r.done}catch(n){if(n instanceof hr)ko.warn(n.message);else{const r=Vi.create("idb-set",{originalErrorMessage:n?.message});ko.warn(r.message)}}})).apply(this,arguments)}function kU(t){return`${t.name}!${t.options.appId}`}class Yse{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Jse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=PU(),{heartbeatsToSend:r,unsentEntries:i}=function Xse(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),OU(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),OU(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Lg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function PU(){return(new Date).toISOString().substring(0,10)}class Jse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!xo()&&id().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function qse(t){return dC.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return RU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return RU(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function OU(t){return Lg(JSON.stringify({version:2,heartbeats:t})).length}!function Zse(t){Kt(new Pt("platform-logger",e=>new pse(e),"PRIVATE")),Kt(new Pt("heartbeat",e=>new Yse(e),"PRIVATE")),Me(uC,"0.9.13",t),Me(uC,"0.9.13","esm2017"),Me("fire-js","")}(""),Me("firebase","9.23.0","app");const noe=(t,e)=>e.some(n=>t instanceof n);let FU,LU;const VU=new WeakMap,fC=new WeakMap,UU=new WeakMap,pC=new WeakMap,gC=new WeakMap;let mC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return fC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||UU.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function coe(t){return"function"==typeof t?function uoe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ioe(){return LU||(LU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(_C(this),e),Cs(VU.get(this))}:function(...e){return Cs(t.apply(_C(this),e))}:function(e,...n){const r=t.call(_C(this),e,...n);return UU.set(r,e.sort?e.sort():[e]),Cs(r)}}(t):(t instanceof IDBTransaction&&function ooe(t){if(fC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fC.set(t,e)}(t),noe(t,function roe(){return FU||(FU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,mC):t)}function Cs(t){if(t instanceof IDBRequest)return function soe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VU.set(n,t)}).catch(()=>{}),gC.set(e,t),e}(t);if(pC.has(t))return pC.get(t);const e=coe(t);return e!==t&&(pC.set(t,e),gC.set(e,t)),e}const _C=t=>gC.get(t),doe=["get","getKey","getAll","getAllKeys","count"],hoe=["put","add","delete","clear"],yC=new Map;function BU(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(yC.get(e))return yC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hoe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!doe.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return yC.set(e,s),s}!function aoe(t){mC=t(mC)}(t=>({...t,get:(e,n,r)=>BU(e,n)||t.get(e,n,r),has:(e,n)=>!!BU(e,n)||t.has(e,n)}));const $U="@firebase/installations",vC="0.6.4",jU=1e4,HU=`w:${vC}`,GU="FIS_v2",foe="https://firebaseinstallations.googleapis.com/v1",poe=36e5,Ui=new Jr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function zU(t){return t instanceof hr&&t.code.includes("request-failed")}function wC({projectId:t}){return`${foe}/projects/${t}/installations`}function WU(t){return{token:t.token,requestStatus:2,expiresIn:yoe(t.expiresIn),creationTime:Date.now()}}function EC(t,e){return IC.apply(this,arguments)}function IC(){return(IC=m(function*(t,e){const r=(yield e.json()).error;return Ui.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function qU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CC(t){return DC.apply(this,arguments)}function DC(){return(DC=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function yoe(t){return Number(t.replace("s","000"))}function TC(){return(TC=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wC(t),i=qU(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:GU,appId:t.appId,sdkVersion:HU})},u=yield CC(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:WU(c.authToken)}}throw yield EC("Create Installation",u)})).apply(this,arguments)}function QU(t){return new Promise(e=>{setTimeout(e,t)})}const Ioe=/^[cdef][\w-]{21}$/,bC="";function Coe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Doe(t){return function Eoe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Ioe.test(n)?n:bC}catch{return bC}}function Ru(t){return`${t.appName}!${t.appId}`}const ku=new Map;function YU(t,e){const n=Ru(t);XU(n,e),function Soe(t,e){const n=function JU(){return!Oo&&"BroadcastChannel"in self&&(Oo=new BroadcastChannel("[Firebase] FID Change"),Oo.onmessage=t=>{XU(t.data.key,t.data.fid)}),Oo}();n&&n.postMessage({key:t,fid:e}),function ZU(){0===ku.size&&Oo&&(Oo.close(),Oo=null)}()}(n,e)}function XU(t,e){const n=ku.get(t);if(n)for(const r of n)r(e)}let Oo=null;const Aoe="firebase-installations-database",Moe=1,Fo="firebase-installations-store";let SC=null;function AC(){return SC||(SC=function loe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Cs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Cs(o.result),u.oldVersion,u.newVersion,Cs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Aoe,Moe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Fo)}})),SC}function qg(t,e){return MC.apply(this,arguments)}function MC(){return(MC=m(function*(t,e){const n=Ru(t),i=(yield AC()).transaction(Fo,"readwrite"),s=i.objectStore(Fo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&YU(t,e.fid),e})).apply(this,arguments)}function xC(t){return NC.apply(this,arguments)}function NC(){return(NC=m(function*(t){const e=Ru(t),r=(yield AC()).transaction(Fo,"readwrite");yield r.objectStore(Fo).delete(e),yield r.done})).apply(this,arguments)}function dd(t,e){return RC.apply(this,arguments)}function RC(){return(RC=m(function*(t,e){const n=Ru(t),i=(yield AC()).transaction(Fo,"readwrite"),s=i.objectStore(Fo),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&YU(t,a.fid),a})).apply(this,arguments)}function kC(t){return PC.apply(this,arguments)}function PC(){return PC=m(function*(t){let e;const n=yield dd(t.appConfig,r=>{const i=function xoe(t){return tB(t||{fid:Coe(),registrationStatus:0})}(r),s=function Noe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ui.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Roe(t,e){return OC.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:koe(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===bC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),PC.apply(this,arguments)}function OC(){return OC=m(function*(t,e){try{const n=yield function woe(t,e){return TC.apply(this,arguments)}(t,e);return qg(t.appConfig,n)}catch(n){throw zU(n)&&409===n.customData.serverCode?yield xC(t.appConfig):yield qg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),OC.apply(this,arguments)}function koe(t){return FC.apply(this,arguments)}function FC(){return(FC=m(function*(t){let e=yield eB(t.appConfig);for(;1===e.registrationStatus;)yield QU(100),e=yield eB(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield kC(t);return r||n}return e})).apply(this,arguments)}function eB(t){return dd(t,e=>{if(!e)throw Ui.create("installation-not-found");return tB(e)})}function tB(t){return function Poe(t){return 1===t.registrationStatus&&t.registrationTime+jU<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function LC(){return(LC=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Foe(t,{fid:e}){return`${wC(t)}/${e}/authTokens:generate`}(t,n),i=function KU(t,{refreshToken:e}){const n=qU(t);return n.append("Authorization",function voe(t){return`${GU} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:HU,appId:t.appId}})},u=yield CC(()=>fetch(r,a));if(u.ok)return WU(yield u.json());throw yield EC("Generate Auth Token",u)})).apply(this,arguments)}function VC(t){return UC.apply(this,arguments)}function UC(){return UC=m(function*(t,e=!1){let n;const r=yield dd(t.appConfig,s=>{if(!rB(s))throw Ui.create("not-registered");const o=s.authToken;if(!e&&function Uoe(t){return 2===t.requestStatus&&!function Boe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+poe}(t)}(o))return s;if(1===o.requestStatus)return n=function Loe(t,e){return BC.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ui.create("app-offline");const a=function $oe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Voe(t,e){return $C.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),UC.apply(this,arguments)}function BC(){return(BC=m(function*(t,e){let n=yield nB(t.appConfig);for(;1===n.authToken.requestStatus;)yield QU(100),n=yield nB(t.appConfig);const r=n.authToken;return 0===r.requestStatus?VC(t,e):r})).apply(this,arguments)}function nB(t){return dd(t,e=>{if(!rB(e))throw Ui.create("not-registered");return function joe(t){return 1===t.requestStatus&&t.requestTime+jU<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function $C(){return $C=m(function*(t,e){try{const n=yield function Ooe(t,e){return LC.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield qg(t.appConfig,r),n}catch(n){if(!zU(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield qg(t.appConfig,r)}else yield xC(t.appConfig);throw n}}),$C.apply(this,arguments)}function rB(t){return void 0!==t&&2===t.registrationStatus}function jC(){return(jC=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield kC(e);return r?r.catch(console.error):VC(e).catch(console.error),n.fid})).apply(this,arguments)}function HC(){return HC=m(function*(t,e=!1){const n=t;return yield function zoe(t){return GC.apply(this,arguments)}(n),(yield VC(n,e)).token}),HC.apply(this,arguments)}function GC(){return(GC=m(function*(t){const{registrationPromise:e}=yield kC(t);e&&(yield e)})).apply(this,arguments)}function qC(t){return Ui.create("missing-app-config-values",{valueName:t})}const iB="installations",Yoe=t=>{const e=t.getProvider("app").getImmediate(),n=function Koe(t){if(!t||!t.options)throw qC("App Configuration");if(!t.name)throw qC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Es(e,"heartbeat"),_delete:()=>Promise.resolve()}},Xoe=t=>{const n=Es(t.getProvider("app").getImmediate(),iB).getImmediate();return{getId:()=>function Hoe(t){return jC.apply(this,arguments)}(n),getToken:i=>function Goe(t){return HC.apply(this,arguments)}(n,i)}};(function Joe(){Kt(new Pt(iB,Yoe,"PUBLIC")),Kt(new Pt("installations-internal",Xoe,"PRIVATE"))})(),Me($U,vC),Me($U,vC,"esm2017");const KC="@firebase/remote-config",On=new Jr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cae{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function lae(t=navigator){return t.languages&&t.languages[0]||t.language}class dae{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:lae()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,y)=>{e.signal.addEventListener(()=>{const D=new Error("The operation was aborted.");D.name="AbortError",y(D)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let y="fetch-client-network";throw"AbortError"===w?.name&&(y="fetch-timeout"),On.create(y,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let w;try{w=yield h.json()}catch(y){throw On.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=w.entries,_=w.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw On.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class pae{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function hae(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function fae(t){if(!(t instanceof hr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+eC(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class _ae{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qg(t,e){const n=t.target.error||void 0;return On.create(e,{originalErrorMessage:n&&n?.message})}const Lo="app_namespace_store";class Eae{constructor(e,n,r,i=function wae(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Qg(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Lo,{keyPath:"compositeKey"})}}catch(n){e(On.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Lo],"readonly").objectStore(Lo),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Qg(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(On.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Lo],"readwrite").objectStore(Lo),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Qg(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(On.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Lo],"readwrite").objectStore(Lo),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Qg(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(On.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Iae{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Dae(){return ZC.apply(this,arguments)}function ZC(){return(ZC=m(function*(){if(!xo())return!1;try{return yield id()}catch{return!1}})).apply(this,arguments)}!function Cae(){Kt(new Pt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw On.create("registration-window");if(!xo())throw On.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw On.create("registration-project-id");if(!o)throw On.create("registration-api-key");if(!a)throw On.create("registration-app-id");const u=new Eae(a,r.name,n=n||"firebase"),c=new Iae(u),l=new Ro(KC);l.logLevel=fe.ERROR;const d=new dae(i,Is,n,s,o,a),h=new pae(d,u),f=new cae(h,u,c,l),p=new _ae(r,f,c,u,l);return function oae(t){const e=Yn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Me(KC,"0.4.4"),Me(KC,"0.4.4","esm2017")}();const Tae=(t,e)=>e.some(n=>t instanceof n);let uB,cB;const lB=new WeakMap,eD=new WeakMap,dB=new WeakMap,tD=new WeakMap,nD=new WeakMap;let rD={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return eD.get(t);if("objectStoreNames"===e)return t.objectStoreNames||dB.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Rae(t){return"function"==typeof t?function Nae(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Sae(){return cB||(cB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(iD(this),e),Bi(lB.get(this))}:function(...e){return Bi(t.apply(iD(this),e))}:function(e,...n){const r=t.call(iD(this),e,...n);return dB.set(r,e.sort?e.sort():[e]),Bi(r)}}(t):(t instanceof IDBTransaction&&function Mae(t){if(eD.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});eD.set(t,e)}(t),Tae(t,function bae(){return uB||(uB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,rD):t)}function Bi(t){if(t instanceof IDBRequest)return function Aae(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lB.set(n,t)}).catch(()=>{}),nD.set(e,t),e}(t);if(tD.has(t))return tD.get(t);const e=Rae(t);return e!==t&&(tD.set(t,e),nD.set(e,t)),e}const iD=t=>nD.get(t);function hB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bi(o.result),u.oldVersion,u.newVersion,Bi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function sD(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Bi(n).then(()=>{})}const kae=["get","getKey","getAll","getAllKeys","count"],Pae=["put","add","delete","clear"],oD=new Map;function fB(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(oD.get(e))return oD.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!kae.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return oD.set(e,s),s}!function xae(t){rD=t(rD)}(t=>({...t,get:(e,n,r)=>fB(e,n)||t.get(e,n,r),has:(e,n)=>!!fB(e,n)||t.has(e,n)}));const Oae="/firebase-messaging-sw.js",Fae="/firebase-cloud-messaging-push-scope",pB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lae="https://fcmregistrations.googleapis.com/v1",gB="google.c.a.c_id",Vae="google.c.a.c_l",Uae="google.c.a.ts";var Yg=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Yg||{});function $i(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jae(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const aD="fcm_token_details_db",Hae=5,mB="fcm_token_object_Store";function uD(){return uD=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(aD))return null;let e=null;return(yield hB(aD,Hae,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(mB))return;const c=a.objectStore(mB),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:$i(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:$i(d.auth),p256dh:$i(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:$i(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:$i(d.auth),p256dh:$i(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:$i(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield sD(aD),yield sD("fcm_vapid_details_db"),yield sD("undefined"),function zae(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),uD.apply(this,arguments)}const Wae="firebase-messaging-database",qae=1,Vo="firebase-messaging-store";let cD=null;function lD(){return cD||(cD=hB(Wae,qae,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Vo)}})),cD}function _B(t){return dD.apply(this,arguments)}function dD(){return dD=m(function*(t){const e=gD(t),r=yield(yield lD()).transaction(Vo).objectStore(Vo).get(e);if(r)return r;{const i=yield function Gae(t){return uD.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield hD(t,i),i}}),dD.apply(this,arguments)}function hD(t,e){return fD.apply(this,arguments)}function fD(){return(fD=m(function*(t,e){const n=gD(t),i=(yield lD()).transaction(Vo,"readwrite");return yield i.objectStore(Vo).put(e,n),yield i.done,e})).apply(this,arguments)}function pD(){return(pD=m(function*(t){const e=gD(t),r=(yield lD()).transaction(Vo,"readwrite");yield r.objectStore(Vo).delete(e),yield r.done})).apply(this,arguments)}function gD({appConfig:t}){return t.appId}const Qt=new Jr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yae(t,e){return mD.apply(this,arguments)}function mD(){return(mD=m(function*(t,e){const n=yield wD(t),r=vB(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(vD(t.appConfig),i)).json()}catch(o){throw Qt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Qt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Qt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function _D(){return(_D=m(function*(t,e){const n=yield wD(t),r=vB(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${vD(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Qt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Qt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Qt.create("token-update-no-token");return s.token})).apply(this,arguments)}function yB(t,e){return yD.apply(this,arguments)}function yD(){return(yD=m(function*(t,e){const r={method:"DELETE",headers:yield wD(t)};try{const s=yield(yield fetch(`${vD(t.appConfig)}/${e}`,r)).json();if(s.error)throw Qt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function vD({projectId:t}){return`${Lae}/projects/${t}/registrations`}function wD(t){return ED.apply(this,arguments)}function ED(){return(ED=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function vB({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==pB&&(i.web.applicationPubKey=r),i}const Jae=6048e5;function ID(){return ID=m(function*(t){const e=yield function tue(t,e){return bD.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:$i(e.getKey("auth")),p256dh:$i(e.getKey("p256dh"))},r=yield _B(t.firebaseDependencies);if(r){if(function nue(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Jae?function eue(t,e){return DD.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield yB(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return EB(t.firebaseDependencies,n)}return EB(t.firebaseDependencies,n)}),ID.apply(this,arguments)}function CD(){return CD=m(function*(t){const e=yield _B(t.firebaseDependencies);e&&(yield yB(t.firebaseDependencies,e.token),yield function Kae(t){return pD.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),CD.apply(this,arguments)}function DD(){return DD=m(function*(t,e){try{const n=yield function Xae(t,e){return _D.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield hD(t.firebaseDependencies,r),n}catch(n){throw yield function wB(t){return CD.apply(this,arguments)}(t),n}}),DD.apply(this,arguments)}function EB(t,e){return TD.apply(this,arguments)}function TD(){return(TD=m(function*(t,e){const r={token:yield Yae(t,e),createTime:Date.now(),subscriptionOptions:e};return yield hD(t,r),r.token})).apply(this,arguments)}function bD(){return(bD=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jae(e)})})).apply(this,arguments)}function IB(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function rue(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function iue(t,e){e.data&&(t.data=e.data)}(e,t),function sue(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function CB(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function SD(t){return Qt.create("missing-app-config-values",{valueName:t})}CB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),CB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uue{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function aue(t){if(!t||!t.options)throw SD("App Configuration Object");if(!t.name)throw SD("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw SD(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function AD(){return(AD=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Oae,{scope:Fae}),t.swRegistration.update().catch(()=>{})}catch(e){throw Qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function MD(){return(MD=m(function*(t,e){if(!e&&!t.swRegistration&&(yield function DB(t){return AD.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Qt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function xD(){return(xD=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=pB)})).apply(this,arguments)}function ND(){return ND=m(function*(t,e){if(!navigator)throw Qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qt.create("permission-blocked");return yield function lue(t,e){return xD.apply(this,arguments)}(t,e?.vapidKey),yield function cue(t,e){return MD.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function Zae(t){return ID.apply(this,arguments)}(t)}),ND.apply(this,arguments)}function RD(){return(RD=m(function*(t,e,n){const r=function hue(t){switch(t){case Yg.NOTIFICATION_CLICKED:return"notification_open";case Yg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[gB],message_name:n[Vae],message_time:n[Uae],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function kD(){return kD=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Yg.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(IB(n)):t.onMessageHandler.next(IB(n)));const r=n.data;(function oue(t){return"object"==typeof t&&!!t&&gB in t})(r)&&"1"===r["google.c.a.e"]&&(yield function due(t,e,n){return RD.apply(this,arguments)}(t,n.messageType,r))}),kD.apply(this,arguments)}const bB="@firebase/messaging",pue=t=>{const e=new uue(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function fue(t,e){return kD.apply(this,arguments)}(e,n)),e},gue=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function TB(t,e){return ND.apply(this,arguments)}(e,r)}};function AB(){return PD.apply(this,arguments)}function PD(){return(PD=m(function*(){try{yield id()}catch{return!1}return typeof window<"u"&&xo()&&XI()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mue(){Kt(new Pt("messaging",pue,"PUBLIC")),Kt(new Pt("messaging-internal",gue,"PRIVATE")),Me(bB,"0.12.4"),Me(bB,"0.12.4","esm2017")}();const Xg="analytics",vue="firebase_id",wue="origin",Eue=6e4,Iue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",LD="https://www.googletagmanager.com/gtag/js",Ot=new Ro("@firebase/analytics"),Cn=new Jr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Due(t){if(!t.startsWith(LD)){const e=Cn.create("invalid-gtag-resource",{gtagURL:t});return Ot.warn(e.message),""}return t}function MB(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function VD(){return(VD=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield MB(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Ot.error(a)}t("config",i,s)})).apply(this,arguments)}function UD(){return(UD=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield MB(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Ot.error(s)}})).apply(this,arguments)}const kue=30,xB=new class Oue{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Fue(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function BD(){return(BD=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Fue(r)},s=Iue.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function $D(){return($D=m(function*(t,e=xB,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Cn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Cn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new $ue;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:Eue),NB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function NB(t,e,n){return jD.apply(this,arguments)}function jD(){return jD=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xB){var s;const{appId:o,measurementId:a}=t;try{yield function Uue(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return Ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function Lue(t){return BD.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function Bue(t){if(!(t instanceof hr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return Ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?eC(n,i.intervalMillis,kue):eC(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ot.debug(`Calling attemptFetch again in ${l} millis`),NB(t,d,r,i)}}),jD.apply(this,arguments)}class $ue{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let HD,YD;function GD(){return(GD=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function XD(){return(XD=m(function*(){if(!xo())return Ot.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield id()}catch(t){return Ot.warn(Cn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function JD(){return JD=m(function*(t,e,n,r,i,s,o){var a;const u=function Vue(t){return $D.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Ot.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Ot.error(f)),e.push(u);const c=function Kue(){return XD.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Rue(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(LD)&&n.src.includes(t))return n;return null})(s)||function bue(t,e){const n=function Tue(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Due}),r=document.createElement("script"),i=`${LD}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),YD&&(i("consent","default",YD),function RB(t){YD=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[wue]="firebase",h.update=!0,null!=d&&(h[vue]=d),i("config",l.measurementId,h),HD&&(i("set",HD),function kB(t){HD=t}(void 0)),l.measurementId}),JD.apply(this,arguments)}class Yue{constructor(e){this.app=e}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},PB=[];const OB={};let LB,ei,Jg="dataLayer",ZD=!1;function Jue(t,e,n){!function Xue(){const t=[];if(YI()&&t.push("This is a browser extension environment."),XI()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Cn.create("invalid-analytics-context",{errorInfo:e});Ot.warn(n.message)}}();const r=t.options.appId;if(!r)throw Cn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Cn.create("no-api-key");Ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zr[r])throw Cn.create("already-exists",{id:r});if(!ZD){!function Sue(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Jg);const{wrappedGtag:s,gtagCore:o}=function Nue(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function xue(t,e,n,r){function s(){return s=m(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function Mue(t,e,n,r,i){return UD.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function Aue(t,e,n,r,i,s){return VD.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){Ot.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Zr,PB,OB,Jg,"gtag");ei=s,LB=o,ZD=!0}return Zr[r]=function Que(t,e,n,r,i,s,o){return JD.apply(this,arguments)}(t,PB,OB,e,LB,Jg,n),new Yue(t)}function ece(){return eT.apply(this,arguments)}function eT(){return(eT=m(function*(){if(YI()||!XI()||!xo())return!1;try{return yield id()}catch{return!1}})).apply(this,arguments)}const VB="@firebase/analytics";!function nce(){Kt(new Pt(Xg,(e,{options:n})=>Jue(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Kt(new Pt("analytics-internal",function t(e){try{const n=e.getProvider(Xg).getImmediate();return{logEvent:(r,i,s)=>function tce(t,e,n,r){t=Yn(t),function jue(t,e,n,r,i){return GD.apply(this,arguments)}(ei,Zr[t.app.options.appId],e,n,r).catch(i=>Ot.error(i))}(n,r,i,s)}}catch(n){throw Cn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Me(VB,"0.10.0"),Me(VB,"0.10.0","esm2017")}();class rce extends Bn{constructor(e,n){super()}schedule(e,n=0){return this}}const Zg={setInterval(t,e,...n){const{delegate:r}=Zg;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Zg;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class BB extends rce{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Zg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Zg.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ca(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const $B={now:()=>($B.delegate||Date).now(),delegate:void 0};class hd{constructor(e,n=hd.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}hd.now=$B.now;class jB extends hd{constructor(e,n=hd.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const oce=new class sce extends jB{}(class ice extends BB{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),ace=new jB(BB),Pu=new Xa("7.6.1"),nT="__angularfire_symbol__analyticsIsSupportedValue",rT="__angularfire_symbol__analyticsIsSupported",iT="__angularfire_symbol__remoteConfigIsSupportedValue",sT="__angularfire_symbol__remoteConfigIsSupported",oT="__angularfire_symbol__messagingIsSupportedValue",aT="__angularfire_symbol__messagingIsSupported";function fd(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[rT]||(globalThis[rT]=ece().then(t=>globalThis[nT]=t).catch(()=>globalThis[nT]=!1)),globalThis[aT]||(globalThis[aT]=AB().then(t=>globalThis[oT]=t).catch(()=>globalThis[oT]=!1)),globalThis[sT]||(globalThis[sT]=Dae().then(t=>globalThis[iT]=t).catch(()=>globalThis[iT]=!1));const pd=(t,e)=>{const n=e?[e]:xU(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ou(){}class HB{constructor(e,n=oce){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class uce{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ou,{},Ou,Ou)),n.pipe(un({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gd=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new HB(Zone.current)),this.insideAngular=n.run(()=>new HB(Zone.current,ace)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Ce))},t.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Uo(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Bo(t){return Uo().ngZone.run(()=>t())}function lce(t){return Uo(),function dce(t){return function(n){return(n=n.lift(new uce(t.ngZone))).pipe(wf(t.outsideAngular),vf(t.insideAngular))}}(Uo())(t)}const hce=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Bo(()=>t.apply(void 0,r))},$o=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ou,{},Ou,Ou)))),r[s]=hce(r[s],n));const i=function cce(t){return Uo().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof et){const s=Uo();return i.pipe(wf(s.outsideAngular),vf(s.insideAngular))}return Bo(()=>i)}return i instanceof et?i.pipe(lce):i instanceof Promise?Bo(()=>new Promise((s,o)=>i.then(a=>Bo(()=>s(a)),a=>Bo(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Bo(()=>i)};class Ds{constructor(e){return e}}class md{constructor(){return xU()}}const cT=new F("angularfire2._apps"),pce={provide:Ds,useFactory:function fce(t){return t&&1===t.length?t[0]:new Ds(cd())},deps:[[new Ye,cT]]},gce={provide:md,deps:[[new Ye,cT]]};function mce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ds(r)}}let _ce=(()=>{class t{constructor(n){Me("angularfire",Pu.full,"core"),Me("angularfire",Pu.full,"app"),Me("angular",iP.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(ls))},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({providers:[pce,gce]}),t})();function yce(t,...e){return{ngModule:_ce,providers:[{provide:cT,useFactory:mce(t),multi:!0,deps:[Ce,yn,gd,...e]}]}}const vce=$o(MU,!0),lT=new Map,GB={activated:!1,tokenObservers:[]},wce={initialized:!1,enabled:!1};function nt(t){return lT.get(t)||Object.assign({},GB)}function em(){return wce}const dT="https://content-firebaseappcheck.googleapis.com/v1",Dce="exchangeDebugToken",zB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class bce{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new xu,yield function Sce(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new xu,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Yt=new Jr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hT(t){if(!nt(t).activated)throw Yt.create("use-before-activation",{appName:t.name})}function rm(t,e){return pT.apply(this,arguments)}function pT(){return(pT=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw Yt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw Yt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw Yt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Yt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function WB(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${dT}/projects/${n}/apps/${r}:${Dce}?key=${i}`,body:{debug_token:e}}}const Nce="firebase-app-check-database",Rce=1,_d="firebase-app-check-store";let im=null;function gT(){return(gT=m(function*(t,e){const r=(yield function KB(){return im||(im=new Promise((t,e)=>{try{const n=indexedDB.open(Nce,Rce);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Yt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_d,{keyPath:"compositeKey"})}}catch(n){e(Yt.create("storage-open",{originalErrorMessage:n?.message}))}}),im)}()).transaction(_d,"readwrite"),s=r.objectStore(_d).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(Yt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const yd=new Ro("@firebase/app-check");function yT(t,e){return xo()?function Pce(t,e){return function QB(t,e){return gT.apply(this,arguments)}(function XB(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{yd.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function wT(){return em().enabled}function ET(){return IT.apply(this,arguments)}function IT(){return(IT=m(function*(){const t=em();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Bce={error:"UNKNOWN_ERROR"};function $ce(t){return Fg.encodeString(JSON.stringify(t),!1)}function sm(t){return CT.apply(this,arguments)}function CT(){return(CT=m(function*(t,e=!1){const n=t.app;hT(n);const r=nt(n);let s,i=r.token;if(i&&!Fu(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(Fu(u)?i=u:yield yT(n,void 0))}if(!e&&i&&Fu(i))return{token:i.token};let a,o=!1;if(wT()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rm(WB(n,yield ET()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield yT(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield nt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?yd.warn(u.message):yd.error(u),s=u}return i?s?a=Fu(i)?{token:i.token,internalError:s}:t$(s):(a={token:i.token},r.token=i,yield yT(n,i)):a=t$(s),o&&function e$(t,e){const n=nt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function JB(t){return DT.apply(this,arguments)}function DT(){return(DT=m(function*(t){const e=t.app;hT(e);const{provider:n}=nt(e);if(wT()){const r=yield ET(),{token:i}=yield rm(WB(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function bT(t,e){const n=nt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function ZB(t){const{app:e}=t,n=nt(e);let r=n.tokenRefresher;r||(r=function jce(t){const{app:e}=t;return new bce(m(function*(){let r;if(r=nt(e).token?yield sm(t,!0):yield sm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=nt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},zB.RETRIAL_MIN_WAIT,zB.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Fu(t){return t.expireTimeMillis-Date.now()>0}function t$(t){return{token:$ce(Bce),error:t}}class Hce{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=nt(this.app);for(const n of e)bT(this.app,n.next);return Promise.resolve()}}const c$="app-check-internal";!function rle(){Kt(new Pt("app-check",t=>function Gce(t,e){return new Hce(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(c$).initialize()})),Kt(new Pt(c$,t=>function zce(t){return{getToken:e=>sm(t,e),getLimitedUseToken:()=>JB(t),addTokenListener:e=>function TT(t,e,n,r){const{app:i}=t,s=nt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Fu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),ZB(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ZB(t))}(t,"INTERNAL",e),removeTokenListener:e=>bT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Me("@firebase/app-check","0.8.0")}();class vd{constructor(){return pd("app-check")}}typeof window<"u"&&window;const ule=function d$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},h$=new Jr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),am=new Ro("@firebase/auth");function um(t,...e){am.logLevel<=fe.ERROR&&am.error(`Auth (${Is}): ${t}`,...e)}function Fn(t,...e){throw NT(t,...e)}function ti(t,...e){return NT(t,...e)}function NT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return h$.create(t,...e)}function A(t,e,...n){if(!t)throw NT(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw um(e),new Error(e)}function Ts(t,e){t||ni(e)}function wd(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function p$(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Ed{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=QI()||wU()}get(){return function lle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function RT(){return"http:"===p$()||"https:"===p$()}()||YI()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kT(t,e){Ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class g${static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hle={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fle=new Ed(3e4,6e4);function Xe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function rt(t,e,n,r){return PT.apply(this,arguments)}function PT(){return(PT=m(function*(t,e,n,r,i={}){return m$(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=od(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),g$.fetch()(_$(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function m$(t,e,n){return OT.apply(this,arguments)}function OT(){return(OT=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hle),e);try{const i=new ple(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Id(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Id(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Id(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Id(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function f$(t,e,n){const r=Object.assign(Object.assign({},ule()),{[e]:n});return new Jr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);Fn(t,l)}}catch(i){if(i instanceof hr)throw i;Fn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function ji(t,e,n,r){return FT.apply(this,arguments)}function FT(){return(FT=m(function*(t,e,n,r,i={}){const s=yield rt(t,e,n,r,i);return"mfaPendingCredential"in s&&Fn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function _$(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?kT(t.config,i):`${t.config.apiScheme}://${i}`}class ple{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ti(this.auth,"network-request-failed")),fle.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Id(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ti(t,e,r);return i.customData._tokenResponse=n,i}function LT(){return(LT=m(function*(t,e){return rt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function UT(){return(UT=m(function*(t,e){return rt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Cd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function BT(){return(BT=m(function*(t,e=!1){const n=Yn(t),r=yield n.getIdToken(e),i=cm(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Cd($T(i.auth_time)),issuedAtTime:Cd($T(i.iat)),expirationTime:Cd($T(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function $T(t){return 1e3*Number(t)}function cm(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return um("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vg(n);return i?JSON.parse(i):(um("Failed to decode base64 JWT payload"),null)}catch(i){return um("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Hi(t,e){return jT.apply(this,arguments)}function jT(){return(jT=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof hr&&function wle({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Ele{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class y${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dd(t){return HT.apply(this,arguments)}function HT(){return HT=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Hi(t,function _le(t,e){return UT.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Dle(t){return t.map(e=>{var{providerId:n}=e,r=Oy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Cle(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new y$(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),HT.apply(this,arguments)}function GT(){return(GT=m(function*(t){const e=Yn(t);yield Dd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function zT(){return(zT=m(function*(t,e){const n=yield m$(t,{},m(function*(){const r=od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=_$(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",g$.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Td{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function vle(t){const e=cm(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Tle(t,e){return zT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Td;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Td,this.toJSON())}_performRefresh(){return ni("not implemented")}}function bs(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class jo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ele(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new y$(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield Hi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function yle(t){return BT.apply(this,arguments)}(this,e)}reload(){return function Ile(t){return GT.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Dd(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield Hi(e,function gle(t,e){return LT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:D,emailVerified:P,isAnonymous:L,providerData:K,stsTokenManager:ot}=n;A(D&&ot,e,"internal-error");const kr=Td.fromJSON(this.name,ot);A("string"==typeof D,e,"internal-error"),bs(d,e.name),bs(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof L,e,"internal-error"),bs(f,e.name),bs(p,e.name),bs(g,e.name),bs(_,e.name),bs(w,e.name),bs(y,e.name);const ro=new jo({uid:D,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:kr,createdAt:w,lastLoginAt:y});return K&&Array.isArray(K)&&(ro.providerData=K.map(YEe=>Object.assign({},YEe))),_&&(ro._redirectEventId=_),ro}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Td;i.updateFromServerResponse(n);const s=new jo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Dd(s),s})()}}const v$=new Map;function Gi(t){Ts(t instanceof Function,"Expected a class definition");let e=v$.get(t);return e?(Ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v$.set(t,e),e)}const w$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function lm(t,e,n){return`firebase:${t}:${e}:${n}`}class Vu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lm(this.userKey,i.apiKey,s),this.fullPersistenceKey=lm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?jo._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new Vu(Gi(w$),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Gi(w$);const o=lm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=jo._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Vu(s,e,r)):new Vu(s,e,r)})()}}function E$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b$(e))return"Blackberry";if(S$(e))return"Webos";if(WT(e))return"Safari";if((e.includes("chrome/")||C$(e))&&!e.includes("edge/"))return"Chrome";if(T$(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function I$(t=kt()){return/firefox\//i.test(t)}function WT(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C$(t=kt()){return/crios\//i.test(t)}function D$(t=kt()){return/iemobile/i.test(t)}function T$(t=kt()){return/android/i.test(t)}function b$(t=kt()){return/blackberry/i.test(t)}function S$(t=kt()){return/webos/i.test(t)}function dm(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A$(t=kt()){return dm(t)||T$(t)||S$(t)||b$(t)||/windows phone/i.test(t)||D$(t)}function M$(t,e=[]){let n;switch(t){case"Browser":n=E$(kt());break;case"Worker":n=`${E$(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Is}/${r}`}function x$(t,e){return KT.apply(this,arguments)}function KT(){return(KT=m(function*(t,e){return rt(t,"GET","/v2/recaptchaConfig",Xe(t,e))})).apply(this,arguments)}function R$(t){return void 0!==t&&void 0!==t.enterprise}class k${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function QT(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ti("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function xle(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function P$(t){return`__${t}${Math.floor(1e6*Math.random())}`}class O${constructor(e){this.type="recaptcha-enterprise",this.auth=Ft(e)}verify(e="verify",n=!1){var r=this;return m(function*(){function s(){return s=m(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=m(function*(c,l){x$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new k$(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;R$(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&R$(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));QT("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}function Ss(t,e,n){return YT.apply(this,arguments)}function YT(){return(YT=m(function*(t,e,n,r=!1){const i=new O$(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}class Ple{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Ole{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F$(this),this.idTokenSubscription=new F$(this),this.beforeStateQueue=new Ple(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Gi(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Vu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield Dd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function dle(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Yn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(Gi(e))}))}initializeRecaptchaConfig(){var e=this;return m(function*(){const n=yield x$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new k$(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new O$(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&Gi(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Vu.create(n,[Gi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return m(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function cle(t,...e){am.logLevel<=fe.WARN&&am.warn(`Auth (${Is}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ft(t){return Yn(t)}class F${constructor(e){this.auth=e,this.observer=null,this.addObserver=function $ie(t,e){const n=new jie(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function L$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V$(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class U${constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}function $$(t,e){return JT.apply(this,arguments)}function JT(){return(JT=m(function*(t,e){return rt(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function eb(t,e){return tb.apply(this,arguments)}function tb(){return(tb=m(function*(t,e){return ji(t,"POST","/v1/accounts:signInWithPassword",Xe(t,e))})).apply(this,arguments)}function cb(){return(cb=m(function*(t,e){return ji(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))})).apply(this,arguments)}function lb(){return(lb=m(function*(t,e){return ji(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))})).apply(this,arguments)}class bd extends U${constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new bd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return m(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Ss(e,i,"signInWithPassword");return eb(e,s)}return eb(e,i).catch(function(){var s=m(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Ss(e,i,"signInWithPassword");return eb(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function Gle(t,e){return cb.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Fn(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return m(function*(){switch(r.signInMethod){case"password":return $$(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function zle(t,e){return lb.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Fn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function zi(t,e){return db.apply(this,arguments)}function db(){return(db=m(function*(t,e){return ji(t,"POST","/v1/accounts:signInWithIdp",Xe(t,e))})).apply(this,arguments)}class Md{constructor(e){var n,r,i,s,o,a;const u=ad(ud(e)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function Jle(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);A(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Zle(t){const e=ad(ud(t)).link,n=e?ad(ud(e)).deep_link_id:null,r=ad(ud(t)).deep_link_id;return(r?ad(ud(r)).link:null)||r||n||e||t}(e);try{return new Md(n)}catch{return null}}}let j$=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return bd._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=Md.parseLink(r);return A(i,"argument-error"),bd._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class As{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ede extends As{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function pm(t,e){return _b.apply(this,arguments)}function _b(){return(_b=m(function*(t,e){return ji(t,"POST","/v1/accounts:signUp",Xe(t,e))})).apply(this,arguments)}class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(function*(){const s=yield jo._fromIdTokenResponse(e,r,i),o=H$(r);return new fr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return m(function*(){yield e._updateTokensIfNecessary(r,!0);const i=H$(r);return new fr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function H$(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gm extends hr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gm.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gm(e,n,r,i)}}function G$(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?gm._fromErrorAndOperation(t,s,e,r):s})}function Eb(){return(Eb=m(function*(t,e,n=!1){const r=yield Hi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fr._forOperation(t,"link",r)})).apply(this,arguments)}function Cb(){return(Cb=m(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Hi(t,G$(r,i,e,t),n);A(s.idToken,r,"internal-error");const o=cm(s.idToken);A(o,r,"internal-error");const{sub:a}=o;return A(t.uid===a,r,"user-mismatch"),fr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Fn(r,"user-mismatch"),s}})).apply(this,arguments)}function q$(t,e){return Db.apply(this,arguments)}function Db(){return(Db=m(function*(t,e,n=!1){const r="signIn",i=yield G$(t,r,e),s=yield fr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function bb(){return(bb=m(function*(t,e){return q$(Ft(t),e)})).apply(this,arguments)}function ade(t,e,n){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(t,e,n){var r;const i=Ft(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const c=yield Ss(i,s,"signUpPassword");o=pm(i,c)}else o=pm(i,s).catch(function(){var c=m(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Ss(i,s,"signUpPassword");return pm(i,d)}return Promise.reject(l)});return function(l){return c.apply(this,arguments)}}());const a=yield o.catch(c=>Promise.reject(c)),u=yield fr._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(u.user),u}),Ub.apply(this,arguments)}function ude(t,e,n){return function Tb(t,e){return bb.apply(this,arguments)}(Yn(t),j$.credential(e,n))}const _m="__sak";class Q${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Tde=(()=>{class t extends Q${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ide(){const t=kt();return WT(t)||dm(t)}()&&function Ale(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=A$(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Sle(){return function Pie(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return m(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return m(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return m(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),Y$=(()=>{class t extends Q${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Sde=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return m(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=m(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function bde(t){return Promise.all(t.map(function(){var e=m(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function eS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Ade{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return m(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=eS("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function yt(){return window}function tS(){return typeof yt().WorkerGlobalScope<"u"&&"function"==typeof yt().importScripts}function nS(){return(nS=m(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const X$="firebaseLocalStorageDb",ym="firebaseLocalStorage",J$="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vm(t,e){return t.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function rS(){const t=indexedDB.open(X$,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ym,{keyPath:J$})}catch(i){n(i)}}),t.addEventListener("success",m(function*(){const r=t.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),yield function Pde(){const t=indexedDB.deleteDatabase(X$);return new Nd(t).toPromise()}(),e(yield rS()))}))})}function Z$(t,e,n){return iS.apply(this,arguments)}function iS(){return(iS=m(function*(t,e,n){const r=vm(t,!0).put({[J$]:e,value:n});return new Nd(r).toPromise()})).apply(this,arguments)}function sS(){return(sS=m(function*(t,e){const n=vm(t,!1).get(e),r=yield new Nd(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function ej(t,e){const n=vm(t,!0).delete(e);return new Nd(n).toPromise()}const Vde=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return m(function*(){return n.db||(n.db=yield rS()),n.db})()}_withRetries(n){var r=this;return m(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return m(function*(){return tS()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return m(function*(){n.receiver=Sde._getInstance(function Rde(){return tS()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=m(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=m(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return m(function*(){var r,i;if(n.activeServiceWorker=yield function xde(){return nS.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Ade(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return m(function*(){if(r.sender&&r.activeServiceWorker&&function Nde(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return m(function*(){try{if(!indexedDB)return!1;const n=yield rS();return yield Z$(n,_m,"1"),yield ej(n,_m),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return m(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return m(function*(){return i._withPendingWrite(m(function*(){return yield i._withRetries(s=>Z$(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return m(function*(){const i=yield r._withRetries(s=>function Ode(t,e){return sS.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return m(function*(){return r._withPendingWrite(m(function*(){return yield r._withRetries(i=>ej(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return m(function*(){const r=yield n._withRetries(o=>{const a=vm(o,!1).getAll();return new Nd(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(m(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();P$("rcb"),new Ed(3e4,6e4);class pS extends U${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ehe(t){return q$(t.auth,new pS(t),t.bypassAuthState)}function the(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function W$(t,e){return Cb.apply(this,arguments)}(n,new pS(t),t.bypassAuthState)}function nhe(t){return gS.apply(this,arguments)}function gS(){return(gS=m(function*(t){const{auth:e,user:n}=t;return A(n,e,"internal-error"),function wb(t,e){return Eb.apply(this,arguments)}(n,new pS(t),t.bypassAuthState)})).apply(this,arguments)}class rhe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=m(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return m(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ehe;case"linkViaPopup":case"linkViaRedirect":return nhe;case"reauthViaPopup":case"reauthViaRedirect":return the;default:Fn(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Ed(2e3,1e4);const ihe="pendingRedirect",Rd=new Map;class she extends rhe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return m(function*(){let r=Rd.get(n.auth._key());if(!r){try{const s=(yield function ohe(t,e){return wS.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Rd.set(n.auth._key(),r)}return n.bypassAuthState||Rd.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return m(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return m(function*(){})()}cleanUp(){}}function wS(){return(wS=m(function*(t,e){const n=function rj(t){return lm(ihe,t.config.apiKey,t.name)}(e),r=function nj(t){return Gi(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function ahe(t,e){Rd.set(t._key(),e)}function ij(t,e){return SS.apply(this,arguments)}function SS(){return(SS=m(function*(t,e,n=!1){const r=Ft(t),i=function Go(t,e){return e?Gi(e):(A(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new she(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class hhe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function fhe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aj(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aj(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(ti(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oj(e))}saveEventToCache(e){this.cachedEventUids.add(oj(e)),this.lastProcessedEventTime=Date.now()}}function oj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aj({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function MS(){return(MS=m(function*(t,e={}){return rt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const ghe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mhe=/^https?/;function xS(){return xS=m(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function phe(t){return MS.apply(this,arguments)}(t);for(const n of e)try{if(yhe(n))return}catch{}Fn(t,"unauthorized-domain")}),xS.apply(this,arguments)}function yhe(t){const e=wd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!mhe.test(n))return!1;if(ghe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const vhe=new Ed(3e4,6e4);function uj(){const t=yt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Em=null;const Ihe=new Ed(5e3,15e3),Che="__/auth/iframe",Dhe="emulator/auth/iframe",The={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bhe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function She(t){const e=t.config;A(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?kT(e,Dhe):`https://${t.config.authDomain}/${Che}`,r={apiKey:e.apiKey,appName:t.name,v:Is},i=bhe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${od(r).slice(1)}`}function NS(){return NS=m(function*(t){const e=yield function Ehe(t){return Em=Em||function whe(t){return new Promise((e,n)=>{var r,i,s;function o(){uj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uj(),n(ti(t,"network-request-failed"))},timeout:vhe.get()})}if(null!==(i=null===(r=yt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=yt().gapi)||void 0===s||!s.load){const a=P$("iframefcb");return yt()[a]=()=>{gapi.load?o():n(ti(t,"network-request-failed"))},QT(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Em=null,e})}(t),Em}(t),n=yt().gapi;return A(n,t,"internal-error"),e.open({where:document.body,url:She(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:The,dontclear:!0},r=>new Promise(function(){var i=m(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=ti(t,"network-request-failed"),u=yt().setTimeout(()=>{o(a)},Ihe.get());function c(){yt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),NS.apply(this,arguments)}const Mhe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Fhe="__/auth/handler",Lhe="emulator/auth/handler",Vhe=encodeURIComponent("fac");function lj(t,e,n,r,i,s){return RS.apply(this,arguments)}function RS(){return(RS=m(function*(t,e,n,r,i,s){A(t.config.authDomain,t,"auth-domain-config-required"),A(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Is,eventId:i};if(e instanceof As){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof ede){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield t._getAppCheckToken(),c=u?`#${Vhe}=${encodeURIComponent(u)}`:"";return`${function Uhe({config:t}){return t.emulator?kT(t,Lhe):`https://${t.authDomain}/${Fhe}`}(t)}?${od(a).slice(1)}${c}`})).apply(this,arguments)}const kS="webStorageSupport",$he=class Bhe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y$,this._completeRedirectFn=ij,this._overrideRedirectResult=ahe}_openPopup(e,n,r,i){var s=this;return m(function*(){var o;Ts(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield lj(e,n,r,wd(),i);return function Phe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Mhe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=kt().toLowerCase();n&&(a=C$(c)?"_blank":n),I$(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function ble(t=kt()){var e;return dm(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function Ohe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new cj(null);const d=window.open(e||"",a,l);A(d,t,"popup-blocked");try{d.focus()}catch{}return new cj(d)}(e,a,eS())})()}_openRedirect(e,n,r,i){var s=this;return m(function*(){return yield s._originValidation(e),function Mde(t){yt().location.href=t}(yield lj(e,n,r,wd(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ts(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return m(function*(){const r=yield function Ahe(t){return NS.apply(this,arguments)}(e),i=new hhe(e);return r.register("authEvent",s=>(A(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kS,{type:kS},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[kS];void 0!==o&&n(!!o),Fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function _he(t){return xS.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A$()||WT()||dm()}};var fj="@firebase/auth";class jhe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Whe=yU("authIdTokenMaxAge")||300;let gj=null;const qhe=t=>function(){var e=m(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Whe)return;const s=r?.token;gj!==s&&(gj=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Khe(t=cd()){const e=Es(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Fle(t,e){const n=Es(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(jg(n.getOptions(),e??{}))return i;Fn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:$he,persistence:[Vde,Tde,Y$]}),r=yU("authTokenSyncURL");if(r){const s=qhe(r);(function _de(t,e,n){Yn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function mde(t,e,n,r){Yn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=mU("auth");return i&&function Vle(t,e,n){const r=Ft(t);A(r._canInitEmulator,r,"emulator-config-failed"),A(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=L$(e),{host:o,port:a}=function Ule(t){const e=L$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:V$(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:V$(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ble(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function Ghe(t){Kt(new Pt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M$(t)},c=new Ole(r,i,s,u);return function Lle(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kt(new Pt("auth-internal",e=>{const n=Ft(e.getProvider("auth").getImmediate());return new jhe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(fj,"0.23.2",function Hhe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Me(fj,"0.23.2","esm2017")}("Browser");class Bu{constructor(e){return e}}class Cm{constructor(){return pd("auth")}}const OS=new F("angularfire2.auth-instances");function Yhe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Bu(r)}}const Xhe={provide:Cm,deps:[[new Ye,OS]]},Jhe={provide:Bu,useFactory:function Qhe(t,e){const n=fd("auth",t,e);return n&&new Bu(n)},deps:[[new Ye,OS],Ds]};let Zhe=(()=>{class t{constructor(){Me("angularfire",Pu.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({providers:[Jhe,Xhe]}),t})();function efe(t,...e){return{ngModule:Zhe,providers:[{provide:OS,useFactory:Yhe(t),multi:!0,deps:[Ce,yn,gd,md,[new Ye,vd],...e]}]}}const _j=$o(ade,!0),tfe=$o(Khe,!0),yj=$o(ude,!0),nfe=[{path:"auth",component:Die,children:[{path:"login",component:(()=>{class t{constructor(n){this.auth=n}handleLogin(n){yj(this.auth,n.email,n.password).then(r=>{console.log(r.user)}).catch(r=>{alert(r.message)})}}return t.\u0275fac=function(n){return new(n||t)(T(Bu))},t.\u0275cmp=ao({type:t,selectors:[["app-login"]],decls:11,vars:0,consts:[[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"]],template:function(n,r){if(1&n){const i=Rw();ct(0,"p"),Kn(1,"login works!"),bt(),ct(2,"form",0,1),kn("ngSubmit",function(){iv(i);const o=Aw(3);return sv(r.handleLogin(o.value))}),ct(4,"div",2)(5,"div",3),Wr(6,"input",4),bt(),ct(7,"div",3),Wr(8,"input",5),bt(),ct(9,"button"),Kn(10,"Sign In"),bt()()()}},dependencies:[pI,Ol,rI,iI,_g,Bl],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}"]}),t})()},{path:"signup",component:(()=>{class t{constructor(n){this.auth=n}handleRegister(n){_j(this.auth,n.email,n.password).then(r=>{console.log(r.user)}).catch(r=>{alert(r.message)})}}return t.\u0275fac=function(n){return new(n||t)(T(Bu))},t.\u0275cmp=ao({type:t,selectors:[["app-signup"]],decls:11,vars:0,consts:[[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"]],template:function(n,r){if(1&n){const i=Rw();ct(0,"p"),Kn(1,"signup works!"),bt(),ct(2,"form",0,1),kn("ngSubmit",function(){iv(i);const o=Aw(3);return sv(r.handleRegister(o.value))}),ct(4,"div",2)(5,"div",3),Wr(6,"input",4),bt(),ct(7,"div",3),Wr(8,"input",5),bt(),ct(9,"button"),Kn(10,"Sign Up"),bt()()()}},dependencies:[pI,Ol,rI,iI,_g,Bl],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}"]}),t})()}]}];let rfe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({imports:[Mo.forChild(nfe),Mo]}),t})(),ife=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({imports:[HE,a2,Mo,rfe]}),t})();const sfe=[{path:"home",component:(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=ao({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(n,r){1&n&&(ct(0,"p"),Kn(1,"home works!"),bt())}}),t})()}];let ofe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({imports:[Mo.forRoot(sfe),Mo]}),t})(),afe=(()=>{class t{constructor(n){this.auth=n,this.title="gestion-muestras"}handleRegister(n){_j(this.auth,n.email,n.password).then(r=>{console.log(r.user)}).catch(r=>{alert(r.message)})}handleLogin(n){yj(this.auth,n.email,n.password).then(r=>{console.log(r.user)}).catch(r=>{alert(r.message)})}}return t.\u0275fac=function(n){return new(n||t)(T(Bu))},t.\u0275cmp=ao({type:t,selectors:[["app-root"]],decls:13,vars:0,consts:[["href","/auth/login"],["href","/auth/signup"]],template:function(n,r){1&n&&(ct(0,"div")(1,"h1"),Kn(2,"Header"),bt()(),ct(3,"div")(4,"a",0),Kn(5,"Log In "),bt(),Wr(6,"div"),ct(7,"a",1),Kn(8,"Sign Up "),bt()(),Wr(9,"router-outlet"),ct(10,"div")(11,"h1"),Kn(12,"Footer"),bt()())},dependencies:[Ag],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}"]}),t})();const ufe_firebase={projectId:"gestion-de-muestras-de-campo",appId:"1:956362829056:web:235ab7e9c2cbd05ffe97e5",databaseURL:"https://gestion-de-muestras-de-campo-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-campo.appspot.com",apiKey:"AIzaSyDeImqmNn3CZpIAB1A9_q78bnqPVNM1ji8",authDomain:"gestion-de-muestras-de-campo.firebaseapp.com",messagingSenderId:"956362829056",measurementId:"G-T5SRLVHLR3"},vj="@firebase/database";let FS="";class lfe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:sd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class dfe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Li(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Ej=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lfe(e)}}catch{}return new dfe},zo=Ej("localStorage"),LS=Ej("sessionStorage"),$u=new Ro("@firebase/database"),Ij=function(){let t=1;return function(){return t++}}(),Cj=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,x(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Bie;n.update(e);const r=n.digest();return Fg.encodeByteArray(r)},kd=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=kd.apply(null,r):e+="object"==typeof r?qt(r):r,e+=" "}return e};let Wo=null,Dj=!0;const Lt=function(...t){if(!0===Dj&&(Dj=!1,null===Wo&&!0===LS.get("logging_enabled")&&function(t,e){x(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?($u.logLevel=fe.VERBOSE,Wo=$u.log.bind($u),e&&LS.set("logging_enabled",!0)):"function"==typeof t?Wo=t:(Wo=null,LS.remove("logging_enabled"))}(!0)),Wo){const e=kd.apply(null,t);Wo(e)}},Pd=function(t){return function(...e){Lt(t,...e)}},VS=function(...t){const e="FIREBASE INTERNAL ERROR: "+kd(...t);$u.error(e)},ri=function(...t){const e=`FIREBASE FATAL ERROR: ${kd(...t)}`;throw $u.error(e),new Error(e)},cn=function(...t){const e="FIREBASE WARNING: "+kd(...t);$u.warn(e)},Dm=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ms="[MIN_NAME]",Wi="[MAX_NAME]",qo=function(t,e){if(t===e)return 0;if(t===Ms||e===Wi)return-1;if(e===Ms||t===Wi)return 1;{const n=Aj(t),r=Aj(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},pfe=function(t,e){return t===e?0:t<e?-1:1},Od=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qt(e))},US=function(t){if("object"!=typeof t||null===t)return qt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=qt(e[r]),n+=":",n+=US(t[e[r]]);return n+="}",n},bj=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Vt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Sj=function(t){x(!Dm(t),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(u=52;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const l=c.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(l.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},yfe=new RegExp("^-?(0*)\\d{1,10}$"),Aj=function(t){if(yfe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},ju=function(t){try{t()}catch(e){setTimeout(()=>{throw cn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Fd=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Ife{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){cn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Cfe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',cn(e)}}let Ld=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const kj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fj="websocket",Lj="long_polling";class $S{constructor(e,n,r,i,s=!1,o="",a=!1,u=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Vj(t,e,n){let r;if(x("string"==typeof e,"typeof type must == string"),x("object"==typeof n,"typeof params must == object"),e===Fj)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==Lj)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Dfe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Vt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Tfe{constructor(){this.counters_={}}incrementCounter(e,n=1){Li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Sie(this.counters_)}}const jS={},HS={};function GS(t){const e=t.toString();return jS[e]||(jS[e]=new Tfe),jS[e]}class Sfe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ju(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xs{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pd(e),this.stats_=GS(n),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),Vj(n,Lj,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Sfe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zS((...s)=>{const[o,a,u,c,l]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&kj.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xs.forceAllow_=!0}static forceDisallow(){xs.forceDisallow_=!0}static isAvailable(){return!(!xs.forceAllow_&&(xs.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=qt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pU(n),i=bj(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=qt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class zS{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ij(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=zS.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Lt("frame writing exception"),a.stack&&Lt(a.stack),Lt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Lt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let bm=null;typeof MozWebSocket<"u"?bm=MozWebSocket:typeof WebSocket<"u"&&(bm=WebSocket);let Hu=(()=>{class t{constructor(n,r,i,s,o,a,u){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pd(this.connId),this.stats_=GS(r),this.connURL=t.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&kj.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),Vj(n,Fj,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zo.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new bm(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==bm&&!t.forceDisallow_}static previouslyFailed(){return zo.isInMemoryStorage||!0===zo.get("previous_websocket_failure")}markConnectionHealthy(){zo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=sd(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(x(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=qt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=bj(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),zj=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[xs,Hu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Hu&&Hu.isAvailable();let i=r&&!Hu.previouslyFailed();if(n.webSocketOnly&&(r||cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Hu];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class Jj{constructor(e,n,r,i,s,o,a,u,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pd("c:"+this.id+":"),this.transportManager_=new zj(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Od("t",e),r=Od("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Od("t",e),r=Od("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Od("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?VS("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):VS("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Zj{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class eH{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){x(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Sm extends eH{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!QI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sm}getInitialEvent(e){return x("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class we{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function pe(){return new we("")}function ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ns(t){return t.pieces_.length-t.pieceNum_}function ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new we(t.pieces_,e)}function qS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Vd(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function rH(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new we(e,0)}function We(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof we)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new we(n,0)}function se(t){return t.pieceNum_>=t.pieces_.length}function Dn(t,e){const n=ie(t),r=ie(e);if(null===n)return e;if(n===r)return Dn(ke(t),ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function KS(t,e){if(Ns(t)!==Ns(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function pr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ns(t)>Ns(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Yfe{constructor(e,n){this.errorPrefix_=n,this.parts_=Vd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Gg(this.parts_[r]);iH(this)}}function iH(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ko(t))}function Ko(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class QS extends eH{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new QS}getInitialEvent(e){return x("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Ud=1e3;let Mm,Qo=(()=>{class t extends Zj{constructor(n,r,i,s,o,a,u,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Pd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ud,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");QS.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Sm.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(qt(o)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new xu,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,u=>{const c=u.d,l=u.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",u),"ok"!==l&&this.removeListen_(i,s),n.onComplete&&n.onComplete(l,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Li(n,"w")){const i=Nu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=Bg(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=Bg(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),x(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+qt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):VS("Unrecognized action received from server: "+qt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ud,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ud,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ud),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return m(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let u=!1,c=null;const l=function(){c?c.close():(u=!0,s())};n.realtime_={close:l,sendRequest:function(f){x(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);u?Lt("getToken() completed but was canceled"):(Lt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,c=new Jj(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,g=>{cn(g+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),u||(n.repoInfo_.nodeAdmin&&cn(f),l())}}})()}interrupt(n){Lt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Lt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],JI(this.interruptReasons_)&&(this.reconnectDelay_=Ud,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>US(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new we(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Lt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Lt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+FS.replace(/\./g,"-")]=1,QI()?n["framework.cordova"]=1:wU()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Sm.getInstance().currentlyOnline();return JI(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class oe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new oe(e,n)}}class Am{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new oe(Ms,e),i=new oe(Ms,n);return 0!==this.compare(r,i)}minPost(){return oe.MIN}}class aH extends Am{static get __EMPTY_NODE(){return Mm}static set __EMPTY_NODE(e){Mm=e}compare(e,n){return qo(e.name,n.name)}isDefinedOn(e){throw Mu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe(Wi,Mm)}makePost(e,n){return x("string"==typeof e,"KeyIndex indexValue must always be a string."),new oe(e,Mm)}toString(){return".key"}}const ii=new aH;class xm{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let XS,Sr=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Ln.EMPTY_NODE,this.right=o??Ln.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ln.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Ln.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ln{constructor(e,n=Ln.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ln(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Sr.BLACK,null,null))}remove(e){return new Ln(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new xm(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new xm(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new xm(this.root_,null,this.comparator_,!0,e)}}function ipe(t,e){return qo(t.name,e.name)}function YS(t,e){return qo(t,e)}Ln.EMPTY_NODE=new class rpe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Sr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const uH=function(t){return"number"==typeof t?"number:"+Sj(t):"string:"+t},cH=function(t){if(t.isLeafNode()){const e=t.val();x("string"==typeof e||"number"==typeof e||"object"==typeof e&&Li(e,".sv"),"Priority must be a string or number.")}else x(t===XS||t.isEmpty(),"priority of unexpected type.");x(t===XS||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let lH,dH,hH,Gu=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,x(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),cH(this.priorityNode_)}static set __childrenNodeConstructor(n){lH=n}static get __childrenNodeConstructor(){return lH}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return se(n)?this:".priority"===ie(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=ie(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(x(".priority"!==i||1===Ns(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+uH(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?Sj(this.value_):this.value_,this.lazyHash_=Cj(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(x(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return x(s>=0,"Unknown leaf type: "+r),x(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const Le=new class upe extends Am{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?qo(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe(Wi,new Gu("[PRIORITY-POST]",hH))}makePost(e,n){const r=dH(e);return new oe(n,new Gu("[PRIORITY-POST]",r))}toString(){return".priority"}},cpe=Math.log(2);class lpe{constructor(e){this.count=parseInt(Math.log(e+1)/cpe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nm=function(t,e,n,r){t.sort(e);const i=function(u,c){const l=c-u;let d,h;if(0===l)return null;if(1===l)return d=t[u],h=n?n(d):d,new Sr(h,d.node,Sr.BLACK,null,null);{const f=parseInt(l/2,10)+u,p=i(u,f),g=i(f+1,c);return d=t[f],h=n?n(d):d,new Sr(h,d.node,Sr.BLACK,p,g)}},a=function(u){let c=null,l=null,d=t.length;const h=function(p,g){const _=d-p,w=d;d-=p;const y=i(_+1,w),D=t[_],P=n?n(D):D;f(new Sr(P,D.node,g,null,y))},f=function(p){c?(c.left=p,c=p):(l=p,c=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),_=Math.pow(2,u.count-(p+1));g?h(_,Sr.BLACK):(h(_,Sr.BLACK),h(_,Sr.RED))}return l}(new lpe(t.length));return new Ln(r||e,a)};let JS;const zu={};class qi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return x(zu&&Le,"ChildrenNode.ts has not been loaded"),JS=JS||new qi({".priority":zu},{".priority":Le}),JS}get(e){const n=Nu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ln?n:null}hasIndex(e){return Li(this.indexSet_,e.toString())}addIndex(e,n){x(e!==ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(oe.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Nm(r,e.getCompare()):zu;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const l=Object.assign({},this.indexes_);return l[u]=a,new qi(l,c)}addToIndexes(e,n){const r=$g(this.indexes_,(i,s)=>{const o=Nu(this.indexSet_,s);if(x(o,"Missing index implementation for "+s),i===zu){if(o.isDefinedOn(e.node)){const a=[],u=n.getIterator(oe.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),Nm(a,o.getCompare())}return zu}{const a=n.get(e.name);let u=i;return a&&(u=u.remove(new oe(e.name,a))),u.insert(e,e.node)}});return new qi(r,this.indexSet_)}removeFromIndexes(e,n){const r=$g(this.indexes_,i=>{if(i===zu)return i;{const s=n.get(e.name);return s?i.remove(new oe(e.name,s)):i}});return new qi(r,this.indexSet_)}}let Bd,ee=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cH(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bd||(Bd=new t(new Ln(YS),null,qi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bd}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Bd:r}}getChild(n){const r=ie(n);return null===r?this:this.getImmediateChild(r).getChild(ke(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(x(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new oe(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Bd:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=ie(n);if(null===i)return r;{x(".priority"!==ie(n)||1===Ns(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ke(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(Le,(a,u)=>{r[a]=u.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+uH(this.getPriority().val())+":"),this.forEachChild(Le,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":Cj(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new oe(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new oe(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new oe(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,oe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,oe.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===$d?-1:0}withIndex(n){if(n===ii||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ii||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Le),s=r.getIterator(Le);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===ii?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const $d=new class dpe extends ee{constructor(){super(new Ln(YS),ee.EMPTY_NODE,qi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ee.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(oe,{MIN:{value:new oe(Ms,ee.EMPTY_NODE)},MAX:{value:new oe(Wi,$d)}}),aH.__EMPTY_NODE=ee.EMPTY_NODE,Gu.__childrenNodeConstructor=ee,function spe(t){XS=t}($d),function ape(t){hH=t}($d);const hpe=!0;function Je(t,e=null){if(null===t)return ee.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),x(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Gu(t,Je(e));if(t instanceof Array||!hpe){let n=ee.EMPTY_NODE;return Vt(t,(r,i)=>{if(Li(t,r)&&"."!==r.substring(0,1)){const s=Je(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Je(e))}{const n=[];let r=!1;if(Vt(t,(o,a)=>{if("."!==o.substring(0,1)){const u=Je(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new oe(o,u)))}}),0===n.length)return ee.EMPTY_NODE;const s=Nm(n,ipe,o=>o.name,YS);if(r){const o=Nm(n,Le.getCompare());return new ee(s,Je(e),new qi({".priority":o},{".priority":Le}))}return new ee(s,Je(e),qi.Default)}}!function ope(t){dH=t}(Je);class ZS extends Am{constructor(e){super(),this.indexPath_=e,x(!se(e)&&".priority"!==ie(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?qo(e.name,n.name):s}makePost(e,n){const r=Je(e),i=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new oe(n,i)}maxPost(){const e=ee.EMPTY_NODE.updateChild(this.indexPath_,$d);return new oe(Wi,e)}toString(){return Vd(this.indexPath_,0).join("/")}}const e0=new class fpe extends Am{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?qo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){const r=Je(e);return new oe(n,r)}toString(){return".value"}};function Hd(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class n0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ms}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const e=new n0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pH(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Le?n="$priority":t.index_===e0?n="$value":t.index_===ii?n="$key":(x(t.index_ instanceof ZS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=qt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+qt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=qt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+qt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gH(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Le&&(e.i=t.index_.toString()),e}class km extends Zj{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Pd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=km.getListenId_(e,r),a={};this.listens_[o]=a;const u=pH(e._queryParams);this.restRequest_(s+".json",u,(c,l)=>{let d=l;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Nu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=km.getListenId_(e,n);delete this.listens_[r]}get(e){const n=pH(e._queryParams),r=e._path.toString(),i=new xu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+od(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=sd(a.responseText)}catch{cn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&cn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Epe{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Pm(){return{value:null,children:new Map}}function qu(t,e,n){if(se(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=ie(e);t.children.has(r)||t.children.set(r,Pm()),qu(t.children.get(r),e=ke(e),n)}}function a0(t,e,n){null!==t.value?n(e,t.value):function Ipe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{a0(i,new we(e.toString()+"/"+r),n)})}class Cpe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Vt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class bpe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Cpe(e);const r=1e4+2e4*Math.random();Fd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Vt(e,(i,s)=>{s>0&&Li(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Fd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var si=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(si||{});function l0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Om{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=si.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(se(this.path)){if(null!=this.affectedTree.value)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new we(e));return new Om(pe(),n,this.revert)}}return x(ie(this.path)===e,"operationForChild called for unrelated child."),new Om(ke(this.path),this.affectedTree,this.revert)}}class Yo{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=si.OVERWRITE}operationForChild(e){return se(this.path)?new Yo(this.source,pe(),this.snap.getImmediateChild(e)):new Yo(this.source,ke(this.path),this.snap)}}class Ku{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=si.MERGE}operationForChild(e){if(se(this.path)){const n=this.children.subtree(new we(e));return n.isEmpty()?null:n.value?new Yo(this.source,pe(),n.value):new Ku(this.source,pe(),n)}return x(ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ku(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Rs{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(se(e))return this.isFullyInitialized()&&!this.filtered_;const n=ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Wd(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,u)=>function xpe(t,e,n){if(null==e.childName||null==n.childName)throw Mu("Should only compare child_ events.");const r=new oe(e.childName,e.snapshotNode),i=new oe(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,u)),o.forEach(a=>{const u=function Mpe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(u,t.query_))})})}function Fm(t,e){return{eventCache:t,serverCache:e}}function qd(t,e,n,r){return Fm(new Rs(e,n,r),t.serverCache)}function _H(t,e,n,r){return Fm(t.eventCache,new Rs(e,n,r))}function Lm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let d0;class Ve{constructor(e,n=(()=>(d0||(d0=new Ln(pfe)),d0))()){this.value=e,this.children=n}static fromObject(e){let n=new Ve(null);return Vt(e,(r,i)=>{n=n.set(new we(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:pe(),value:this.value};if(se(e))return null;{const r=ie(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(ke(e),n);return null!=s?{path:We(new we(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(se(e))return this;{const n=ie(e),r=this.children.get(n);return null!==r?r.subtree(ke(e)):new Ve(null)}}set(e,n){if(se(e))return new Ve(n,this.children);{const r=ie(e),s=(this.children.get(r)||new Ve(null)).set(ke(e),n),o=this.children.insert(r,s);return new Ve(this.value,o)}}remove(e){if(se(e))return this.children.isEmpty()?new Ve(null):new Ve(null,this.children);{const n=ie(e),r=this.children.get(n);if(r){const i=r.remove(ke(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new Ve(null):new Ve(this.value,s)}return this}}get(e){if(se(e))return this.value;{const n=ie(e),r=this.children.get(n);return r?r.get(ke(e)):null}}setTree(e,n){if(se(e))return n;{const r=ie(e),s=(this.children.get(r)||new Ve(null)).setTree(ke(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Ve(this.value,o)}}fold(e){return this.fold_(pe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(We(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,pe(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(se(e))return null;{const s=ie(e),o=this.children.get(s);return o?o.findOnPath_(ke(e),We(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pe(),n)}foreachOnPath_(e,n,r){if(se(e))return this;{this.value&&r(n,this.value);const i=ie(e),s=this.children.get(i);return s?s.foreachOnPath_(ke(e),We(n,i),r):new Ve(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(We(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ar{constructor(e){this.writeTree_=e}static empty(){return new Ar(new Ve(null))}}function Kd(t,e,n){if(se(e))return new Ar(new Ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Dn(i,e);return s=s.updateChild(o,n),new Ar(t.writeTree_.set(i,s))}{const i=new Ve(n),s=t.writeTree_.setTree(e,i);return new Ar(s)}}}function h0(t,e,n){let r=t;return Vt(n,(i,s)=>{r=Kd(r,We(e,i),s)}),r}function yH(t,e){if(se(e))return Ar.empty();{const n=t.writeTree_.setTree(e,new Ve(null));return new Ar(n)}}function f0(t,e){return null!=Jo(t,e)}function Jo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Dn(n.path,e)):null}function vH(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Le,(r,i)=>{e.push(new oe(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new oe(r,i.value))}),e}function ks(t,e){if(se(e))return t;{const n=Jo(t,e);return new Ar(null!=n?new Ve(n):t.writeTree_.subtree(e))}}function p0(t){return t.writeTree_.isEmpty()}function Qu(t,e){return wH(pe(),t.writeTree_,e)}function wH(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(x(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=wH(We(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(We(t,".priority"),r)),n}}function Vm(t,e){return TH(e,t)}function Fpe(t,e){if(t.snap)return pr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&pr(We(t.path,n),e))return!0;return!1}function Vpe(t){return t.visible}function EH(t,e,n){let r=Ar.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)pr(n,o)?(a=Dn(n,o),r=Kd(r,a,s.snap)):pr(o,n)&&(a=Dn(o,n),r=Kd(r,pe(),s.snap.getChild(a)));else{if(!s.children)throw Mu("WriteRecord should have .snap or .children");if(pr(n,o))a=Dn(n,o),r=h0(r,a,s.children);else if(pr(o,n))if(a=Dn(o,n),se(a))r=h0(r,pe(),s.children);else{const u=Nu(s.children,ie(a));if(u){const c=u.getChild(ke(a));r=Kd(r,pe(),c)}}}}}return r}function IH(t,e,n,r,i){if(r||i){const s=ks(t.visibleWrites,e);return!i&&p0(s)?n:i||null!=n||f0(s,pe())?Qu(EH(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(pr(c.path,e)||pr(e,c.path))},e),n||ee.EMPTY_NODE):null}{const s=Jo(t.visibleWrites,e);if(null!=s)return s;{const o=ks(t.visibleWrites,e);return p0(o)?n:null!=n||f0(o,pe())?Qu(o,n||ee.EMPTY_NODE):null}}}function Um(t,e,n,r){return IH(t.writeTree,t.treePath,e,n,r)}function g0(t,e){return function Upe(t,e,n){let r=ee.EMPTY_NODE;const i=Jo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Le,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ks(t.visibleWrites,e);return n.forEachChild(Le,(o,a)=>{const u=Qu(ks(s,new we(o)),a);r=r.updateImmediateChild(o,u)}),vH(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return vH(ks(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function CH(t,e,n,r){return function Bpe(t,e,n,r,i){x(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=We(e,n);if(f0(t.visibleWrites,s))return null;{const o=ks(t.visibleWrites,s);return p0(o)?i.getChild(n):Qu(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Bm(t,e){return function jpe(t,e){return Jo(t.visibleWrites,e)}(t.writeTree,We(t.treePath,e))}function m0(t,e,n){return function $pe(t,e,n,r){const i=We(e,n),s=Jo(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Qu(ks(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function DH(t,e){return TH(We(t.treePath,e),t.writeTree)}function TH(t,e){return{treePath:t,writeTree:e}}class Wpe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;x("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),x(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,Hd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function jd(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Wu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Mu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Hd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const bH=new class qpe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class _0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Rs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return m0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Xo(this.viewCache_),s=function zpe(t,e,n,r,i,s){return function Hpe(t,e,n,r,i,s,o){let a;const u=ks(t.visibleWrites,e),c=Jo(u,pe());if(null!=c)a=c;else{if(null==n)return[];a=Qu(u,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function SH(t,e,n,r,i,s){const o=e.eventCache;if(null!=Bm(r,n))return e;{let a,u;if(se(n))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Xo(e),d=g0(r,c instanceof ee?c:ee.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=Um(r,Xo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ie(n);if(".priority"===c){x(1===Ns(n),"Can't have a priority with additional path components");const l=o.getNode();u=e.serverCache.getNode();const d=CH(r,n,l,u);a=null!=d?t.filter.updatePriority(l,d):o.getNode()}else{const l=ke(n);let d;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const h=CH(r,n,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(c).updateChild(l,h):o.getNode().getImmediateChild(c)}else d=m0(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,l,i,s):o.getNode()}}return qd(e,a,o.isFullyInitialized()||se(n),t.filter.filtersNodes())}}function $m(t,e,n,r,i,s,o,a){const u=e.serverCache;let c;const l=o?t.filter:t.filter.getIndexedFilter();if(se(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),f,null)}else{const f=ie(n);if(!u.isCompleteForPath(n)&&Ns(n)>1)return e;const p=ke(n),_=u.getNode().getImmediateChild(f).updateChild(p,r);c=".priority"===f?l.updatePriority(u.getNode(),_):l.updateChild(u.getNode(),f,_,p,bH,null)}const d=_H(e,c,u.isFullyInitialized()||se(n),l.filtersNodes());return SH(t,d,n,i,new _0(i,d,s),a)}function y0(t,e,n,r,i,s,o){const a=e.eventCache;let u,c;const l=new _0(i,e,s);if(se(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=qd(e,c,!0,t.filter.filtersNodes());else{const d=ie(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),u=qd(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=ke(n),f=a.getNode().getImmediateChild(d);let p;if(se(h))p=r;else{const g=l.getCompleteChild(d);p=null!=g?".priority"===qS(h)&&g.getChild(rH(h)).isEmpty()?g:g.updateChild(h,r):ee.EMPTY_NODE}u=f.equals(p)?e:qd(e,t.filter.updateChild(a.getNode(),d,p,h,l,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return u}function AH(t,e){return t.eventCache.isCompleteForChild(e)}function MH(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function v0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,u=e;c=se(n)?r:new Ve(null).setTree(n,r);const l=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=MH(0,e.serverCache.getNode().getImmediateChild(d),h);u=$m(t,u,new we(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const g=MH(0,e.serverCache.getNode().getImmediateChild(d),h);u=$m(t,u,new we(d),g,i,s,o,a)}}),u}function sge(t,e){const n=Xo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!se(e)&&!n.getImmediateChild(ie(e)).isEmpty())?n.getChild(e):null}function RH(t,e,n,r){e.type===si.MERGE&&null!==e.source.queryId&&(x(Xo(t.viewCache_),"We should always have a full cache before handling merges"),x(Lm(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function Ype(t,e,n,r,i){const s=new Wpe;let o,a;if(n.type===si.OVERWRITE){const c=n;c.source.fromUser?o=y0(t,e,c.path,c.snap,r,i,s):(x(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!se(c.path),o=$m(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===si.MERGE){const c=n;c.source.fromUser?o=function Jpe(t,e,n,r,i,s,o){let a=e;return r.foreach((u,c)=>{const l=We(n,u);AH(e,ie(l))&&(a=y0(t,a,l,c,i,s,o))}),r.foreach((u,c)=>{const l=We(n,u);AH(e,ie(l))||(a=y0(t,a,l,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(x(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=v0(t,e,c.path,c.children,r,i,a,s))}else if(n.type===si.ACK_USER_WRITE){const c=n;o=c.revert?function tge(t,e,n,r,i,s){let o;if(null!=Bm(r,n))return e;{const a=new _0(r,e,i),u=e.eventCache.getNode();let c;if(se(n)||".priority"===ie(n)){let l;if(e.serverCache.isFullyInitialized())l=Um(r,Xo(e));else{const d=e.serverCache.getNode();x(d instanceof ee,"serverChildren would be complete if leaf node"),l=g0(r,d)}c=t.filter.updateFullNode(u,l,s)}else{const l=ie(n);let d=m0(r,l,e.serverCache);null==d&&e.serverCache.isCompleteForChild(l)&&(d=u.getImmediateChild(l)),c=null!=d?t.filter.updateChild(u,l,d,ke(n),a,s):e.eventCache.getNode().hasChild(l)?t.filter.updateChild(u,l,ee.EMPTY_NODE,ke(n),a,s):u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Um(r,Xo(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Bm(r,pe()),qd(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function Zpe(t,e,n,r,i,s,o){if(null!=Bm(i,n))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(se(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return $m(t,e,n,u.getNode().getChild(n),i,s,a,o);if(se(n)){let c=new Ve(null);return u.getNode().forEachChild(ii,(l,d)=>{c=c.set(new we(l),d)}),v0(t,e,n,c,i,s,a,o)}return e}{let c=new Ve(null);return r.foreach((l,d)=>{const h=We(n,l);u.isCompleteForPath(h)&&(c=c.set(l,u.getNode().getChild(h)))}),v0(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==si.LISTEN_COMPLETE)throw Mu("Unknown operation type: "+n.type);o=function ege(t,e,n,r,i){const s=e.serverCache;return SH(t,_H(e,s.getNode(),s.isFullyInitialized()||se(n),s.isFiltered()),n,r,bH,i)}(t,e,n.path,r,s)}const u=s.getChanges();return function Xpe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Lm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function fH(t){return{type:"value",snapshotNode:t}}(Lm(e)))}}(e,o,u),{viewCache:o,changes:u}}(t.processor_,i,e,n,r);return function Qpe(t,e){x(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),x(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function kH(t,e,n,r){return function Ape(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function ppe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),Wd(t,i,"child_removed",e,r,n),Wd(t,i,"child_added",e,r,n),Wd(t,i,"child_moved",s,r,n),Wd(t,i,"child_changed",e,r,n),Wd(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let jm,Gm;function w0(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return x(null!=s,"SyncTree gave us an op for an invalid query."),RH(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(RH(o,e,n,r));return s}}function Ps(t,e){let n=null;for(const r of t.views.values())n=n||sge(r,e);return n}class UH{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=function Gpe(){return{visibleWrites:Ar.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function E0(t,e,n,r,i){return function Rpe(t,e,n,r,i){x(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Kd(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Yu(t,new Yo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Fs(t,e,n=!1){const r=function Ppe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Ope(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);x(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Fpe(a,r.path)?i=!1:pr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function Lpe(t){t.visibleWrites=EH(t.allWrites,Vpe,pe()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=yH(t.visibleWrites,r.path):Vt(r.children,u=>{t.visibleWrites=yH(t.visibleWrites,We(r.path,u))}),!0))}(t.pendingWriteTree_,e)){let s=new Ve(null);return null!=r.snap?s=s.set(pe(),!0):Vt(r.children,o=>{s=s.set(new we(o),!0)}),Yu(t,new Om(r.path,s,n))}return[]}function Qd(t,e,n){return Yu(t,new Yo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Wm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=Ps(a,Dn(o,e));if(c)return c});return IH(i,e,s,n,!0)}function Yu(t,e){return $H(e,t.syncPointTree_,null,Vm(t.pendingWriteTree_,pe()))}function $H(t,e,n,r){if(se(t.path))return jH(t,e,n,r);{const i=e.get(pe());null==n&&null!=i&&(n=Ps(i,pe()));let s=[];const o=ie(t.path),a=t.operationForChild(o),u=e.children.get(o);if(u&&a){const c=n?n.getImmediateChild(o):null,l=DH(r,o);s=s.concat($H(a,u,c,l))}return i&&(s=s.concat(w0(i,t,r,n))),s}}function jH(t,e,n,r){const i=e.get(pe());null==n&&null!=i&&(n=Ps(i,pe()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=n?n.getImmediateChild(o):null,c=DH(r,o),l=t.operationForChild(o);l&&(s=s.concat(jH(l,a,u,c)))}),i&&(s=s.concat(w0(i,t,r,n))),s}function C0(t,e){return t.tagToQueryMap.get(e)}function D0(t){const e=t.indexOf("$");return x(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new we(t.substr(0,e))}}function T0(t,e,n){const r=t.syncPointTree_.get(e);return x(r,"Missing sync point for query tag that we're tracking"),w0(r,n,Vm(t.pendingWriteTree_,e),null)}class b0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new b0(n)}node(){return this.node_}}class S0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=We(this.path_,e);return new S0(this.syncTree_,n)}node(){return Wm(this.syncTree_,this.path_)}}const bge=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},GH=function(t,e,n){return t&&"object"==typeof t?(x(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Sge(t[".sv"],e,n):"object"==typeof t[".sv"]?Age(t[".sv"],e):void x(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Sge=function(t,e,n){if("timestamp"===t)return n.timestamp;x(!1,"Unexpected server value: "+t)},Age=function(t,e,n){t.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&x(!1,"Unexpected increment value: "+r);const i=e.node();if(x(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},zH=function(t,e,n,r){return M0(e,new S0(n,t),r)},A0=function(t,e,n){return M0(t,new b0(e),n)};function M0(t,e,n){const r=t.getPriority().val(),i=GH(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=GH(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Gu(a,Je(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Gu(i))),o.forEachChild(Le,(a,u)=>{const c=M0(u,e.getImmediateChild(a),n);c!==u&&(s=s.updateImmediateChild(a,c))}),s}}class x0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Km(t,e){let n=e instanceof we?e:new we(e),r=t,i=ie(n);for(;null!==i;){const s=Nu(r.node.children,i)||{children:{},childCount:0};r=new x0(i,r,s),n=ke(n),i=ie(n)}return r}function Zo(t){return t.node.value}function N0(t,e){t.node.value=e,R0(t)}function WH(t){return t.node.childCount>0}function Qm(t,e){Vt(t.node.children,(n,r)=>{e(new x0(n,t,r))})}function qH(t,e,n,r){n&&!r&&e(t),Qm(t,i=>{qH(i,e,!0,r)}),n&&r&&e(t)}function Jd(t){return new we(null===t.parent?t.name:Jd(t.parent)+"/"+t.name)}function R0(t){null!==t.parent&&function Nge(t,e,n){const r=function Mge(t){return void 0===Zo(t)&&!WH(t)}(n),i=Li(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,R0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,R0(t))}(t.parent,t.name,t)}const Rge=/[\[\].#$\/\u0000-\u001F\u007F]/,kge=/[\[\].#$\u0000-\u001F\u007F]/,k0=10485760,Ym=function(t){return"string"==typeof t&&0!==t.length&&!Rge.test(t)},eh=function(t,e,n){const r=n instanceof we?new Yfe(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Ko(r));if("function"==typeof e)throw new Error(t+"contains a function "+Ko(r)+" with contents = "+e.toString());if(Dm(e))throw new Error(t+"contains "+e.toString()+" "+Ko(r));if("string"==typeof e&&e.length>k0/3&&Gg(e)>k0)throw new Error(t+"contains a string greater than "+k0+" utf8 bytes "+Ko(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Vt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Ym(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ko(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Xfe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Gg(e),iH(t)})(r,o),eh(t,a,r),function Jfe(t){const e=t.parts_.pop();t.byteLength_-=Gg(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ko(r)+" in addition to actual children.")}},YH=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Ym(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!kge.test(t)}(t)}(n))throw new Error(function Hg(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Lge{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xn(t,e,n){(function Xm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!KS(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function JH(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(Vge(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>pr(r,e)||pr(e,r))}function Vge(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Wo&&Lt("event: "+n.toString()),ju(r)}}}const Uge=25;class Bge{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Lge,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pm(),this.transactionQueueTree_=new x0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function eG(t){const n=t.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function nh(t){return bge({timestamp:eG(t)})}function tG(t,e,n,r,i){t.dataUpdateCount++;const s=new we(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=$g(n,c=>Je(c));o=function wge(t,e,n,r){const i=C0(t,r);if(i){const s=D0(i),o=s.path,a=s.queryId,u=Dn(o,e),c=Ve.fromObject(n);return T0(t,o,new Ku(l0(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{const u=Je(n);o=function BH(t,e,n,r){const i=C0(t,r);if(null!=i){const s=D0(i),o=s.path,a=s.queryId,u=Dn(o,e);return T0(t,o,new Yo(l0(a),u,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){const u=$g(n,c=>Je(c));o=function _ge(t,e,n){const r=Ve.fromObject(n);return Yu(t,new Ku({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,u)}else{const u=Je(n);o=Qd(t.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=Ju(t,s)),Xn(t.eventQueue_,a,o)}function nG(t,e){F0(t,"connected",e),!1===e&&function zge(t){Xu(t,"onDisconnectEvents");const e=nh(t),n=Pm();a0(t.onDisconnect_,pe(),(i,s)=>{const o=zH(i,s,t.serverSyncTree_,e);qu(n,i,o)});let r=[];a0(n,pe(),(i,s)=>{r=r.concat(Qd(t.serverSyncTree_,i,s));const o=function B0(t,e){const n=Jd(sG(t,e)),r=Km(t.transactionQueueTree_,e);return function xge(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{$0(t,i)}),$0(t,r),qH(r,i=>{$0(t,i)}),n}(t,i);Ju(t,o)}),t.onDisconnect_=Pm(),Xn(t.eventQueue_,pe(),r)}(t)}function F0(t,e,n){const r=new we("/.info/"+e),i=Je(n);t.infoData_.updateSnapshot(r,i);const s=Qd(t.infoSyncTree_,r,i);Xn(t.eventQueue_,r,s)}function Jm(t){return t.nextWriteId_++}function Xu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Lt(n,...e)}function U0(t,e,n){return Wm(t.serverSyncTree_,e,n)||ee.EMPTY_NODE}function Zm(t,e=t.transactionQueueTree_){if(e||e_(t,e),Zo(e)){const n=oG(t,e);x(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Jge(t,e,n){const r=n.map(c=>c.currentWriteId),i=U0(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const l=n[c];x(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=Dn(e,l.path);s=s.updateChild(d,l.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;t.server_.put(u.toString(),a,c=>{Xu(t,"transaction put response",{path:u.toString(),status:c});let l=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Fs(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();e_(t,Km(t.transactionQueueTree_,e)),Zm(t,t.transactionQueueTree_),Xn(t.eventQueue_,e,l);for(let h=0;h<d.length;h++)ju(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{cn("transaction at "+u.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ju(t,e)}},o)}(t,Jd(e),n)}else WH(e)&&Qm(e,n=>{Zm(t,n)})}function Ju(t,e){const n=sG(t,e),r=Jd(n);return function Zge(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],c=Dn(n,u.path);let d,l=!1;if(x(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,d=u.abortReason,i=i.concat(Fs(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=Uge)l=!0,d="maxretry",i=i.concat(Fs(t.serverSyncTree_,u.currentWriteId,!0));else{const h=U0(t,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){eh("transaction failed: Data returned ",f,u.path);let p=Je(f);"object"==typeof f&&null!=f&&Li(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=u.currentWriteId,w=nh(t),y=A0(p,h,w);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=Jm(t),o.splice(o.indexOf(_),1),i=i.concat(E0(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(Fs(t.serverSyncTree_,_,!0))}else l=!0,d="nodata",i=i.concat(Fs(t.serverSyncTree_,u.currentWriteId,!0))}Xn(t.eventQueue_,n,i),i=[],l&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}e_(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ju(r[a]);Zm(t,t.transactionQueueTree_)}(t,oG(t,n),r),r}function sG(t,e){let n,r=t.transactionQueueTree_;for(n=ie(e);null!==n&&void 0===Zo(r);)r=Km(r,n),n=ie(e=ke(e));return r}function oG(t,e){const n=[];return aG(t,e,n),n.sort((r,i)=>r.order-i.order),n}function aG(t,e,n){const r=Zo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Qm(e,i=>{aG(t,i,n)})}function e_(t,e){const n=Zo(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,N0(e,n.length>0?n:void 0)}Qm(e,r=>{e_(t,r)})}function $0(t,e){const n=Zo(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(x(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(x(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Fs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?N0(e,void 0):n.length=s+1,Xn(t.eventQueue_,Jd(e),i);for(let o=0;o<r.length;o++)ju(r[o])}}const j0=function(t,e){const n=nme(t),r=n.namespace;return"firebase.com"===n.domain&&ri(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $S(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new we(n.pathString)}},nme=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let l=t.indexOf("/");-1===l&&(l=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(l,d)),l<d&&(i=function eme(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(l,d)));const h=function tme(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):cn(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Jn{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return se(this._path)?null:qS(this._path)}get ref(){return new Mr(this._repo,this._path)}get _queryIdentifier(){const e=gH(this._queryParams),n=US(e);return"{}"===n?"default":n}get _queryObject(){return gH(this._queryParams)}isEqual(e){if(!((e=Yn(e))instanceof Jn))return!1;const n=this._repo===e._repo,r=KS(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Kfe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Mr extends Jn{constructor(e,n){super(e,n,new n0,!1)}get parent(){const e=rH(this._path);return null===e?null:new Mr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function uge(t){x(!jm,"__referenceConstructor has already been defined"),jm=t})(Mr),function fge(t){x(!Gm,"__referenceConstructor has already been defined"),Gm=t}(Mr);const G0={};class Ime{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function $ge(t,e,n){if(t.stats_=GS(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new km(t.repoInfo_,(r,i,s,o)=>{tG(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>nG(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Qo(t.repoInfo_,e,(r,i,s,o)=>{tG(t,r,i,s,o)},r=>{nG(t,r)},r=>{!function jge(t,e){Vt(e,(n,r)=>{F0(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function bfe(t,e){const n=t.toString();return HS[n]||(HS[n]=e()),HS[n]}(t.repoInfo_,()=>new bpe(t.stats_,t.server_)),t.infoData_=new Epe,t.infoSyncTree_=new UH({startListening:(r,i,s,o)=>{let a=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(a=Qd(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),F0(t,"connected",!1),t.serverSyncTree_=new UH({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,u)=>{const c=o(a,u);Xn(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mr(this._repo,pe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function vme(t,e){const n=G0[e];(!n||n[t.key]!==t)&&ri(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function iG(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ri("Cannot call "+e+" on a deleted database.")}}function Cme(t=cd(),e){const n=Es(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=KI("database");r&&function Dme(t,e,n,r={}){(t=Yn(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&ri("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ld(Ld.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:vU(r.mockUserToken,t.app.options.projectId);s=new Ld(o)}!function _me(t,e,n,r){t.repoInfo_=new $S(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}Qo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Qo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function Tme(t){(function cfe(t){FS=t})(Is),Kt(new Pt("database",(e,{instanceIdentifier:n})=>function yme(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Lt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u,c,o=j0(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(u=!0,s=`http://${c}?ns=${a.namespace}`,o=j0(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const l=i&&u?new Ld(Ld.OWNER):new Cfe(t.name,t.options,e);YH("Invalid Firebase Database URL",o),se(o.path)||ri("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function wme(t,e,n,r){let i=G0[e.name];i||(i={},G0[e.name]=i);let s=i[t.toURLString()];return s&&ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Bge(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,l,new Ife(t.name,n));return new Ime(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Me(vj,"0.14.4",t),Me(vj,"0.14.4","esm2017")}();class z0{constructor(e){return e}}const mG="database",W0=new F("angularfire2.database-instances");function xme(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new z0(r)}}const Nme={provide:class Ame{constructor(){return pd(mG)}},deps:[[new Ye,W0]]},Rme={provide:z0,useFactory:function Mme(t,e){const n=fd(mG,t,e);return n&&new z0(n)},deps:[[new Ye,W0],Ds]};let kme=(()=>{class t{constructor(){Me("angularfire",Pu.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({providers:[Rme,Nme]}),t})();function Pme(t,...e){return{ngModule:kme,providers:[{provide:W0,useFactory:xme(t),multi:!0,deps:[Ce,yn,gd,md,[new Ye,Cm],[new Ye,vd],...e]}]}}const Ome=$o(Cme,!0);var R,Fme=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={},q0=q0||{},Y=Fme||self;function i_(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function sh(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var K0="closure_uid_"+(1e9*Math.random()>>>0),Vme=0;function Ume(t,e,n){return t.call.apply(t.bind,arguments)}function Bme(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ln(t,e,n){return(ln=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ume:Bme).apply(null,arguments)}function s_(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Us(){this.s=this.s,this.o=this.o}Us.prototype.s=!1,Us.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Lme(t){Object.prototype.hasOwnProperty.call(t,K0)&&t[K0]||(t[K0]=++Vme)}(this)},Us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _G=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Q0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function yG(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(i_(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function dn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}dn.prototype.h=function(){this.defaultPrevented=!0};var jme=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function oh(t){return/^[\s\xa0]*$/.test(t)}function o_(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function ui(t){return-1!=o_().indexOf(t)}function Y0(t){return Y0[" "](t),t}Y0[" "]=function(){};var J0,t,Gme=ui("Opera"),ec=ui("Trident")||ui("MSIE"),vG=ui("Edge"),X0=vG||ec,wG=ui("Gecko")&&!(-1!=o_().toLowerCase().indexOf("webkit")&&!ui("Edge"))&&!(ui("Trident")||ui("MSIE"))&&!ui("Edge"),zme=-1!=o_().toLowerCase().indexOf("webkit")&&!ui("Edge");function EG(){var t=Y.document;return t?t.documentMode:void 0}e:{var Z0="",eA=(t=o_(),wG?/rv:([^\);]+)(\)|;)/.exec(t):vG?/Edge\/([\d\.]+)/.exec(t):ec?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):zme?/WebKit\/(\S+)/.exec(t):Gme?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(eA&&(Z0=eA?eA[1]:""),ec){var tA=EG();if(null!=tA&&tA>parseFloat(Z0)){J0=String(tA);break e}}J0=Z0}var Wme=Y.document&&ec&&(EG()||parseInt(J0,10))||void 0;function ah(t,e){if(dn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(wG){e:{try{Y0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qme[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ah.$.h.call(this)}}Ut(ah,dn);var qme={2:"touch",3:"pen",4:"mouse"};ah.prototype.h=function(){ah.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var uh="closure_listenable_"+(1e6*Math.random()|0),Kme=0;function Qme(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Kme,this.fa=this.ia=!1}function a_(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function rA(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function CG(t){const e={};for(const n in t)e[n]=t[n];return e}const DG="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TG(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<DG.length;s++)n=DG[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function u_(t){this.src=t,this.g={},this.h=0}function iA(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=_G(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(a_(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function sA(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}u_.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=sA(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new Qme(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var oA="closure_lm_"+(1e6*Math.random()|0),aA={};function bG(t,e,n,r,i){if(r&&r.once)return AG(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)bG(t,e[s],n,r,i);return null}return n=dA(n),t&&t[uh]?t.O(e,n,sh(r)?!!r.capture:!!r,i):SG(t,e,n,!1,r,i)}function SG(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=sh(i)?!!i.capture:!!i,a=cA(t);if(a||(t[oA]=a=new u_(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Xme(){const e=Jme;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jme||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xG(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function AG(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)AG(t,e[s],n,r,i);return null}return n=dA(n),t&&t[uh]?t.P(e,n,sh(r)?!!r.capture:!!r,i):SG(t,e,n,!0,r,i)}function MG(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)MG(t,e[s],n,r,i);else r=sh(r)?!!r.capture:!!r,n=dA(n),t&&t[uh]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=sA(s=t.g[e],n,r,i))&&(a_(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=cA(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sA(e,n,r,i)),(n=-1<t?e[t]:null)&&uA(n))}function uA(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[uh])iA(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xG(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=cA(e))?(iA(n,t),0==n.h&&(n.src=null,e[oA]=null)):a_(t)}}}function xG(t){return t in aA?aA[t]:aA[t]="on"+t}function Jme(t,e){if(t.fa)t=!0;else{e=new ah(e,this);var n=t.listener,r=t.la||t.src;t.ia&&uA(t),t=n.call(r,e)}return t}function cA(t){return(t=t[oA])instanceof u_?t:null}var lA="__closure_events_fn_"+(1e9*Math.random()>>>0);function dA(t){return"function"==typeof t?t:(t[lA]||(t[lA]=function(e){return t.handleEvent(e)}),t[lA])}function Bt(){Us.call(this),this.i=new u_(this),this.S=this,this.J=null}function Xt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new dn(e,t);else if(e instanceof dn)e.target=e.target||t;else{var i=e;TG(e=new dn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=c_(o,r,!0,e)&&i}if(i=c_(o=e.g=t,r,!0,e)&&i,i=c_(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=c_(o=e.g=n[s],r,!1,e)&&i}function c_(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&iA(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ut(Bt,Us),Bt.prototype[uh]=!0,Bt.prototype.removeEventListener=function(t,e,n,r){MG(this,t,e,n,r)},Bt.prototype.N=function(){if(Bt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)a_(n[r]);delete t.g[e],t.h--}}this.J=null},Bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Bt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var hA=Y.JSON.stringify;function e_e(){var t=fA;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var NG=new class Zme{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new n_e,t=>t.reset());class n_e{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function r_e(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function i_e(t){Y.setTimeout(()=>{throw t},0)}let ch,lh=!1,fA=new class t_e{constructor(){this.h=this.g=null}add(e,n){const r=NG.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},RG=()=>{const t=Y.Promise.resolve(void 0);ch=()=>{t.then(s_e)}};var s_e=()=>{for(var t;t=e_e();){try{t.h.call(t.g)}catch(n){i_e(n)}var e=NG;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}lh=!1};function l_(t,e){Bt.call(this),this.h=t||1,this.g=e||Y,this.j=ln(this.qb,this),this.l=Date.now()}function pA(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function gA(t,e,n){if("function"==typeof t)n&&(t=ln(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ln(t.handleEvent,t)}return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function kG(t){t.g=gA(()=>{t.g=null,t.i&&(t.i=!1,kG(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Ut(l_,Bt),(R=l_.prototype).ga=!1,R.T=null,R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xt(this,"tick"),this.ga&&(pA(this),this.start()))}},R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.N=function(){l_.$.N.call(this),pA(this),delete this.g};class o_e extends Us{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kG(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dh(t){Us.call(this),this.h=t,this.g={}}Ut(dh,Us);var PG=[];function OG(t,e,n,r){Array.isArray(n)||(n&&(PG[0]=n.toString()),n=PG);for(var i=0;i<n.length;i++){var s=bG(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function FG(t){rA(t.g,function(e,n){this.g.hasOwnProperty(n)&&uA(e)},t),t.g={}}function d_(){this.g=!0}function tc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function l_e(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return hA(n)}catch{return e}}(t,n)+(r?" "+r:"")})}dh.prototype.N=function(){dh.$.N.call(this),FG(this)},dh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},d_.prototype.Ea=function(){this.g=!1},d_.prototype.info=function(){};var ta={},LG=null;function h_(){return LG=LG||new Bt}function VG(t){dn.call(this,ta.Ta,t)}function hh(t){const e=h_();Xt(e,new VG(e))}function UG(t,e){dn.call(this,ta.STAT_EVENT,t),this.stat=e}function Tn(t){const e=h_();Xt(e,new UG(e,t))}function BG(t,e){dn.call(this,ta.Ua,t),this.size=e}function fh(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}ta.Ta="serverreachability",Ut(VG,dn),ta.STAT_EVENT="statevent",Ut(UG,dn),ta.Ua="timingevent",Ut(BG,dn);var f_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$G={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mA(){}function HG(){}mA.prototype.h=null;var vA,ph={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _A(){dn.call(this,"d")}function yA(){dn.call(this,"c")}function p_(){}function gh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new dh(this),this.P=d_e,this.V=new l_(t=X0?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new GG}function GG(){this.i=null,this.g="",this.h=!1}Ut(_A,dn),Ut(yA,dn),Ut(p_,mA),p_.prototype.g=function(){return new XMLHttpRequest},p_.prototype.i=function(){return{}},vA=new p_;var d_e=45e3,wA={},g_={};function EA(t,e,n){t.L=1,t.v=v_(Ki(e)),t.s=n,t.S=!0,zG(t,null)}function zG(t,e){t.G=Date.now(),mh(t),t.A=Ki(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),tz(n.i,"t",r),t.C=0,n=t.l.J,t.h=new GG,t.g=Tz(t.l,n?e:null,!t.s),0<t.O&&(t.M=new o_e(ln(t.Pa,t,t.g),t.O)),OG(t.U,t.g,"readystatechange",t.nb),e=t.I?CG(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),hh(),function a_e(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function WG(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function qG(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=h_e(t,n),i==g_){4==e&&(t.o=4,Tn(14),r=!1),tc(t.j,t.m,null,"[Incomplete Response]");break}if(i==wA){t.o=4,Tn(15),tc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}tc(t.j,t.m,i,null),IA(t,i)}WG(t)&&i!=g_&&i!=wA&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),MA(e),e.M=!0,Tn(11))):(tc(t.j,t.m,n,"[Invalid Chunked Response]"),na(t),_h(t))}function h_e(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?g_:(n=Number(e.substring(n,r)),isNaN(n)?wA:(r+=1)+n>e.length?g_:(e=e.slice(r,r+n),t.C=r+n,e))}function mh(t){t.Y=Date.now()+t.P,KG(t,t.P)}function KG(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=fh(ln(t.lb,t),e)}function m_(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}function _h(t){0==t.l.H||t.J||Ez(t.l,t)}function na(t){m_(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,pA(t.V),FG(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function IA(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||CA(n.i,t)))if(!t.K&&CA(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;T_(n),C_(n)}AA(n),Tn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=fh(ln(n.ib,n),6e3));if(1>=iz(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ia(n,11)}else if((t.K||n.g==t)&&T_(n),!oh(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(DA(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,$e(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=Dz(r,r.J?r.pa:null,r.Y),o.K){sz(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(m_(a),mh(a)),r.g=o}else vz(r);0<n.j.length&&D_(n)}else"stop"!=c[0]&&"close"!=c[0]||ia(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ia(n,7):SA(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}hh()}catch{}}function QG(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(i_(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function p_e(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(i_(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function f_e(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(i_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(R=gh.prototype).setTimeout=function(t){this.P=t},R.nb=function(t){t=t.target;const e=this.M;e&&3==ci(t)?e.l():this.Pa(t)},R.Pa=function(t){try{if(t==this.g)e:{const l=ci(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||X0||this.g&&(this.h.h||this.g.ja()||fz(this.g)))){this.J||4!=l||7==e||hh(),m_(this);var n=this.g.da();this.ca=n;t:if(WG(this)){var r=fz(this.g);t="";var i=r.length,s=4==ci(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){na(this),_h(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function u_e(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oh(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Tn(12),na(this),_h(this);break e}tc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,IA(this,n)}this.S?(qG(this,l,o),X0&&this.i&&3==l&&(OG(this.U,this.V,"tick",this.mb),this.V.start())):(tc(this.j,this.m,o,null),IA(this,o)),4==l&&na(this),this.i&&!this.J&&(4==l?Ez(this.l,this):(this.i=!1,mh(this)))}else(function R_e(t){const e={};t=(t.g&&2<=ci(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(oh(t[r]))continue;var n=r_e(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function Yme(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Tn(12)):(this.o=0,Tn(13)),na(this),_h(this)}}}catch{}},R.mb=function(){if(this.g){var t=ci(this.g),e=this.g.ja();this.C<e.length&&(m_(this),qG(this,t,e),this.i&&4!=t&&mh(this))}},R.cancel=function(){this.J=!0,na(this)},R.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function c_e(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(hh(),Tn(17)),na(this),this.o=2,_h(this)):KG(this,this.Y-t)};var YG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ra){this.h=t.h,__(this,t.j),this.s=t.s,this.g=t.g,y_(this,t.m),this.l=t.l;var e=t.i,n=new wh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),XG(this,n),this.o=t.o}else t&&(e=String(t).match(YG))?(this.h=!1,__(this,e[1]||"",!0),this.s=yh(e[2]||""),this.g=yh(e[3]||"",!0),y_(this,e[4]),this.l=yh(e[5]||"",!0),XG(this,e[6]||"",!0),this.o=yh(e[7]||"")):(this.h=!1,this.i=new wh(null,this.h))}function Ki(t){return new ra(t)}function __(t,e,n){t.j=n?yh(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function y_(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function XG(t,e,n){e instanceof wh?(t.i=e,function E_e(t,e){e&&!t.j&&(Bs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ZG(this,r),tz(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=vh(e,v_e)),t.i=new wh(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function v_(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vh(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,m_e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function m_e(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ra.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vh(e,JG,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(vh(e,JG,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(vh(n,"/"==n.charAt(0)?y_e:__e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vh(n,w_e)),t.join("")};var JG=/[#\/\?@]/g,__e=/[#\?:]/g,y_e=/[#\?]/g,v_e=/[#\?@]/g,w_e=/#/g;function wh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Bs(t){t.g||(t.g=new Map,t.h=0,t.i&&function g_e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ZG(t,e){Bs(t),e=nc(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ez(t,e){return Bs(t),e=nc(t,e),t.g.has(e)}function tz(t,e,n){ZG(t,e),0<n.length&&(t.i=null,t.g.set(nc(t,e),Q0(n)),t.h+=n.length)}function nc(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nz(t){this.l=t||C_e,t=Y.PerformanceNavigationTiming?0<(t=Y.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=wh.prototype).add=function(t,e){Bs(this),this.i=null,t=nc(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){Bs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},R.ta=function(){Bs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},R.Z=function(t){Bs(this);let e=[];if("string"==typeof t)ez(this,t)&&(e=e.concat(this.g.get(nc(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},R.set=function(t,e){return Bs(this),this.i=null,ez(this,t=nc(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var C_e=10;function rz(t){return!!t.h||!!t.g&&t.g.size>=t.j}function iz(t){return t.h?1:t.g?t.g.size:0}function CA(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function DA(t,e){t.g?t.g.add(e):t.h=e}function sz(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function oz(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Q0(t.i)}nz.prototype.cancel=function(){if(this.i=oz(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var D_e=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function T_e(){this.g=new D_e}function b_e(t,e,n){const r=n||"";try{QG(t,function(i,s){let o=i;sh(i)&&(o=hA(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function w_(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Eh(t){this.l=t.fc||null,this.j=t.ob||!1}function E_(t,e){Bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=TA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ut(Eh,mA),Eh.prototype.g=function(){return new E_(this.l,this.j)},Eh.prototype.i=function(t){return function(){return t}}({}),Ut(E_,Bt);var TA=0;function az(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ih(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ch(t)}function Ch(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=E_.prototype).open=function(t,e){if(this.readyState!=TA)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ch(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ih(this)),this.readyState=TA},R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ch(this)),this.g&&(this.readyState=3,Ch(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;az(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ih(this):Ch(this),3==this.readyState&&az(this)}},R.Za=function(t){this.g&&(this.response=this.responseText=t,Ih(this))},R.Ya=function(t){this.g&&(this.response=t,Ih(this))},R.ka=function(){this.g&&Ih(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(E_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var A_e=Y.JSON.parse;function it(t){Bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=uz,this.L=this.M=!1}Ut(it,Bt);var uz="",M_e=/^https?$/i,x_e=["POST","PUT"];function cz(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,lz(t),I_(t)}function lz(t){t.F||(t.F=!0,Xt(t,"complete"),Xt(t,"error"))}function dz(t){if(t.h&&typeof q0<"u"&&(!t.C[1]||4!=ci(t)||2!=t.da()))if(t.v&&4==ci(t))gA(t.La,0,t);else if(Xt(t,"readystatechange"),4==ci(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(YG)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!M_e.test(i?i.toLowerCase():"")}n=r}if(n)Xt(t,"complete"),Xt(t,"success");else{t.m=6;try{var s=2<ci(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",lz(t)}}finally{I_(t)}}}function I_(t,e){if(t.g){hz(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Xt(t,"ready");try{n.onreadystatechange=r}catch{}}}function hz(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}function ci(t){return t.g?t.g.readyState:0}function fz(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case uz:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function pz(t){let e="";return rA(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function bA(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pz(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):$e(t,e,n))}function Dh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gz(t){this.Ga=0,this.j=[],this.l=new d_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dh("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dh("baseRetryDelayMs",5e3,t),this.hb=Dh("retryDelaySeedMs",1e4,t),this.eb=Dh("forwardChannelMaxRetries",2,t),this.xa=Dh("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new nz(t&&t.concurrentRequestLimit),this.Ja=new T_e,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function SA(t){if(mz(t),3==t.H){var e=t.W++,n=Ki(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),Th(t,n),(e=new gh(t,t.l,e)).L=2,e.v=v_(Ki(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&((new Image).src=e.v,n=!0),n||(e.g=Tz(e.l,null),e.g.ha(e.v)),e.G=Date.now(),mh(e)}Cz(t)}function C_(t){t.g&&(MA(t),t.g.cancel(),t.g=null)}function mz(t){C_(t),t.u&&(Y.clearTimeout(t.u),t.u=null),T_(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Y.clearTimeout(t.m),t.m=null)}function D_(t){if(!rz(t.i)&&!t.m){t.m=!0;var e=t.Na;ch||RG(),lh||(ch(),lh=!0),fA.add(e,t),t.C=0}}function _z(t,e){var n;n=e?e.m:t.W++;const r=Ki(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),Th(t,r),t.o&&t.s&&bA(r,t.o,t.s),n=new gh(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=yz(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),DA(t.i,n),EA(n,r,e)}function Th(t,e){t.na&&rA(t.na,function(n,r){$e(e,r,n)}),t.h&&QG({},function(n,r){$e(e,r,n)})}function yz(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ln(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{b_e(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function vz(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ch||RG(),lh||(ch(),lh=!0),fA.add(e,t),t.A=0}}function AA(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=fh(ln(t.Ma,t),Iz(t,t.A)),t.A++,0))}function MA(t){null!=t.B&&(Y.clearTimeout(t.B),t.B=null)}function wz(t){t.g=new gh(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Ki(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),Th(t,e),t.o&&t.s&&bA(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=v_(Ki(e)),n.s=null,n.S=!0,zG(n,t)}function T_(t){null!=t.v&&(Y.clearTimeout(t.v),t.v=null)}function Ez(t,e){var n=null;if(t.g==e){T_(t),MA(t),t.g=null;var r=2}else{if(!CA(t.i,e))return;n=e.F,sz(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Xt(r=h_(),new BG(r,n)),D_(t)}else vz(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function k_e(t,e){return!(iz(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=fh(ln(t.Na,t,e),Iz(t,t.C)),t.C++,0)))}(t,e)||2==r&&AA(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ia(t,5);break;case 4:ia(t,10);break;case 3:ia(t,6);break;default:ia(t,2)}}function Iz(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ia(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=ln(t.pb,t);n||(n=new ra("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||__(n,"https"),v_(n)),function S_e(t,e){const n=new d_;if(Y.Image){const r=new Image;r.onload=s_(w_,n,r,"TestLoadImage: loaded",!0,e),r.onerror=s_(w_,n,r,"TestLoadImage: error",!1,e),r.onabort=s_(w_,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=s_(w_,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tn(2);t.H=0,t.h&&t.h.za(e),Cz(t),mz(t)}function Cz(t){if(t.H=0,t.ma=[],t.h){const e=oz(t.i);(0!=e.length||0!=t.j.length)&&(yG(t.ma,e),yG(t.ma,t.j),t.i.i.length=0,Q0(t.j),t.j.length=0),t.h.ya()}}function Dz(t,e,n){var r=n instanceof ra?Ki(n):new ra(n);if(""!=r.g)e&&(r.g=e+"."+r.g),y_(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ra(null);r&&__(s,r),e&&(s.g=e),i&&y_(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&$e(r,n,e),$e(r,"VER",t.ra),Th(t,r),r}function Tz(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new it(n&&t.Ha&&!t.va?new Eh({ob:!0}):t.va)).Oa(t.J),e}function bz(){}function b_(){if(ec&&!(10<=Number(Wme)))throw Error("Environmental error: no available transport.")}function Zn(t,e){Bt.call(this),this.g=new gz(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!oh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!oh(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new rc(this)}function Sz(t){_A.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Az(){yA.call(this),this.status=1}function rc(t){this.g=t}function Nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xA(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Te(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(R=it.prototype).Oa=function(t){this.M=t},R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vA.g(),this.C=function jG(t){return t.h||(t.h=t.i())}(this.u?this.u:vA),this.g.onreadystatechange=ln(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void cz(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=Y.FormData&&t instanceof Y.FormData,!(0<=_G(x_e,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hz(this),0<this.B&&((this.L=function N_e(t){return ec&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ln(this.ua,this)):this.A=gA(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){cz(this,s)}},R.ua=function(){typeof q0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xt(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Xt(this,"complete"),Xt(this,"abort"),I_(this))},R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),I_(this,!0)),it.$.N.call(this)},R.La=function(){this.s||(this.G||this.v||this.l?dz(this):this.kb())},R.kb=function(){dz(this)},R.isActive=function(){return!!this.g},R.da=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),A_e(e)}},R.Ia=function(){return this.m},R.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=gz.prototype).ra=8,R.H=1,R.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new gh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=CG(s),TG(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yz(this,i,e),$e(n=Ki(this.I),"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),Th(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(pz(s)))+"&"+e:this.o&&bA(n,this.o,s)),DA(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,EA(i,n,null)):EA(i,n,e),this.H=2}}else 3==this.H&&(t?_z(this,t):0==this.j.length||rz(this.i)||_z(this))},R.Ma=function(){if(this.u=null,wz(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=fh(ln(this.jb,this),t)}},R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Tn(10),C_(this),wz(this))},R.ib=function(){null!=this.v&&(this.v=null,C_(this),AA(this),Tn(19))},R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Tn(2)):(this.l.info("Failed to ping google.com"),Tn(1))},R.isActive=function(){return!!this.h&&this.h.isActive(this)},(R=bz.prototype).Ba=function(){},R.Aa=function(){},R.za=function(){},R.ya=function(){},R.isActive=function(){return!0},R.Va=function(){},b_.prototype.g=function(t,e){return new Zn(t,e)},Ut(Zn,Bt),Zn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Dz(t,null,t.Y),D_(t)},Zn.prototype.close=function(){SA(this.g)},Zn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=hA(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&D_(e)},Zn.prototype.N=function(){this.g.h=null,delete this.j,SA(this.g),delete this.g,Zn.$.N.call(this)},Ut(Sz,_A),Ut(Az,yA),Ut(rc,bz),rc.prototype.Ba=function(){Xt(this.g,"a")},rc.prototype.Aa=function(t){Xt(this.g,new Sz(t))},rc.prototype.za=function(t){Xt(this.g,new Az)},rc.prototype.ya=function(){Xt(this.g,"b")},Ut(Nr,function P_e(){this.blockSize=-1}),Nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Nr.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)xA(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){xA(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){xA(this,r),i=0;break}}this.h=i,this.i+=e},Nr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var O_e={};function NA(t){return-128<=t&&128>t?function Hme(t,e){var n=O_e;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Te([0|e],0>e?-1:0)}):new Te([0|t],0>t?-1:0)}function li(t){if(isNaN(t)||!isFinite(t))return ic;if(0>t)return Jt(li(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=RA;return new Te(e,0)}var RA=4294967296,ic=NA(0),kA=NA(1),xz=NA(16777216);function Qi(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function gr(t){return-1==t.h}function Jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Te(n,~t.h).add(kA)}function S_(t,e){return t.add(Jt(e))}function A_(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function bh(t,e){this.g=t,this.h=e}function M_(t,e){if(Qi(e))throw Error("division by zero");if(Qi(t))return new bh(ic,ic);if(gr(t))return e=M_(Jt(t),e),new bh(Jt(e.g),Jt(e.h));if(gr(e))return e=M_(t,Jt(e)),new bh(Jt(e.g),e.h);if(30<t.g.length){if(gr(t)||gr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kA,r=e;0>=r.X(t);)n=Nz(n),r=Nz(r);var i=sc(n,1),s=sc(r,1);for(r=sc(r,2),n=sc(n,2);!Qi(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=sc(r,1),n=sc(n,1)}return e=S_(t,i.R(e)),new bh(i,e)}for(i=ic;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=li(n)).R(e);gr(o)||0<o.X(t);)o=(s=li(n-=r)).R(e);Qi(s)&&(s=kA),i=i.add(s),t=S_(t,o)}return new bh(i,t)}function Nz(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Te(n,t.h)}function sc(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Te(i,t.h)}(R=Te.prototype).ea=function(){if(gr(this))return-Jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:RA+r)*e,e*=RA}return t},R.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Qi(this))return"0";if(gr(this))return"-"+Jt(this).toString(t);for(var e=li(Math.pow(t,6)),n=this,r="";;){var i=M_(n,e).g,s=((0<(n=S_(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Qi(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},R.X=function(t){return gr(t=S_(this,t))?-1:Qi(t)?0:1},R.abs=function(){return gr(this)?Jt(this):this},R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Te(n,-2147483648&n[n.length-1]?-1:0)},R.R=function(t){if(Qi(this)||Qi(t))return ic;if(gr(this))return gr(t)?Jt(this).R(Jt(t)):Jt(Jt(this).R(t));if(gr(t))return Jt(this.R(Jt(t)));if(0>this.X(xz)&&0>t.X(xz))return li(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,A_(n,2*r+2*i),n[2*r+2*i+1]+=s*u,A_(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,A_(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,A_(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Te(n,0)},R.gb=function(t){return M_(this,t).h},R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Te(n,this.h&t.h)},R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Te(n,this.h|t.h)},R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Te(n,this.h^t.h)},b_.prototype.createWebChannel=b_.prototype.g,Zn.prototype.send=Zn.prototype.u,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,f_.NO_ERROR=0,f_.TIMEOUT=8,f_.HTTP_ERROR=6,$G.COMPLETE="complete",HG.EventType=ph,ph.OPEN="a",ph.CLOSE="b",ph.ERROR="c",ph.MESSAGE="d",Bt.prototype.listen=Bt.prototype.O,it.prototype.listenOnce=it.prototype.P,it.prototype.getLastError=it.prototype.Sa,it.prototype.getLastErrorCode=it.prototype.Ia,it.prototype.getStatus=it.prototype.da,it.prototype.getResponseJson=it.prototype.Wa,it.prototype.getResponseText=it.prototype.ja,it.prototype.send=it.prototype.ha,it.prototype.setWithCredentials=it.prototype.Oa,Nr.prototype.digest=Nr.prototype.l,Nr.prototype.reset=Nr.prototype.reset,Nr.prototype.update=Nr.prototype.j,Te.prototype.add=Te.prototype.add,Te.prototype.multiply=Te.prototype.R,Te.prototype.modulo=Te.prototype.gb,Te.prototype.compare=Te.prototype.X,Te.prototype.toNumber=Te.prototype.ea,Te.prototype.toString=Te.prototype.toString,Te.prototype.getBits=Te.prototype.D,Te.fromNumber=li,Te.fromString=function Mz(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Jt(Mz(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=li(Math.pow(e,8)),r=ic,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=li(Math.pow(e,s)),r=r.R(s).add(li(o))):r=(r=r.R(n)).add(li(o))}return r},xr.createWebChannelTransport=function(){return new b_},xr.getStatEventTarget=function(){return h_()},xr.ErrorCode=f_,xr.EventType=$G,xr.Event=ta,xr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},xr.FetchXmlHttpFactory=Eh,xr.WebChannel=HG,xr.XhrIo=it,xr.Md5=Nr;var F_e=xr.Integer=Te;const Rz="@firebase/firestore";class $t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let Sh="9.23.0";const $s=new Ro("@firebase/firestore");function S(t,...e){if($s.logLevel<=fe.DEBUG){const n=e.map(OA);$s.debug(`Firestore (${Sh}): ${t}`,...n)}}function ht(t,...e){if($s.logLevel<=fe.ERROR){const n=e.map(OA);$s.error(`Firestore (${Sh}): ${t}`,...n)}}function OA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Sh}) INTERNAL ASSERTION FAILED: `+t;throw ht(e),new Error(e)}function U(t,e){t||O()}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class At{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class kz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L_e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class V_e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U_e{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new At;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new At,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new At)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new kz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new $t(e)}}class B_e{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class $_e{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new B_e(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j_e{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.T=n.token,new Pz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function H_e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Oz{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=H_e(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}class x_{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===x_.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof x_?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class le extends x_{construct(e,n,r){return new le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new C(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new le(n)}static emptyPath(){return new le([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(le.fromString(e))}static fromName(e){return new M(le.fromString(e).popFirst(5))}static empty(){return new M(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===le.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new le(e.slice()))}}function Hs(t){return"IndexedDbTransactionError"===t.name}class Ue{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new O_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new O_(this.root,e,this.comparator,!1)}getReverseIterator(){return new O_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new O_(this.root,e,this.comparator,!0)}}class O_{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Zt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yz(this.data.getIterator())}getIteratorFrom(e){return new Yz(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class Yz{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Xz("Invalid base64 string: "+i):i}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function st(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}Mt.EMPTY_BYTE_STRING=new Mt("");class mye{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class aa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new aa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof aa&&e.projectId===this.projectId&&e.database===this.database}}var vt,de;new Ue(M.comparator),new Ue(M.comparator),new Ue(M.comparator),new je(M.comparator),new je(q),(de=vt||(vt={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS",new F_e([4294967295,4294967295],0);class ma{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),function Nh(t){return 0===t&&1/t==-1/0}(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(function Yi(t){return"string"==typeof t?Mt.fromBase64String(t):Mt.fromUint8Array(t)}(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?function t4(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}ma.Ve=new ma,new Uint8Array(0);class fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cy(){return typeof document<"u"?document:null}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class xM{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class QM{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new At,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new QM(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Swe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=Oz.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new At;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function Tc(t,e){if(ht("AsyncQueue",`${e}: ${t}`),Hs(t))return new C(E.UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function _q(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const yq=new Map;function ue(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new C(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function _y(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}(t);throw new C(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class Iq{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new C(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Fwe(t,e,n,r){if(!0===e&&!0===r)throw new C(E.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_q(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new C(E.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iq({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new C(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iq(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new L_e;switch(n.type){case"firstParty":return new $_e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new C(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=yq.get(e);n&&(S("ComponentProvider","Removing Datastore"),yq.delete(e),n.terminate())}(this),Promise.resolve()}}class Uwe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new xM(this,"async_queue_retry"),this.Xc=()=>{const n=cy();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=cy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=cy();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new At;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return m(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Hs(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ht("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=QM.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return m(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ge extends uf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Uwe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function Dq(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new mye(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_q(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Swe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function $we(t,e){const r="string"==typeof t?t:e||"(default)",i=Es("object"==typeof t?t:cd(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KI("firestore");s&&function Lwe(t,e,n,r={}){var i;const s=(t=ue(t,uf))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function di(t,...e){if($s.logLevel<=fe.WARN){const n=e.map(OA);$s.warn(`Firestore (${Sh}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=$t.MOCK_USER;else{a=vU(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new C(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $t(c)}t._authCredentials=new V_e(new kz(a,u))}}(i,...s)}return i}!function(t,e=!0){Sh=Is,Kt(new Pt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ge(new U_e(n.getProvider("auth-internal")),new j_e(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new C(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new aa(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Me(Rz,"3.13.0",t),Me(Rz,"3.13.0","esm2017")}();class Gx{constructor(e){return e}}const zq="firestore",zx=new F("angularfire2.firestore-instances");function pEe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Gx(r)}}const gEe={provide:class hEe{constructor(){return pd(zq)}},deps:[[new Ye,zx]]},mEe={provide:Gx,useFactory:function fEe(t,e){const n=fd(zq,t,e);return n&&new Gx(n)},deps:[[new Ye,zx],Ds]};let _Ee=(()=>{class t{constructor(){Me("angularfire",Pu.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({providers:[mEe,gEe]}),t})();function yEe(t,...e){return{ngModule:_Ee,providers:[{provide:zx,useFactory:pEe(t),multi:!0,deps:[Ce,yn,gd,md,[new Ye,Cm],[new Ye,vd],...e]}]}}const vEe=$o($we,!0),qx="functions";class DEe{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return m(function*(){if(e.auth)try{const n=yield e.auth.getToken();return n?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return m(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var n=this;return m(function*(){if(n.appCheck){const r=e?yield n.appCheck.getLimitedUseToken():yield n.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var n=this;return m(function*(){return{authToken:yield n.getAuthToken(),messagingToken:yield n.getMessagingToken(),appCheckToken:yield n.getAppCheckToken(e)}})()}}const Kx="us-central1";class bEe{constructor(e,n,r,i,s=Kx,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new DEe(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=Kx}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const Qq="@firebase/functions";function FEe(t=cd(),e=Kx){const r=Es(Yn(t),qx).getImmediate({identifier:e}),i=KI("functions");return i&&function LEe(t,e,n){!function SEe(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(Yn(t),e,n)}(r,...i),r}!function OEe(t,e){Kt(new Pt(qx,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),u=r.getProvider("app-check-internal");return new bEe(s,o,a,u,i,t)},"PUBLIC").setMultipleInstances(!0)),Me(Qq,"0.10.0",e),Me(Qq,"0.10.0","esm2017")}(fetch.bind(self));class Xx{constructor(e){return e}}const Xq="functions",Jx=new F("angularfire2.functions-instances");function BEe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xx(r)}}const $Ee={provide:class VEe{constructor(){return pd(Xq)}},deps:[[new Ye,Jx]]},jEe={provide:Xx,useFactory:function UEe(t,e){const n=fd(Xq,t,e);return n&&new Xx(n)},deps:[[new Ye,Jx],Ds]};let HEe=(()=>{class t{constructor(){Me("angularfire",Pu.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({providers:[jEe,$Ee]}),t})();function GEe(t,...e){return{ngModule:HEe,providers:[{provide:Jx,useFactory:BEe(t),multi:!0,deps:[Ce,yn,gd,md,[new Ye,Cm],[new Ye,vd],...e]}]}}const zEe=$o(FEe,!0),WEe=[];let qEe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({imports:[Mo.forChild(WEe),Mo]}),t})(),KEe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t}),t.\u0275inj=mt({imports:[HE,qEe]}),t})(),QEe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ct({type:t,bootstrap:[afe]}),t.\u0275inj=mt({imports:[zee,ofe,a2,ife,yce(()=>vce(ufe_firebase)),efe(()=>tfe()),Pme(()=>Ome()),yEe(()=>vEe()),GEe(()=>zEe()),KEe]}),t})();Hee().bootstrapModule(QEe).catch(t=>console.error(t))}},Ae=>{Ae(Ae.s=839)}]);