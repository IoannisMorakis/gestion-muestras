"use strict";(self.webpackChunkgestion_muestras=self.webpackChunkgestion_muestras||[]).push([[179],{9143:(me,D,R)=>{function N(n){return"function"==typeof n}function B(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const U=B(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function F(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class j{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(N(r))try{r()}catch(o){e=o instanceof U?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{G(o)}catch(s){e=e??[],s instanceof U?e=[...e,...s.errors]:e.push(s)}}if(e)throw new U(e)}}add(e){var t;if(e&&e!==this)if(this.closed)G(e);else{if(e instanceof j){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&F(t,e)}remove(e){const{_finalizers:t}=this;t&&F(t,e),e instanceof j&&e._removeParent(this)}}j.EMPTY=(()=>{const n=new j;return n.closed=!0,n})();const q=j.EMPTY;function O(n){return n instanceof j||n&&"closed"in n&&N(n.remove)&&N(n.add)&&N(n.unsubscribe)}function G(n){N(n)?n():n.unsubscribe()}const I={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},f={setTimeout(n,e,...t){const{delegate:r}=f;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=f;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function m(n){f.setTimeout(()=>{const{onUnhandledError:e}=I;if(!e)throw n;e(n)})}function v(){}const y=P("C",void 0,void 0);function P(n,e,t){return{kind:n,value:e,error:t}}let K=null;function te(n){if(I.useDeprecatedSynchronousErrorHandling){const e=!K;if(e&&(K={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=K;if(K=null,t)throw r}}else n()}class Et extends j{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,O(e)&&e.add(this)):this.destination=Yt}static create(e,t,r){return new xs(e,t,r)}next(e){this.isStopped?It(function A(n){return P("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?It(function x(n){return P("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?It(y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ni=Function.prototype.bind;function yi(n,e){return ni.call(n,e)}class Aa{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Es(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Es(r)}else Es(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Es(t)}}}class xs extends Et{constructor(e,t,r){let i;if(super(),N(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&I.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yi(e.next,o),error:e.error&&yi(e.error,o),complete:e.complete&&yi(e.complete,o)}):i=e}this.destination=new Aa(i)}}function Es(n){I.useDeprecatedSynchronousErrorHandling?function ce(n){I.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=n)}(n):m(n)}function It(n,e){const{onStoppedNotification:t}=I;t&&f.setTimeout(()=>t(n,e))}const Yt={closed:!0,next:v,error:function Ke(n){throw n},complete:v},wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function it(n){return n}function Lp(n){return 0===n.length?it:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function q8(n){return n&&n instanceof Et||function G8(n){return n&&N(n.next)&&N(n.error)&&N(n.complete)}(n)&&O(n)}(t)?t:new xs(t,r,i);return te(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=PP(r))((i,o)=>{const s=new xs({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[wt](){return this}pipe(...t){return Lp(t)(this)}toPromise(t){return new(t=PP(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function PP(n){var e;return null!==(e=n??I.Promise)&&void 0!==e?e:Promise}const W8=B(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ri=(()=>{class n extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new OP(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new W8}next(t){te(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){te(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){te(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?q:(this.currentObservers=null,o.push(t),new j(()=>{this.currentObservers=null,F(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Ct;return t.source=this,t}}return n.create=(e,t)=>new OP(e,t),n})();class OP extends ri{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:q}}class Vr extends ri{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function kP(n){return N(n?.lift)}function wn(n){return e=>{if(kP(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Cn(n,e,t,r,i){return new K8(n,e,t,r,i)}class K8 extends Et{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ze(n,e){return wn((t,r)=>{let i=0;t.subscribe(Cn(r,o=>{r.next(n.call(e,o,i++))}))})}function rv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Is(n){return this instanceof Is?(this.v=n,this):new Is(n)}function LP(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function ov(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const sv=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function VP(n){return N(n?.then)}function UP(n){return N(n[wt])}function BP(n){return Symbol.asyncIterator&&N(n?.[Symbol.asyncIterator])}function jP(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zP=function gH(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $P(n){return N(n?.[zP])}function HP(n){return function FP(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(p){return new Promise(function(b,E){o.push([h,p,b,E])>1||a(h,p)})})}function a(h,p){try{!function c(h){h.value instanceof Is?Promise.resolve(h.value.v).then(l,u):d(o[0][2],h)}(r[h](p))}catch(b){d(o[0][3],b)}}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Is(t.read());if(i)return yield Is(void 0);yield yield Is(r)}}finally{t.releaseLock()}})}function GP(n){return N(n?.getReader)}function Tr(n){if(n instanceof Ct)return n;if(null!=n){if(UP(n))return function mH(n){return new Ct(e=>{const t=n[wt]();if(N(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(sv(n))return function _H(n){return new Ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(VP(n))return function yH(n){return new Ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,m)})}(n);if(BP(n))return qP(n);if($P(n))return function vH(n){return new Ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(GP(n))return function bH(n){return qP(HP(n))}(n)}throw jP(n)}function qP(n){return new Ct(e=>{(function wH(n,e){var t,r,i,o;return function NP(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=LP(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Vo(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Sn(n,e,t=1/0){return N(e)?Sn((r,i)=>Ze((o,s)=>e(r,o,i,s))(Tr(n(r,i))),t):("number"==typeof e&&(t=e),wn((r,i)=>function CH(n,e,t,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&e.complete()},p=E=>l<r?b(E):c.push(E),b=E=>{o&&e.next(E),l++;let M=!1;Tr(t(E,u++)).subscribe(Cn(e,k=>{i?.(k),o?p(k):e.next(k)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){const k=c.shift();s?Vo(e,s,()=>b(k)):b(k)}h()}catch(k){e.error(k)}}))};return n.subscribe(Cn(e,p,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function zc(n=1/0){return Sn(it,n)}const to=new Ct(n=>n.complete());function WP(n){return n&&N(n.schedule)}function av(n){return n[n.length-1]}function KP(n){return N(av(n))?n.pop():void 0}function td(n){return WP(av(n))?n.pop():void 0}function Vp(n,e=0){return wn((t,r)=>{t.subscribe(Cn(r,i=>Vo(r,n,()=>r.next(i),e),()=>Vo(r,n,()=>r.complete(),e),i=>Vo(r,n,()=>r.error(i),e)))})}function Up(n,e=0){return wn((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function QP(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ct(t=>{Vo(t,e,()=>{const r=n[Symbol.asyncIterator]();Vo(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Un(n,e){return e?function SH(n,e){if(null!=n){if(UP(n))return function IH(n,e){return Tr(n).pipe(Up(e),Vp(e))}(n,e);if(sv(n))return function DH(n,e){return new Ct(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(VP(n))return function TH(n,e){return Tr(n).pipe(Up(e),Vp(e))}(n,e);if(BP(n))return QP(n,e);if($P(n))return function AH(n,e){return new Ct(t=>{let r;return Vo(t,e,()=>{r=n[zP](),Vo(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}(n,e);if(GP(n))return function MH(n,e){return QP(HP(n),e)}(n,e)}throw jP(n)}(n,e):Tr(n)}function cv(...n){const e=td(n),t=function EH(n,e){return"number"==typeof av(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Tr(r[0]):zc(t)(Un(r,e)):to}function we(...n){return Un(n,td(n))}function YP(n={}){const{connector:e=(()=>new ri),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),s=c=void 0,u=d=!1},b=()=>{const E=s;p(),E?.unsubscribe()};return wn((E,M)=>{l++,!d&&!u&&h();const k=c=c??e();M.add(()=>{l--,0===l&&!d&&!u&&(a=lv(b,i))}),k.subscribe(M),!s&&l>0&&(s=new xs({next:S=>k.next(S),error:S=>{d=!0,h(),a=lv(p,t,S),k.error(S)},complete:()=>{u=!0,h(),a=lv(p,r),k.complete()}}),Tr(E).subscribe(s))})(o)}}function lv(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new xs({next:()=>{r.unsubscribe(),n()}});return Tr(e(...t)).subscribe(r)}function Ur(n,e){return wn((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Cn(r,c=>{i?.unsubscribe();let l=0;const u=o++;Tr(n(c,u)).subscribe(i=Cn(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function OH(n,e){return n===e}function gt(n){for(let e in n)if(n[e]===gt)return e;throw Error("Could not find renamed property on target object.")}function Bp(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function uv(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const kH=gt({__forward_ref__:gt});function Mt(n){return n.__forward_ref__=Mt,n.toString=function(){return Pn(this())},n}function Te(n){return dv(n)?n():n}function dv(n){return"function"==typeof n&&n.hasOwnProperty(kH)&&n.__forward_ref__===Mt}function hv(n){return n&&!!n.\u0275providers}const XP="https://g.co/ng/security#xss";class X extends Error{constructor(e,t){super(function jp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function zp(n,e){throw new X(-201,!1)}function vi(n,e){null==n&&function ct(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function _e(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Lt(n){return{providers:n.providers||[],imports:n.imports||[]}}function $p(n){return JP(n,Hp)||JP(n,eO)}function JP(n,e){return n.hasOwnProperty(e)?n[e]:null}function ZP(n){return n&&(n.hasOwnProperty(fv)||n.hasOwnProperty(jH))?n[fv]:null}const Hp=gt({\u0275prov:gt}),fv=gt({\u0275inj:gt}),eO=gt({ngInjectableDef:gt}),jH=gt({ngInjectorDef:gt});var ze=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ze||{});let pv;function Br(n){const e=pv;return pv=n,e}function nO(n,e,t){const r=$p(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ze.Optional?null:void 0!==e?e:void zp(Pn(n))}const Tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nd={},gv="__NG_DI_FLAG__",Gp="ngTempTokenPath",$H=/\n/gm,rO="__source";let $c;function Ts(n){const e=$c;return $c=n,e}function qH(n,e=ze.Default){if(void 0===$c)throw new X(-203,!1);return null===$c?nO(n,void 0,e):$c.get(n,e&ze.Optional?null:void 0,e)}function ge(n,e=ze.Default){return(function tO(){return pv}()||qH)(Te(n),e)}function he(n,e=ze.Default){return ge(n,qp(e))}function qp(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function mv(n){const e=[];for(let t=0;t<n.length;t++){const r=Te(n[t]);if(Array.isArray(r)){if(0===r.length)throw new X(900,!1);let i,o=ze.Default;for(let s=0;s<r.length;s++){const a=r[s],c=WH(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ge(i,o))}else e.push(ge(r))}return e}function rd(n,e){return n[gv]=e,n.prototype[gv]=e,n}function WH(n){return n[gv]}function Uo(n){return{toString:n}.toString()}var Wp=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Wp||{}),Ni=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ni||{});const no={},ot=[],Kp=gt({\u0275cmp:gt}),_v=gt({\u0275dir:gt}),yv=gt({\u0275pipe:gt}),oO=gt({\u0275mod:gt}),Bo=gt({\u0275fac:gt}),id=gt({__NG_ELEMENT_ID__:gt}),sO=gt({__NG_ENV_ID__:gt});function aO(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function vv(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];lO(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function cO(n){return 3===n||4===n||6===n}function lO(n){return 64===n.charCodeAt(0)}function od(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||uO(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function uO(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const dO="ng-template";function YH(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==aO(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function hO(n){return 4===n.type&&n.value!==dO}function XH(n,e,t){return e===(4!==n.type||t?n.value:dO)}function JH(n,e,t){let r=4;const i=n.attrs||[],o=function tG(n){for(let e=0;e<n.length;e++)if(cO(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!XH(n,c,t)||""===c&&1===e.length){if(Ri(r))return!1;s=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!YH(n.attrs,l,t)){if(Ri(r))return!1;s=!0}continue}const d=ZH(8&r?"class":c,i,hO(n),t);if(-1===d){if(Ri(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const p=8&r?h:null;if(p&&-1!==aO(p,l,0)||2&r&&l!==h){if(Ri(r))return!1;s=!0}}}}else{if(!s&&!Ri(r)&&!Ri(c))return!1;if(s&&Ri(c))continue;s=!1,r=c|1&r}}return Ri(r)||s}function Ri(n){return 0==(1&n)}function ZH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function nG(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function fO(n,e,t=!1){for(let r=0;r<e.length;r++)if(JH(n,e[r],t))return!0;return!1}function pO(n,e){return n?":not("+e.trim()+")":e}function iG(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ri(s)&&(e+=pO(o,i),i=""),r=s,o=o||!Ri(r);t++}return""!==i&&(e+=pO(o,i)),e}function Ve(n){return Uo(()=>{const e=mO(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Wp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ni.Emulated,styles:n.styles||ot,_:null,schemas:n.schemas||null,tView:null,id:""};_O(t);const r=n.dependencies;return t.directiveDefs=Qp(r,!1),t.pipeDefs=Qp(r,!0),t.id=function hG(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function cG(n){return lt(n)||hr(n)}function lG(n){return null!==n}function Gt(n){return Uo(()=>({type:n.type,bootstrap:n.bootstrap||ot,declarations:n.declarations||ot,imports:n.imports||ot,exports:n.exports||ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gO(n,e){if(null==n)return no;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function Ie(n){return Uo(()=>{const e=mO(n);return _O(e),e})}function lt(n){return n[Kp]||null}function hr(n){return n[_v]||null}function zr(n){return n[yv]||null}function oi(n,e){const t=n[oO]||null;if(!t&&!0===e)throw new Error(`Type ${Pn(n)} does not have '\u0275mod' property.`);return t}function mO(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||no,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ot,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gO(n.inputs,e),outputs:gO(n.outputs)}}function _O(n){n.features?.forEach(e=>e(n))}function Qp(n,e){if(!n)return null;const t=e?zr:cG;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(lG)}const On=0,se=1,Se=2,Xt=3,Fi=4,sd=5,fr=6,Gc=7,un=8,qc=9,Sa=10,Pe=11,ad=12,yO=13,Wc=14,dn=15,cd=16,Kc=17,ro=18,ld=19,vO=20,Ds=21,jo=22,Yp=23,Xp=24,qe=25,bv=1,bO=2,io=7,Qc=9,pr=11;function si(n){return Array.isArray(n)&&"object"==typeof n[bv]}function $r(n){return Array.isArray(n)&&!0===n[bv]}function wv(n){return 0!=(4&n.flags)}function Pa(n){return n.componentOffset>-1}function Zp(n){return 1==(1&n.flags)}function Li(n){return!!n.template}function Cv(n){return 0!=(512&n[Se])}function Oa(n,e){return n.hasOwnProperty(Bo)?n[Bo]:null}let yG=Tt.WeakRef??class _G{constructor(e){this.ref=e}deref(){return this.ref}},bG=0,oo=null,eg=!1;function Bn(n){const e=oo;return oo=n,e}class IO{constructor(){this.id=bG++,this.ref=function vG(n){return new yG(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const r=t.producerNode.deref();if(null!=r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=eg;eg=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{eg=e}}producerAccessed(){if(eg)throw new Error("");if(null===oo)return;let e=oo.producers.get(this.id);void 0===e?(e={consumerNode:oo.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:oo.trackingVersion},oo.producers.set(this.id,e),this.consumers.set(oo.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=oo.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==oo?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let TO=null;const AO=()=>{};class EG extends IO{constructor(e,t,r){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=AO,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Bn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=AO,this.watch(this.registerOnCleanup)}finally{Bn(e)}}cleanup(){this.cleanupFn()}}class IG{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function bi(){return MO}function MO(n){return n.type.prototype.ngOnChanges&&(n.setInput=DG),TG}function TG(){const n=PO(this),e=n?.current;if(e){const t=n.previous;if(t===no)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function DG(n,e,t,r){const i=this.declaredInputs[t],o=PO(n)||function AG(n,e){return n[SO]=e}(n,{previous:no,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new IG(c&&c.currentValue,e,a===no),n[r]=e}bi.ngInherit=!0;const SO="__ngSimpleChanges__";function PO(n){return n[SO]||null}const so=function(n,e,t){};function Vt(n){for(;Array.isArray(n);)n=n[On];return n}function rg(n,e){return Vt(e[n])}function Hr(n,e){return Vt(e[n.index])}function NO(n,e){return n.data[e]}function ai(n,e){const t=e[n];return si(t)?t:t[On]}function As(n,e){return null==e?null:n[e]}function RO(n){n[Kc]=0}function RG(n){1024&n[Se]||(n[Se]|=1024,LO(n,1))}function FO(n){1024&n[Se]&&(n[Se]&=-1025,LO(n,-1))}function LO(n,e){let t=n[Xt];if(null===t)return;t[sd]+=e;let r=t;for(t=t[Xt];null!==t&&(1===e&&1===r[sd]||-1===e&&0===r[sd]);)t[sd]+=e,r=t,t=t[Xt]}const xe={lFrame:KO(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BO(){return xe.bindingsEnabled}function W(){return xe.lFrame.lView}function et(){return xe.lFrame.tView}function Ue(n){return xe.lFrame.contextLView=n,n[un]}function Be(n){return xe.lFrame.contextLView=null,n}function Xn(){let n=jO();for(;null!==n&&64===n.type;)n=n.parent;return n}function jO(){return xe.lFrame.currentTNode}function ao(n,e){const t=xe.lFrame;t.currentTNode=n,t.isParent=e}function Av(){return xe.lFrame.isParent}function Jc(){return xe.lFrame.bindingIndex++}function WG(n,e){const t=xe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Sv(e)}function Sv(n){xe.lFrame.currentDirectiveIndex=n}function GO(){return xe.lFrame.currentQueryIndex}function Ov(n){xe.lFrame.currentQueryIndex=n}function QG(n){const e=n[se];return 2===e.type?e.declTNode:1===e.type?n[fr]:null}function qO(n,e,t){if(t&ze.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ze.Host||(i=QG(o),null===i||(o=o[Wc],10&i.type))););if(null===i)return!1;e=i,n=o}const r=xe.lFrame=WO();return r.currentTNode=e,r.lView=n,!0}function kv(n){const e=WO(),t=n[se];xe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WO(){const n=xe.lFrame,e=null===n?null:n.child;return null===e?KO(n):e}function KO(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function QO(){const n=xe.lFrame;return xe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const YO=QO;function Nv(){const n=QO();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ar(){return xe.lFrame.selectedIndex}function ka(n){xe.lFrame.selectedIndex=n}function Rv(){xe.lFrame.currentNamespace="svg"}let ZO=!0;function ig(){return ZO}function Ms(n){ZO=n}function og(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function sg(n,e,t){ek(n,e,3,t)}function ag(n,e,t,r){(3&n[Se])===t&&ek(n,e,t,r)}function Fv(n,e){let t=n[Se];(3&t)===e&&(t&=8191,t+=1,n[Se]=t)}function ek(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Kc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Kc]+=65536),(a<o||-1==o)&&(tq(n,t,e,c),n[Kc]=(4294901760&n[Kc])+c+2),c++}function tk(n,e){so(4,n,e);const t=Bn(null);try{e.call(n)}finally{Bn(t),so(5,n,e)}}function tq(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[Se]>>13<n[Kc]>>16&&(3&n[Se])===e&&(n[Se]+=8192,tk(a,o)):tk(a,o)}const Zc=-1;class hd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function nk(n){return n!==Zc}function cg(n){return 32767&n}function lg(n,e){let t=function oq(n){return n>>16}(n),r=e;for(;t>0;)r=r[Wc],t--;return r}let Vv=!0;function ug(n){const e=Vv;return Vv=n,e}const rk=255,ik=5;let sq=0;const co={};function dg(n,e){const t=ok(n,e);if(-1!==t)return t;const r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,Uv(r.data,n),Uv(e,null),Uv(r.blueprint,null));const i=Bv(n,e),o=n.injectorIndex;if(nk(i)){const s=cg(i),a=lg(i,e),c=a[se].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Uv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ok(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Bv(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=hk(i),null===r)return Zc;if(t++,i=i[Wc],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Zc}function jv(n,e,t){!function aq(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(id)&&(r=t[id]),null==r&&(r=t[id]=sq++);const i=r&rk;e.data[n+(i>>ik)]|=1<<i}(n,e,t)}function sk(n,e,t){if(t&ze.Optional||void 0!==n)return n;zp()}function ak(n,e,t,r){if(t&ze.Optional&&void 0===r&&(r=null),!(t&(ze.Self|ze.Host))){const i=n[qc],o=Br(void 0);try{return i?i.get(e,r,t&ze.Optional):nO(e,r,t&ze.Optional)}finally{Br(o)}}return sk(r,0,t)}function ck(n,e,t,r=ze.Default,i){if(null!==n){if(2048&e[Se]&&!(r&ze.Self)){const s=function hq(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Se]&&!(512&s[Se]);){const a=lk(o,s,t,r|ze.Self,co);if(a!==co)return a;let c=o.parent;if(!c){const l=s[vO];if(l){const u=l.get(t,co,r);if(u!==co)return u}c=hk(s),s=s[Wc]}o=c}return i}(n,e,t,r,co);if(s!==co)return s}const o=lk(n,e,t,r,co);if(o!==co)return o}return ak(e,t,r,i)}function lk(n,e,t,r,i){const o=function uq(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(id)?n[id]:void 0;return"number"==typeof e?e>=0?e&rk:dq:e}(t);if("function"==typeof o){if(!qO(e,n,r))return r&ze.Host?sk(i,0,r):ak(e,t,r,i);try{const s=o(r);if(null!=s||r&ze.Optional)return s;zp()}finally{YO()}}else if("number"==typeof o){let s=null,a=ok(n,e),c=Zc,l=r&ze.Host?e[dn][fr]:null;for((-1===a||r&ze.SkipSelf)&&(c=-1===a?Bv(n,e):e[a+8],c!==Zc&&dk(r,!1)?(s=e[se],a=cg(c),e=lg(c,e)):a=-1);-1!==a;){const u=e[se];if(uk(o,a,u.data)){const d=lq(a,e,t,s,r,l);if(d!==co)return d}c=e[a+8],c!==Zc&&dk(r,e[se].data[a+8]===l)&&uk(o,a,e)?(s=u,a=cg(c),e=lg(c,e)):a=-1}}return i}function lq(n,e,t,r,i,o){const s=e[se],a=s.data[n+8],u=hg(a,s,t,null==r?Pa(a)&&Vv:r!=s&&0!=(3&a.type),i&ze.Host&&o===a);return null!==u?Na(e,s,u,a):co}function hg(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,u=o>>20,h=i?a+u:n.directiveEnd;for(let p=r?a:a+u;p<h;p++){const b=s[p];if(p<c&&t===b||p>=c&&b.type===t)return p}if(i){const p=s[c];if(p&&Li(p)&&p.type===t)return c}return null}function Na(n,e,t,r){let i=n[t];const o=e.data;if(function nq(n){return n instanceof hd}(i)){const s=i;s.resolving&&function NH(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new X(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}(o[t]));const a=ug(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Br(s.injectImpl):null;qO(n,r,ze.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function eq(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=MO(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&Br(c),ug(a),s.resolving=!1,YO()}}return i}function uk(n,e,t){return!!(t[e+(n>>ik)]&1<<n)}function dk(n,e){return!(n&ze.Self||n&ze.Host&&e)}class el{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ck(this._tNode,this._lView,e,qp(r),t)}}function dq(){return new el(Xn(),W())}function Jn(n){return Uo(()=>{const e=n.prototype.constructor,t=e[Bo]||zv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Bo]||zv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function zv(n){return dv(n)?()=>{const e=zv(Te(n));return e&&e()}:Oa(n)}function hk(n){const e=n[se],t=e.type;return 2===t?e.declTNode:1===t?n[fr]:null}const nl="__parameters__";function il(n,e,t){return Uo(()=>{const r=function $v(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(nl)?c[nl]:Object.defineProperty(c,nl,{value:[]})[nl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function pd(n,e){n.forEach(t=>Array.isArray(t)?pd(t,e):e(t))}function pk(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ci(n,e,t){let r=sl(n,e);return r>=0?n[1|r]=t:(r=~r,function vq(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Hv(n,e){const t=sl(n,e);if(t>=0)return n[1|t]}function sl(n,e){return function gk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Zt=rd(il("Optional"),8),mg=rd(il("SkipSelf"),4);function wg(n){return 128==(128&n.flags)}var Ss=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Ss||{});const Qv=new Map;let $q=0;const Xv="__ngContext__";function gr(n,e){si(e)?(n[Xv]=e[ld],function Gq(n){Qv.set(n[ld],n)}(e)):n[Xv]=e}let Jv;function Zv(n,e){return Jv(n,e)}function yd(n){const e=n[Xt];return $r(e)?e[Xt]:e}function Rk(n){return Lk(n[ad])}function Fk(n){return Lk(n[Fi])}function Lk(n){for(;null!==n&&!$r(n);)n=n[Fi];return n}function ll(n,e,t,r,i){if(null!=r){let o,s=!1;$r(r)?o=r:si(r)&&(s=!0,r=r[On]);const a=Vt(r);0===n&&null!==t?null==i?zk(e,t,a):Ra(e,t,a,i||null,!0):1===n&&null!==t?Ra(e,t,a,i||null,!0):2===n?function Dg(n,e,t){const r=Ig(n,e);r&&function uW(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function fW(n,e,t,r,i){const o=t[io];o!==Vt(t)&&ll(e,n,r,o,i);for(let a=pr;a<t.length;a++){const c=t[a];bd(c[se],c,n,e,r,o)}}(e,n,o,t,i)}}function Eg(n,e,t){return n.createElement(e,t)}function Uk(n,e){const t=n[Qc],r=t.indexOf(e);FO(e),t.splice(r,1)}function tb(n,e){if(n.length<=pr)return;const t=pr+e,r=n[t];if(r){const i=r[cd];null!==i&&i!==n&&Uk(i,r),e>0&&(n[t-1][Fi]=r[Fi]);const o=pg(n,pr+e);!function nW(n,e){bd(n,e,e[Pe],2,null,null),e[On]=null,e[fr]=null}(r[se],r);const s=o[ro];null!==s&&s.detachView(o[se]),r[Xt]=null,r[Fi]=null,r[Se]&=-129}return r}function Bk(n,e){if(!(256&e[Se])){const t=e[Pe];e[Yp]?.destroy(),e[Xp]?.destroy(),t.destroyNode&&bd(n,e,t,3,null,null),function oW(n){let e=n[ad];if(!e)return nb(n[se],n);for(;e;){let t=null;if(si(e))t=e[ad];else{const r=e[pr];r&&(t=r)}if(!t){for(;e&&!e[Fi]&&e!==n;)si(e)&&nb(e[se],e),e=e[Xt];null===e&&(e=n),si(e)&&nb(e[se],e),t=e&&e[Fi]}e=t}}(e)}}function nb(n,e){if(!(256&e[Se])){e[Se]&=-129,e[Se]|=256,function lW(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof hd)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];so(4,a,c);try{c.call(a)}finally{so(5,a,c)}}else{so(4,i,o);try{o.call(i)}finally{so(5,i,o)}}}}}(n,e),function cW(n,e){const t=n.cleanup,r=e[Gc];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[Gc]=null);const i=e[Ds];if(null!==i){e[Ds]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[se].type&&e[Pe].destroy();const t=e[cd];if(null!==t&&$r(e[Xt])){t!==e[Xt]&&Uk(t,e);const r=e[ro];null!==r&&r.detachView(n)}!function qq(n){Qv.delete(n[ld])}(e)}}function rb(n,e,t){return function jk(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[On];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Ni.None||o===Ni.Emulated)return null}return Hr(r,t)}}(n,e.parent,t)}function Ra(n,e,t,r,i){n.insertBefore(e,t,r,i)}function zk(n,e,t){n.appendChild(e,t)}function $k(n,e,t,r,i){null!==r?Ra(n,e,t,r,i):zk(n,e,t)}function Ig(n,e){return n.parentNode(e)}let ib,cb,qk=function Gk(n,e,t){return 40&n.type?Hr(n,t):null};function Tg(n,e,t,r){const i=rb(n,r,e),o=e[Pe],a=function Hk(n,e,t){return qk(n,e,t)}(r.parent||e[fr],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)$k(o,i,t[c],a,!1);else $k(o,i,t,a,!1);void 0!==ib&&ib(o,r,e,t,i)}function vd(n,e){if(null!==e){const t=e.type;if(3&t)return Hr(e,n);if(4&t)return ob(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return vd(n,r);{const i=n[e.index];return $r(i)?ob(-1,i):Vt(i)}}if(32&t)return Zv(e,n)()||Vt(n[e.index]);{const r=Kk(n,e);return null!==r?Array.isArray(r)?r[0]:vd(yd(n[dn]),r):vd(n,e.next)}}return null}function Kk(n,e){return null!==e?n[dn][fr].projection[e.projection]:null}function ob(n,e){const t=pr+n+1;if(t<e.length){const r=e[t],i=r[se].firstChild;if(null!==i)return vd(r,i)}return e[io]}function sb(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&gr(Vt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)sb(n,e,t.child,r,i,o,!1),ll(e,n,i,a,o);else if(32&c){const l=Zv(t,r);let u;for(;u=l();)ll(e,n,i,u,o);ll(e,n,i,a,o)}else 16&c?Yk(n,e,r,t,i,o):ll(e,n,i,a,o);t=s?t.projectionNext:t.next}}function bd(n,e,t,r,i,o){sb(t,r,n.firstChild,e,i,o,!1)}function Yk(n,e,t,r,i,o){const s=t[dn],c=s[fr].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ll(e,n,i,c[l],o);else{let l=c;const u=s[Xt];wg(r)&&(l.flags|=128),sb(n,e,l,u,i,o,!0)}}function Xk(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Jk(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&vv(n,e,r),null!==i&&Xk(n,e,i),null!==o&&function gW(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}class nN{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XP})`}}function Ps(n){return n instanceof nN?n.changingThisBreaksApplicationSecurity:n}const MW=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var dl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(dl||{});function pb(n){const e=function Ed(){const n=W();return n&&n[Sa].sanitizer}();return e?e.sanitize(dl.URL,n)||"":function Cd(n,e){const t=function IW(n){return n instanceof nN&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${XP})`)}return t===e}(n,"URL")?Ps(n):function ub(n){return(n=String(n)).match(MW)?n:"unsafe:"+n}(Ae(n))}class le{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=_e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Id=new le("ENVIRONMENT_INITIALIZER"),dN=new le("INJECTOR",-1),hN=new le("INJECTOR_DEF_TYPES");class fN{get(e,t=nd){if(t===nd){const r=new Error(`NullInjectorError: No provider for ${Pn(e)}!`);throw r.name="NullInjectorError",r}return t}}function zW(...n){return{\u0275providers:pN(0,n),\u0275fromNgModule:!0}}function pN(n,...e){const t=[],r=new Set;let i;return pd(e,o=>{const s=o;mb(s,t,[],r)&&(i||=[],i.push(s))}),void 0!==i&&gN(i,t),t}function gN(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];_b(i,o=>{e.push(o)})}}function mb(n,e,t,r){if(!(n=Te(n)))return!1;let i=null,o=ZP(n);const s=!o&&lt(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=ZP(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)mb(l,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{pd(o.imports,u=>{mb(u,e,t,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&gN(l,e)}if(!a){const l=Oa(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:ot},{provide:hN,useValue:i,multi:!0},{provide:Id,useValue:()=>ge(i),multi:!0})}const c=o.providers;null==c||a||_b(c,u=>{e.push(u)})}}return i!==n&&void 0!==n.providers}function _b(n,e){for(let t of n)hv(t)&&(t=t.\u0275providers),Array.isArray(t)?_b(t,e):e(t)}const $W=gt({provide:String,useValue:gt});function yb(n){return null!==n&&"object"==typeof n&&$W in n}function Fa(n){return"function"==typeof n}const vb=new le("Set Injector scope."),Pg={},GW={};let bb;function Og(){return void 0===bb&&(bb=new fN),bb}class Go{}class wb extends Go{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,xb(e,s=>this.processProvider(s)),this.records.set(dN,hl(void 0,this)),i.has("environment")&&this.records.set(Go,hl(void 0,this));const o=this.records.get(vb);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hN.multi,ot,ze.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ts(this),r=Br(void 0);try{return e()}finally{Ts(t),Br(r)}}get(e,t=nd,r=ze.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sO))return e[sO](this);r=qp(r);const i=Ts(this),o=Br(void 0);try{if(!(r&ze.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function YW(n){return"function"==typeof n||"object"==typeof n&&n instanceof le}(e)&&$p(e);a=c&&this.injectableDefInScope(c)?hl(Cb(e),Pg):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ze.Self?Og():this.parent).get(e,t=r&ze.Optional&&t===nd?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Gp]=s[Gp]||[]).unshift(Pn(e)),i)throw s;return function KH(n,e,t,r){const i=n[Gp];throw e[rO]&&i.unshift(e[rO]),n.message=function QH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Pn(e);if(Array.isArray(e))i=e.map(Pn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Pn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace($H,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Gp]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{Br(o),Ts(i)}}resolveInjectorInitializers(){const e=Ts(this),t=Br(void 0);try{const r=this.get(Id.multi,ot,ze.Self);for(const i of r)i()}finally{Ts(e),Br(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Pn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){let t=Fa(e=Te(e))?e:Te(e&&e.provide);const r=function WW(n){return yb(n)?hl(void 0,n.useValue):hl(yN(n),Pg)}(e);if(Fa(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=hl(void 0,Pg,!0),i.factory=()=>mv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Pg&&(t.value=GW,t.value=t.factory()),"object"==typeof t.value&&t.value&&function QW(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Cb(n){const e=$p(n),t=null!==e?e.factory:Oa(n);if(null!==t)return t;if(n instanceof le)throw new X(204,!1);if(n instanceof Function)return function qW(n){const e=n.length;if(e>0)throw function gd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new X(204,!1);const t=function BH(n){return n&&(n[Hp]||n[eO])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new X(204,!1)}function yN(n,e,t){let r;if(Fa(n)){const i=Te(n);return Oa(i)||Cb(i)}if(yb(n))r=()=>Te(n.useValue);else if(function _N(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...mv(n.deps||[]));else if(function mN(n){return!(!n||!n.useExisting)}(n))r=()=>ge(Te(n.useExisting));else{const i=Te(n&&(n.useClass||n.provide));if(!function KW(n){return!!n.deps}(n))return Oa(i)||Cb(i);r=()=>new i(...mv(n.deps))}return r}function hl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function xb(n,e){for(const t of n)Array.isArray(t)?xb(t,e):t&&hv(t)?xb(t.\u0275providers,e):e(t)}const kg=new le("AppId",{providedIn:"root",factory:()=>XW}),XW="ng",vN=new le("Platform Initializer"),lo=new le("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bN=new le("CSP nonce",{providedIn:"root",factory:()=>function wd(){if(void 0!==cb)return cb;if(typeof document<"u")return document;throw new X(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let CN=(n,e)=>null;function xN(n,e){return CN(n,e)}class sK{}class TN{}class cK{resolveComponentFactory(e){throw function aK(n){const e=Error(`No component factory found for ${Pn(n)}.`);return e.ngComponent=n,e}(e)}}let Vg=(()=>{class n{}return n.NULL=new cK,n})();function lK(){return pl(Xn(),W())}function pl(n,e){return new qr(Hr(n,e))}let qr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=lK,n})();function uK(n){return n instanceof qr?n.nativeElement:n}class AN{}let Vi=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function dK(){const n=W(),t=ai(Xn().index,n);return(si(t)?t:n)[Pe]}(),n})(),hK=(()=>{class n{}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>null}),n})();class gl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const MN=new gl("16.1.6"),Nb={};function Ad(n){for(;n;){n[Se]|=64;const e=yd(n);if(Cv(n)&&!e)return n;n=e}return null}function Rb(n){return n.ngOriginalError}class La{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Rb(e);for(;t&&Rb(t);)t=Rb(t);return t||null}}const ON=new le("",{providedIn:"root",factory:()=>!1});function qo(n){return n instanceof Function?n():n}class LN extends IO{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Ad(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,r){const i=Bn(this);this.trackingVersion++;try{e(t,r)}finally{Bn(i)}}destroy(){this.trackingVersion++}}let Bg=null;function VN(){return Bg??=new LN,Bg}function UN(n,e){return n[e]??VN()}function BN(n,e){const t=VN();t.hasReadASignal&&(n[e]=Bg,t.lView=n,Bg=new LN)}const Oe={};function z(n){jN(et(),W(),Ar()+n,!1)}function jN(n,e,t,r){if(!r)if(3==(3&e[Se])){const o=n.preOrderCheckHooks;null!==o&&sg(e,o,t)}else{const o=n.preOrderHooks;null!==o&&ag(e,o,0,t)}ka(t)}function GN(n,e=null,t=null,r){const i=qN(n,e,t,r);return i.resolveInjectorInitializers(),i}function qN(n,e=null,t=null,r,i=new Set){const o=[t||ot,zW(n)];return r=r||("object"==typeof n?void 0:Pn(n)),new wb(o,e||Og(),r||null,i)}let mr=(()=>{class n{static create(t,r){if(Array.isArray(t))return GN({name:""},r,t,"");{const i=t.name??"";return GN({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=nd,n.NULL=new fN,n.\u0275prov=_e({token:n,providedIn:"any",factory:()=>ge(dN)}),n.__NG_ELEMENT_ID__=-1,n})();function T(n,e=ze.Default){const t=W();return null===t?ge(n,e):ck(Xn(),t,Te(n),e)}function jg(n,e,t,r,i,o,s,a,c,l,u){const d=e.blueprint.slice();return d[On]=i,d[Se]=140|r,(null!==l||n&&2048&n[Se])&&(d[Se]|=2048),RO(d),d[Xt]=d[Wc]=n,d[un]=t,d[Sa]=s||n&&n[Sa],d[Pe]=a||n&&n[Pe],d[qc]=c||n&&n[qc]||null,d[fr]=o,d[ld]=function Hq(){return $q++}(),d[jo]=u,d[vO]=l,d[dn]=2==e.type?n[dn]:d,d}function _l(n,e,t,r,i){let o=n.data[e];if(null===o)o=function Fb(n,e,t,r,i){const o=jO(),s=Av(),c=n.data[e]=function kK(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Xc(){return null!==xe.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function qG(){return xe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function dd(){const n=xe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ao(o,!0),o}function Md(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function KN(n,e,t,r,i){const o=UN(e,Yp),s=Ar(),a=2&r;try{if(ka(-1),a&&e.length>qe&&jN(n,e,qe,!1),so(a?2:0,i),a)o.runInContext(t,r,i);else{const l=Bn(null);try{t(r,i)}finally{Bn(l)}}}finally{a&&null===e[Yp]&&BN(e,Yp),ka(s),so(a?3:1,i)}}function Lb(n,e,t){if(wv(e)){const r=Bn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Bn(r)}}}function Vb(n,e,t){BO()&&(function BK(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Pa(t)&&function WK(n,e,t){const r=Hr(e,n),i=QN(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=zg(n,jg(n,i,null,s,r,e,null,n[Sa].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||dg(t,e),gr(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],l=Na(e,n,a,t);gr(l,e),null!==s&&KK(0,a-i,l,c,0,s),Li(c)&&(ai(t.index,e)[un]=Na(e,n,a,t))}}(n,e,t,Hr(t,e)),64==(64&t.flags)&&eR(n,e,t))}function Ub(n,e,t=Hr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function QN(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Bb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Bb(n,e,t,r,i,o,s,a,c,l,u){const d=qe+r,h=d+i,p=function DK(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Oe);return t}(d,h),b="function"==typeof l?l():l;return p[se]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}let YN=n=>null;function XN(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?JN(t,e,i,o):r.hasOwnProperty(i)&&JN(t,e,r[i],o)}return t}function JN(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function jb(n,e,t,r){if(BO()){const i=null===r?null:{"":-1},o=function zK(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(fO(e,s.selectors,!1))if(r||(r=[]),Li(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),zb(n,e,a.length)}else r.unshift(s),zb(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ZN(n,e,t,s,i,a),i&&function $K(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new X(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=od(t.mergedAttrs,t.attrs)}function ZN(n,e,t,r,i,o){for(let l=0;l<r.length;l++)jv(dg(t,e),n,r[l].type);!function GK(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Md(n,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];t.mergedAttrs=od(t.mergedAttrs,u.hostAttrs),qK(n,t,e,c,u),HK(c,u,i),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function NK(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],h=t?t.get(d):null,b=h?h.outputs:null;c=XN(d.inputs,u,c,h?h.inputs:null),l=XN(d.outputs,u,l,b);const E=null===c||null===s||hO(e)?null:QK(c,u,s);a.push(E)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function eR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function KG(){return xe.lFrame.currentDirectiveIndex}();try{ka(o);for(let a=r;a<i;a++){const c=n.data[a],l=e[a];Sv(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&jK(c,l)}}finally{ka(-1),Sv(s)}}function jK(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function zb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function HK(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Li(e)&&(t[""]=n)}}function qK(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Oa(i.type)),s=new hd(o,Li(i),T);n.blueprint[r]=s,t[r]=s,function VK(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function UK(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Md(n,t,i.hostVars,Oe),i)}function KK(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)tR(r,t,s[a++],s[a++],s[a++])}function tR(n,e,t,r,i){const o=Bn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Bn(o)}}function QK(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nR(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function rR(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Ov(t[r]),s.contentQueries(2,e[o],o)}}}function zg(n,e){return n[ad]?n[yO][Fi]=e:n[ad]=e,n[yO]=e,e}function Hb(n,e,t){Ov(0);const r=Bn(null);try{e(n,t)}finally{Bn(r)}}function iR(n){return n[Gc]||(n[Gc]=[])}function oR(n){return n.cleanup||(n.cleanup=[])}function aR(n,e){const t=n[qc],r=t?t.get(La,null):null;r&&r.handleError(e)}function Gb(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];tR(n.data[s],e[s],r,a,i)}}function YK(n,e){const t=ai(e,n),r=t[se];!function XK(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[On];null!==i&&null===t[jo]&&(t[jo]=xN(i,t[qc])),qb(r,t,t[un])}function qb(n,e,t){kv(e);try{const r=n.viewQuery;null!==r&&Hb(1,r,t);const i=n.template;null!==i&&KN(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&rR(n,e),n.staticViewQueries&&Hb(2,n.viewQuery,t);const o=n.components;null!==o&&function JK(n,e){for(let t=0;t<e.length;t++)YK(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Se]&=-5,Nv()}}let cR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new EG(t,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>new n}),n})();function $g(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=uv(i,a):2==o&&(r=uv(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Sd(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];if(null!==o&&r.push(Vt(o)),$r(o)){for(let a=pr;a<o.length;a++){const c=o[a],l=c[se].firstChild;null!==l&&Sd(c[se],c,l,r)}o[io]!==o[On]&&r.push(o[io])}const s=t.type;if(8&s)Sd(n,e,t.child,r);else if(32&s){const a=Zv(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Kk(e,t);if(Array.isArray(a))r.push(...a);else{const c=yd(e[dn]);Sd(c[se],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Hg(n,e,t,r=!0){const i=e[Sa].rendererFactory;i.begin&&i.begin();try{lR(n,e,n.template,t)}catch(s){throw r&&aR(e,s),s}finally{i.end&&i.end(),e[Sa].effectManager?.flush()}}function lR(n,e,t,r){const i=e[Se];if(256!=(256&i)){e[Sa].effectManager?.flush(),kv(e);try{RO(e),function $O(n){return xe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&KN(n,e,t,2,r);const s=3==(3&i);if(s){const l=n.preOrderCheckHooks;null!==l&&sg(e,l,null)}else{const l=n.preOrderHooks;null!==l&&ag(e,l,0,null),Fv(e,0)}if(function rQ(n){for(let e=Rk(n);null!==e;e=Fk(e)){if(!e[bO])continue;const t=e[Qc];for(let r=0;r<t.length;r++){RG(t[r])}}}(e),uR(e,2),null!==n.contentQueries&&rR(n,e),s){const l=n.contentCheckHooks;null!==l&&sg(e,l)}else{const l=n.contentHooks;null!==l&&ag(e,l,1),Fv(e,1)}!function TK(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=UN(e,Xp);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)ka(~o);else{const s=o,a=t[++i],c=t[++i];WG(a,s),r.runInContext(c,2,e[s])}}}finally{null===e[Xp]&&BN(e,Xp),ka(-1)}}(n,e);const a=n.components;null!==a&&hR(e,a,0);const c=n.viewQuery;if(null!==c&&Hb(2,c,r),s){const l=n.viewCheckHooks;null!==l&&sg(e,l)}else{const l=n.viewHooks;null!==l&&ag(e,l,2),Fv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Se]&=-73,FO(e)}finally{Nv()}}}function uR(n,e){for(let t=Rk(n);null!==t;t=Fk(t))for(let r=pr;r<t.length;r++)dR(t[r],e)}function iQ(n,e,t){dR(ai(e,n),t)}function dR(n,e){if(!function kG(n){return 128==(128&n[Se])}(n))return;const t=n[se];if(80&n[Se]&&0===e||1024&n[Se]||2===e)lR(t,n,t.template,n[un]);else if(n[sd]>0){uR(n,1);const i=n[se].components;null!==i&&hR(n,i,1)}}function hR(n,e,t){for(let r=0;r<e.length;r++)iQ(n,e[r],t)}class Pd{get rootNodes(){const e=this._lView,t=e[se];return Sd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(e){this._lView[un]=e}get destroyed(){return 256==(256&this._lView[Se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Xt];if($r(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(tb(e,r),pg(t,r))}this._attachedToViewContainer=!1}Bk(this._lView[se],this._lView)}onDestroy(e){!function VO(n,e){if(256==(256&n[Se]))throw new X(911,!1);null===n[Ds]&&(n[Ds]=[]),n[Ds].push(e)}(this._lView,e)}markForCheck(){Ad(this._cdRefInjectingView||this._lView)}detach(){this._lView[Se]&=-129}reattach(){this._lView[Se]|=128}detectChanges(){Hg(this._lView[se],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iW(n,e){bd(n,e,e[Pe],2,null,null)}(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e}}class oQ extends Pd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Hg(e[se],e,e[un],!1)}checkNoChanges(){}get context(){return null}}class fR extends Vg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=lt(e);return new Od(t,this.ngModule)}}function pR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class aQ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=qp(r);const i=this.injector.get(e,Nb,r);return i!==Nb||t===Nb?i:this.parentInjector.get(e,t,r)}}class Od extends TN{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=pR(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return pR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function oG(n){return n.map(iG).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Go?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new aQ(e,o):e,a=s.get(AN,null);if(null===a)throw new X(407,!1);const u={rendererFactory:a,sanitizer:s.get(hK,null),effectManager:s.get(cR,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function AK(n,e,t,r){const o=r.get(ON,!1)||t===Ni.ShadowDom,s=n.selectRootElement(e,o);return function MK(n){YN(n)}(s),s}(d,r,this.componentDef.encapsulation,s):Eg(d,h,function sQ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528,k=Bb(0,null,null,1,0,null,null,null,null,null,null),S=jg(null,k,null,M,null,null,u,d,s,null,null);let $,J;kv(S);try{const ae=this.componentDef;let be,Ft=null;ae.findHostDirectiveDefs?(be=[],Ft=new Map,ae.findHostDirectiveDefs(ae,be,Ft),be.push(ae)):be=[ae];const Mn=function lQ(n,e){const t=n[se],r=qe;return n[r]=e,_l(t,r,2,"#host",null)}(S,p),ki=function uQ(n,e,t,r,i,o,s){const a=i[se];!function dQ(n,e,t,r){for(const i of n)e.mergedAttrs=od(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&($g(e,e.mergedAttrs,!0),null!==t&&Jk(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=xN(e,i[qc]));const l=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=jg(i,QN(t),null,u,i[n.index],n,o,l,null,null,c);return a.firstCreatePass&&zb(a,n,r.length-1),zg(i,d),i[n.index]=d}(Mn,p,ae,be,S,u,d);J=NO(k,qe),p&&function fQ(n,e,t,r){if(r)vv(n,t,["ng-version",MN.full]);else{const{attrs:i,classes:o}=function sG(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Ri(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&vv(n,t,i),o&&o.length>0&&Xk(n,t,o.join(" "))}}(d,ae,p,r),void 0!==t&&function pQ(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(J,this.ngContentSelectors,t),$=function hQ(n,e,t,r,i,o){const s=Xn(),a=i[se],c=Hr(s,i);ZN(a,i,s,t,null,r);for(let u=0;u<t.length;u++)gr(Na(i,a,s.directiveStart+u,s),i);eR(a,i,s),c&&gr(c,i);const l=Na(i,a,s.directiveStart+s.componentOffset,s);if(n[un]=i[un]=l,null!==o)for(const u of o)u(l,e);return Lb(a,s,n),l}(ki,ae,be,Ft,S,[gQ]),qb(k,S,null)}finally{Nv()}return new cQ(this.componentType,$,pl(J,S),S,J)}}class cQ extends sK{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new oQ(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Gb(o[se],o,i,e,t),this.previousInputValues.set(e,t),Ad(ai(this._tNode.index,o))}}get injector(){return new el(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function gQ(){const n=Xn();og(W()[se],n)}function mt(n){let e=function gR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Li(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Gg(n.inputs),s.inputTransforms=Gg(n.inputTransforms),s.declaredInputs=Gg(n.declaredInputs),s.outputs=Gg(n.outputs);const a=i.hostBindings;a&&vQ(n,a);const c=i.viewQuery,l=i.contentQueries;if(c&&_Q(n,c),l&&yQ(n,l),Bp(n.inputs,i.inputs),Bp(n.declaredInputs,i.declaredInputs),Bp(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Bp(s.inputTransforms,i.inputTransforms)),Li(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===mt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function mQ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=od(i.hostAttrs,t=od(t,i.hostAttrs))}}(r)}function Gg(n){return n===no?{}:n===ot?[]:n}function _Q(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function yQ(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function vQ(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function qg(n){return!!function Wb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function _r(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ui(n,e,t,r,i,o,s,a){const c=W(),l=et(),u=n+qe,d=l.firstCreatePass?function HQ(n,e,t,r,i,o,s,a,c){const l=e.consts,u=_l(e,n,4,s||null,As(l,a));jb(e,t,u,As(l,c)),og(e,u);const d=u.tView=Bb(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,r,i,o,s):l.data[u];ao(d,!1);const h=OR(l,c,d,n);ig()&&Tg(l,c,h,d),gr(h,c),zg(c,c[u]=nR(h,c,h,d)),Zp(d)&&Vb(l,c,d),null!=s&&Ub(c,d,a)}let OR=function kR(n,e,t,r){return Ms(!0),e[Pe].createComment("")};function xn(n){return function Yc(n,e){return n[e]}(function GG(){return xe.lFrame.contextLView}(),qe+n)}function ve(n,e,t){const r=W();return _r(r,Jc(),e)&&function li(n,e,t,r,i,o,s,a){const c=Hr(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Gb(n,t,u,r,i),Pa(e)&&function FK(n,e){const t=ai(e,n);16&t[Se]||(t[Se]|=64)}(t,e.index)):3&e.type&&(r=function RK(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}(et(),function Jt(){const n=xe.lFrame;return NO(n.tView,n.selectedIndex)}(),r,n,e,r[Pe],t,!1),ve}function Zb(n,e,t,r,i){const s=i?"class":"style";Gb(n,t,e.inputs[s],s,r)}function _(n,e,t,r){const i=W(),o=et(),s=qe+n,a=i[Pe],c=o.firstCreatePass?function KQ(n,e,t,r,i,o){const s=e.consts,c=_l(e,n,2,r,As(s,i));return jb(e,t,c,As(s,o)),null!==c.attrs&&$g(c,c.attrs,!1),null!==c.mergedAttrs&&$g(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],l=NR(o,i,c,a,e,n);i[s]=l;const u=Zp(c);return ao(c,!0),Jk(a,l,c),32!=(32&c.flags)&&ig()&&Tg(o,i,l,c),0===function LG(){return xe.lFrame.elementDepthCount}()&&gr(l,i),function VG(){xe.lFrame.elementDepthCount++}(),u&&(Vb(o,i,c),Lb(o,c,i)),null!==r&&Ub(i,c),_}function g(){let n=Xn();Av()?function Mv(){xe.lFrame.isParent=!1}():(n=n.parent,ao(n,!1));const e=n;(function BG(n){return xe.skipHydrationRootTNode===n})(e)&&function HG(){xe.skipHydrationRootTNode=null}(),function UG(){xe.lFrame.elementDepthCount--}();const t=et();return t.firstCreatePass&&(og(t,n),wv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function rq(n){return 0!=(8&n.flags)}(e)&&Zb(t,e,W(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iq(n){return 0!=(16&n.flags)}(e)&&Zb(t,e,W(),e.stylesWithoutHost,!1),g}function Z(n,e,t,r){return _(n,e,t,r),g(),Z}let NR=(n,e,t,r,i,o)=>(Ms(!0),Eg(r,i,function JO(){return xe.lFrame.currentNamespace}()));function _t(){return W()}function Ld(n){return!!n&&"function"==typeof n.then}function LR(n){return!!n&&"function"==typeof n.subscribe}function H(n,e,t,r){const i=W(),o=et(),s=Xn();return function UR(n,e,t,r,i,o,s){const a=Zp(r),l=n.firstCreatePass&&oR(n),u=e[un],d=iR(e);let h=!0;if(3&r.type||s){const E=Hr(r,e),M=s?s(E):E,k=d.length,S=s?J=>s(Vt(J[r.index])):r.index;let $=null;if(!s&&a&&($=function eY(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Gc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,h=!1;else{o=jR(r,e,u,o,!1);const J=t.listen(M,i,o);d.push(o,J),l&&l.push(i,S,k,k+1)}}else o=jR(r,e,u,o,!1);const p=r.outputs;let b;if(h&&null!==p&&(b=p[i])){const E=b.length;if(E)for(let M=0;M<E;M+=2){const ae=e[b[M]][b[M+1]].subscribe(o),be=d.length;d.push(o,ae),l&&l.push(i,r.index,be,-(be+1))}}}(o,i,i[Pe],s,n,e,r),H}function BR(n,e,t,r){try{return so(6,e,t),!1!==t(r)}catch(i){return aR(n,i),!1}finally{so(7,e,t)}}function jR(n,e,t,r,i){return function o(s){if(s===Function)return r;Ad(n.componentOffset>-1?ai(n.index,e):e);let c=BR(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)c=BR(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function rn(n=1){return function YG(n){return(xe.lFrame.contextLView=function XG(n,e){for(;n>0;)e=e[Wc],n--;return e}(n,xe.lFrame.contextLView))[un]}(n)}function Xg(n,e){return n<<17|e<<2}function Os(n){return n>>17&32767}function rw(n){return 2|n}function Ua(n){return(131068&n)>>2}function iw(n,e){return-131069&n|e<<2}function ow(n){return 1|n}function XR(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Os(o):Ua(o),c=!1;for(;0!==a&&(!1===c||s);){const u=n[a+1];lY(n[a],e)&&(c=!0,n[a+1]=r?ow(u):rw(u)),a=r?Os(u):Ua(u)}c&&(n[t+1]=r?rw(o):ow(o))}function lY(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&sl(n,e)>=0}function Vd(n,e){return function Ui(n,e,t,r){const i=W(),o=et(),s=function $o(n){const e=xe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function s2(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Ar()],s=function o2(n,e){return e>=n.expandoStartIndex}(n,t);(function u2(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function yY(n,e,t,r){const i=function Pv(n){const e=xe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Ud(t=sw(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=sw(i,n,e,t,r),null===o){let c=function vY(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Ua(r))return n[Os(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=sw(null,n,e,c[1],r),c=Ud(c,e.attrs,r),function bY(n,e,t,r){n[Os(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function wY(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ud(r,n[o].hostAttrs,t);return Ud(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function aY(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Os(s),c=Ua(s);n[r]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||sl(t,u)>0)&&(l=!0)):u=t,i)if(0!==c){const h=Os(n[a+1]);n[r+1]=Xg(h,a),0!==h&&(n[h+1]=iw(n[h+1],r)),n[a+1]=function oY(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Xg(a,0),0!==a&&(n[a+1]=iw(n[a+1],r)),a=r;else n[r+1]=Xg(c,0),0===a?a=r:n[c+1]=iw(n[c+1],r),c=r;l&&(n[r+1]=rw(n[r+1])),XR(n,u,r,!0),XR(n,u,r,!1),function cY(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&sl(o,e)>=0&&(t[r+1]=ow(t[r+1]))}(e,u,n,r,o),s=Xg(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==Oe&&_r(i,s,e)&&function c2(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function sY(n){return 1==(1&n)}(l)?l2(c,e,t,i,Ua(l),s):void 0;Jg(u)||(Jg(o)||function iY(n){return 2==(2&n)}(l)&&(o=l2(c,null,t,i,a,s)),function pW(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Ss.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ss.Important),n.setStyle(t,r,i,o))}}(r,s,rg(Ar(),t),i,o))}(o,o.data[Ar()],i,i[Pe],n,i[s+1]=function IY(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Pn(Ps(n)))),n}(e,t),r,s)}(n,e,null,!0),Vd}function sw(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ud(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Ud(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ci(n,s,!!t||e[++o]))}return void 0===n?null:n}function l2(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=t[i+1];h===Oe&&(h=d?ot:void 0);let p=d?Hv(h,r):u===r?h:void 0;if(l&&!Jg(p)&&(p=Hv(c,r)),Jg(p)&&(a=p,s))return a;const b=n[i+1];i=s?Os(b):Ua(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Hv(c,r))}return a}function Jg(n){return void 0!==n}function w(n,e=""){const t=W(),r=et(),i=n+qe,o=r.firstCreatePass?_l(r,i,1,e,null):r.data[i],s=d2(r,t,o,e,n);t[i]=s,ig()&&Tg(r,t,s,o),ao(o,!1)}let d2=(n,e,t,r,i)=>(Ms(!0),function xg(n,e){return n.createText(e)}(e[Pe],r));function ke(n){return Le("",n,""),ke}function Le(n,e,t){const r=W(),i=function vl(n,e,t,r){return _r(n,Jc(),t)?e+Ae(t)+r:Oe}(r,n,e,t);return i!==Oe&&function Wo(n,e,t){const r=rg(e,n);!function Vk(n,e,t){n.setValue(e,t)}(n[Pe],r,t)}(r,Ar(),i),Le}const Ml="en-US";let k2=Ml;function lw(n,e,t,r,i){if(n=Te(n),Array.isArray(n))for(let o=0;o<n.length;o++)lw(n[o],e,t,r,i);else{const o=et(),s=W();let a=Fa(n)?n:Te(n.provide),c=yN(n);const l=Xn(),u=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Fa(n)||!n.multi){const p=new hd(c,i,T),b=dw(a,e,i?u:u+h,d);-1===b?(jv(dg(l,s),o,a),uw(o,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(p),s.push(p)):(t[b]=p,s[b]=p)}else{const p=dw(a,e,u+h,d),b=dw(a,e,u,u+h),M=b>=0&&t[b];if(i&&!M||!i&&!(p>=0&&t[p])){jv(dg(l,s),o,a);const k=function GX(n,e,t,r,i){const o=new hd(n,t,T);return o.multi=[],o.index=e,o.componentProviders=0,iF(o,i,r&&!t),o}(i?HX:$X,t.length,i,r,c);!i&&M&&(t[b].providerFactory=k),uw(o,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(k),s.push(k)}else uw(o,n,p>-1?p:b,iF(t[i?b:p],c,!i&&r));!i&&r&&M&&t[b].componentProviders++}}}function uw(n,e,t,r){const i=Fa(e),o=function HW(n){return!!n.useClass}(e);if(i||o){const c=(o?Te(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function iF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function dw(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function $X(n,e,t,r){return hw(this.multi,[])}function HX(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Na(t,t[se],this.providerFactory.index,r);o=a.slice(0,s),hw(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],hw(i,o);return o}function hw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function qt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function zX(n,e,t){const r=et();if(r.firstCreatePass){const i=Li(n);lw(t,r.data,r.blueprint,i,!0),lw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Sl{}class oF{}class fw extends Sl{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fR(this);const i=oi(e);this._bootstrapComponents=qo(i.bootstrap),this._r3Injector=qN(e,t,[{provide:Sl,useValue:this},{provide:Vg,useValue:this.componentFactoryResolver},...r],Pn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class pw extends oF{constructor(e){super(),this.moduleType=e}create(e){return new fw(this.moduleType,e,[])}}class sF extends Sl{constructor(e){super(),this.componentFactoryResolver=new fR(this),this.instance=null;const t=new wb([...e.providers,{provide:Sl,useValue:this},{provide:Vg,useValue:this.componentFactoryResolver}],e.parent||Og(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function gw(n,e,t=null){return new sF({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let KX=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=pN(0,t.type),i=r.length>0?gw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=_e({token:n,providedIn:"environment",factory:()=>new n(ge(Go))}),n})();function aF(n){n.getStandaloneInjector=e=>e.get(KX).getOrCreateStandaloneInjector(n)}function _w(n){return e=>{setTimeout(n,void 0,e)}}const We=class bJ extends ri{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=_w(o),i&&(i=_w(i)),s&&(s=_w(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof j&&e.add(a),a}};function wJ(){return this._results[Symbol.iterator]()}class yw{get changes(){return this._changes||(this._changes=new We)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=yw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=wJ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function wi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function _q(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ko=(()=>{class n{}return n.__NG_ELEMENT_ID__=EJ,n})();const CJ=Ko,xJ=class extends CJ{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,r){const s=this._declarationTContainer.tView,a=jg(this._declarationLView,s,e,4096&this._declarationLView[Se]?4096:16,null,s.declTNode,null,null,null,t||null,r||null);a[cd]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[ro];return null!==l&&(a[ro]=l.createEmbeddedView(s)),qb(s,a,e),new Pd(a)}};function EJ(){return rm(Xn(),W())}function rm(n,e){return 4&n.type?new xJ(e,n,pl(n,e)):null}let ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=PJ,n})();function PJ(){return EF(Xn(),W())}const OJ=ji,CF=class extends OJ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new el(this._hostTNode,this._hostLView)}get parentInjector(){const e=Bv(this._hostTNode,this._hostLView);if(nk(e)){const t=lg(e,this._hostLView),r=cg(e);return new el(t[se].data[r+8],t)}return new el(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=xF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-pr}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function fd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const E=t||{};a=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}const c=s?e:new Od(lt(e)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const M=(s?l:this.parentInjector).get(Go,null);M&&(o=M)}lt(c.componentType??{});const p=c.create(l,i,null,o);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView,o=i[se];if(function NG(n){return $r(n[Xt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[Xt],u=new CF(l,l[fr],l[Xt]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;if(function sW(n,e,t,r){const i=pr+r,o=t.length;r>0&&(t[i-1][Fi]=e),r<o-pr?(e[Fi]=t[i],pk(t,pr+r,e)):(t.push(e),e[Fi]=null),e[Xt]=t;const s=e[cd];null!==s&&t!==s&&function aW(n,e){const t=n[Qc];e[dn]!==e[Xt][Xt][dn]&&(n[bO]=!0),null===t?n[Qc]=[e]:t.push(e)}(s,e);const a=e[ro];null!==a&&a.insertView(n),e[Se]|=128}(o,i,a,s),!r){const c=ob(s,a),l=i[Pe],u=Ig(l,a[io]);null!==u&&function rW(n,e,t,r,i,o){r[On]=i,r[fr]=e,bd(n,r,t,1,i,o)}(o,a[fr],l,i,u,c)}return e.attachToViewContainerRef(),pk(bw(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=xF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=tb(this._lContainer,t);r&&(pg(bw(this._lContainer),t),Bk(r[se],r))}detach(e){const t=this._adjustIndex(e,-1),r=tb(this._lContainer,t);return r&&null!=pg(bw(this._lContainer),t)?new Pd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function xF(n){return n[8]}function bw(n){return n[8]||(n[8]=[])}function EF(n,e){let t;const r=e[n.index];return $r(r)?t=r:(t=nR(r,e,null,n),e[n.index]=t,zg(e,t)),IF(t,e,n,r),new CF(t,n,e)}let IF=function TF(n,e,t,r){if(n[io])return;let i;i=8&t.type?Vt(r):function kJ(n,e){const t=n[Pe],r=t.createComment(""),i=Hr(e,n);return Ra(t,Ig(t,i),r,function dW(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[io]=i};class ww{constructor(e){this.queryList=e,this.matches=null}clone(){return new ww(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cw{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Cw(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==OF(e,t).matches&&this.queries[t].setDirty()}}class DF{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class xw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new xw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ew{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ew(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,FJ(t,o)),this.matchTNodeWithReadOption(e,t,hg(t,e,o,!1,!1))}else r===Ko?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hg(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===qr||i===ji||i===Ko&&4&t.type)this.addMatch(t.index,-2);else{const o=hg(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function FJ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function VJ(n,e,t,r){return-1===t?function LJ(n,e){return 11&n.type?pl(n,e):4&n.type?rm(n,e):null}(e,n):-2===t?function UJ(n,e,t){return t===qr?pl(e,n):t===Ko?rm(e,n):t===ji?EF(e,n):void 0}(n,e,r):Na(n,n[se],t,e)}function AF(n,e,t,r){const i=e[ro].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:VJ(e,o[l],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Iw(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=AF(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const l=o[a+1],u=e[-c];for(let d=pr;d<u.length;d++){const h=u[d];h[cd]===h[Xt]&&Iw(h[se],h,l,r)}if(null!==u[Qc]){const d=u[Qc];for(let h=0;h<d.length;h++){const p=d[h];Iw(p[se],p,l,r)}}}}}return r}function hn(n){const e=W(),t=et(),r=GO();Ov(r+1);const i=OF(t,r);if(n.dirty&&function OG(n){return 4==(4&n[Se])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Iw(t,e,r,[]):AF(t,e,i,r);n.reset(o,uK),n.notifyOnChanges()}return!0}return!1}function En(n,e,t){const r=et();r.firstCreatePass&&(function PF(n,e,t){null===n.queries&&(n.queries=new xw),n.queries.track(new Ew(e,t))}(r,new DF(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function SF(n,e,t){const r=new yw(4==(4&t));(function OK(n,e,t,r){const i=iR(e);i.push(t),n.firstCreatePass&&oR(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[ro]&&(e[ro]=new Cw),e[ro].queries.push(new ww(r))}(r,W(),e)}function fn(){return function BJ(n,e){return n[ro].queries[e].queryList}(W(),GO())}function OF(n,e){return n.queries.getByIndex(e)}const om=new le("Application Initializer");let Pw=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=he(om,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Ld(o))t.push(o);else if(LR(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QF=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Qo=new le("LocaleId",{providedIn:"root",factory:()=>he(Qo,ze.Optional|ze.SkipSelf)||function lZ(){return typeof $localize<"u"&&$localize.locale||Ml}()});let YF=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class hZ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let XF=(()=>{class n{compileModuleSync(t){return new pw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=qo(oi(t).declarations).reduce((s,a)=>{const c=lt(a);return c&&s.push(new Od(c)),s},[]);return new hZ(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eL(...n){}class ft{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function gZ(){const n="function"==typeof Tt.requestAnimationFrame;let e=Tt[n?"requestAnimationFrame":"setTimeout"],t=Tt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function yZ(n){const e=()=>{!function _Z(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,kw(n),n.isCheckStableRunning=!0,Ow(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),kw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return tL(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),nL(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return tL(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),nL(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,kw(n),Ow(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new X(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,mZ,eL,eL);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const mZ={};function Ow(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function tL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nL(n){n._nesting--,Ow(n)}class vZ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const rL=new le("",{providedIn:"root",factory:iL});function iL(){const n=he(ft);let e=!0;return cv(new Ct(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ct(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{ft.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(YP()))}const oL=new le(""),sm=new le("");let Fw,Nw=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fw||(function bZ(n){Fw=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(ge(ft),ge(Rw),ge(sm))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),Rw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Fw?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ks=null;const sL=new le("AllowMultipleToken"),Lw=new le("PlatformDestroyListeners"),Vw=new le("appBootstrapListener");class cL{constructor(e,t){this.name=e,this.token=t}}function uL(n,e,t=[]){const r=`Platform: ${e}`,i=new le(r);return(o=[])=>{let s=Uw();if(!s||s.injector.get(sL,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function xZ(n){if(ks&&!ks.get(sL,!1))throw new X(400,!1);(function aL(){!function CG(n){TO=n}(()=>{throw new X(600,!1)})})(),ks=n;const e=n.get(hL);(function lL(n){n.get(vN,null)?.forEach(t=>t())})(n)}(function dL(n=[],e){return mr.create({name:e,providers:[{provide:vb,useValue:"platform"},{provide:Lw,useValue:new Set([()=>ks=null])},...n]})}(a,r))}return function IZ(n){const e=Uw();if(!e)throw new X(401,!1);return e}()}}function Uw(){return ks?.get(hL)??null}let hL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function TZ(n="zone.js",e){return"noop"===n?new vZ:"zone.js"===n?new ft(e):n}(r?.ngZone,function fL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function WX(n,e,t){return new fw(n,e,t)}(t.moduleType,this.injector,function yL(n){return[{provide:ft,useFactory:n},{provide:Id,multi:!0,useFactory:()=>{const e=he(AZ,{optional:!0});return()=>e.initialize()}},{provide:_L,useFactory:DZ},{provide:rL,useFactory:iL}]}(()=>i)),s=o.injector.get(La,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{am(this._modules,o),a.unsubscribe()})}),function pL(n,e,t){try{const r=t();return Ld(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Pw);return a.runInitializers(),a.donePromise.then(()=>(function N2(n){vi(n,"Expected localeId to be defined"),"string"==typeof n&&(k2=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Qo,Ml)||Ml),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=gL({},r);return function wZ(n,e,t){const r=new pw(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(ja);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new X(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Lw,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ge(mr))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gL(n,e){return Array.isArray(e)?e.reduce(gL,n):{...n,...e}}let ja=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(_L),this.zoneIsStable=he(rL),this.componentTypes=[],this.components=[],this.isStable=he(YF).hasPendingTasks.pipe(Ur(t=>t?we(!1):this.zoneIsStable),function PH(n,e=it){return n=n??OH,wn((t,r)=>{let i,o=!0;t.subscribe(Cn(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),YP()),this._injector=he(Go)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof TN;if(!this._injector.get(Pw).done)throw!i&&function Hc(n){const e=lt(n)||hr(n)||zr(n);return null!==e&&e.standalone}(t),new X(405,!1);let s;s=i?t:this._injector.get(Vg).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function CZ(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Sl),l=s.create(mr.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(oL,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),am(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;am(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Vw,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>am(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new X(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function am(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const _L=new le("",{providedIn:"root",factory:()=>he(La).handleError.bind(void 0)});function DZ(){const n=he(ft),e=he(La);return t=>n.runOutsideAngular(()=>e.handleError(t))}let AZ=(()=>{class n{constructor(){this.zone=he(ft),this.applicationRef=he(ja)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let cm=(()=>{class n{}return n.__NG_ELEMENT_ID__=PZ,n})();function PZ(n){return function OZ(n,e,t){if(Pa(n)&&!t){const r=ai(n.index,e);return new Pd(r,r)}return 47&n.type?new Pd(e[dn],e):null}(Xn(),W(),16==(16&n))}class CL{constructor(){}supports(e){return qg(e)}create(e){return new VZ(e)}}const LZ=(n,e)=>e;class VZ{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||LZ}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<EL(r,i,o)?t:r,a=EL(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const p=h<o.length?o[h]:o[h]=0,b=p+h;u<=b&&b<l&&(o[h]=p+1)}o[s.previousIndex]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!qg(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function TQ(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new UZ(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new xL),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xL),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class UZ{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BZ{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class xL{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new BZ,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function EL(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function TL(){return new dm([new CL])}let dm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TL()),deps:[[n,new mg,new Zt]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new X(901,!1)}}return n.\u0275prov=_e({token:n,providedIn:"root",factory:TL}),n})();const GZ=uL(null,"core",[]);let qZ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ge(ja))},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({}),n})();let qw=null;function Ns(){return qw}class iee{}const xi=new le("DocumentToken");let Ww=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return he(see)},providedIn:"platform"}),n})();const oee=new le("Location Initialized");let see=(()=>{class n extends Ww{constructor(){super(),this._doc=he(xi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ns().getBaseHref(this._doc)}onPopState(t){const r=Ns().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ns().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function Kw(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function NL(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Yo(n){return n&&"?"!==n[0]?"?"+n:n}let Rs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return he(FL)},providedIn:"root"}),n})();const RL=new le("appBaseHref");let FL=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??he(xi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Kw(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Yo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Yo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Yo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ge(Ww),ge(RL,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LL=(()=>{class n extends Rs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Kw(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Yo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Yo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ge(Ww),ge(RL,8))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),Qw=(()=>{class n{constructor(t){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function lee(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(NL(VL(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Yo(r))}normalize(t){return n.stripTrailingSlash(function cee(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,VL(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Yo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Yo,n.joinWithSlash=Kw,n.stripTrailingSlash=NL,n.\u0275fac=function(t){return new(t||n)(ge(Rs))},n.\u0275prov=_e({token:n,factory:function(){return function aee(){return new Qw(ge(Rs))}()},providedIn:"root"}),n})();function VL(n){return n.replace(/\/index.html$/,"")}class Yee{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ti=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Yee(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),QL(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{QL(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(ji),T(Ko),T(dm))},n.\u0275dir=Ie({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function QL(n,e){n.context.$implicit=e.item}let YL=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xee,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XL("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XL("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(T(ji),T(Ko))},n.\u0275dir=Ie({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Xee{constructor(){this.$implicit=null,this.ngIf=null}}function XL(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pn(e)}'.`)}let Xd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({}),n})();const e3="browser";function t3(n){return n===e3}function n3(n){return"server"===n}let Ite=(()=>{class n{}return n.\u0275prov=_e({token:n,providedIn:"root",factory:()=>new Tte(ge(xi),window)}),n})();class Tte{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Dte(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=r3(this.window.history)||r3(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function r3(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Xte extends iee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hC extends Xte{static makeCurrent(){!function ree(n){qw||(qw=n)}(new hC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Jte(){return Zd=Zd||document.querySelector("base"),Zd?Zd.getAttribute("href"):null}();return null==t?null:function Zte(n){Im=Im||document.createElement("a"),Im.setAttribute("href",n);const e=Im.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Wee(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Im,Zd=null,tne=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const fC=new le("EventManagerPlugins");let c3=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(ge(fC),ge(ft))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class l3{constructor(e){this._doc=e}}const pC="ng-app-id";let u3=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=n3(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${pC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(pC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(pC,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(ge(xi),ge(kg),ge(bN,8),ge(lo))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const gC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mC=/%COMP%/g,one=new le("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function h3(n,e){return e.map(t=>t.replace(mC,n))}let f3=(()=>{class n{constructor(t,r,i,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=n3(a),this.defaultRenderer=new _C(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ni.ShadowDom&&(r={...r,encapsulation:Ni.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof g3?i.applyToHost(t):i instanceof yC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ni.Emulated:o=new g3(c,l,r,this.appId,u,s,a,d);break;case Ni.ShadowDom:return new lne(c,l,t,r,s,a,this.nonce,d);default:o=new yC(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(ge(c3),ge(u3),ge(kg),ge(one),ge(xi),ge(lo),ge(ft),ge(bN))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();class _C{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(p3(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(p3(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=gC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ss.DashCase|Ss.Important)?e.style.setProperty(t,r,i&Ss.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ss.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ns().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function p3(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class lne extends _C{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=h3(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yC extends _C{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?h3(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class g3 extends yC{constructor(e,t,r,i,o,s,a,c){const l=i+"-"+r.id;super(e,t,r,o,s,a,c,l),this.contentAttr=function sne(n){return"_ngcontent-%COMP%".replace(mC,n)}(l),this.hostAttr=function ane(n){return"_nghost-%COMP%".replace(mC,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let une=(()=>{class n extends l3{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(ge(xi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const m3=["alt","control","meta","shift"],dne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hne={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let fne=(()=>{class n extends l3{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ns().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),m3.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=dne[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),m3.forEach(s=>{s!==i&&(0,hne[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ge(xi))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const y3=[{provide:lo,useValue:e3},{provide:vN,useValue:function pne(){hC.makeCurrent()},multi:!0},{provide:xi,useFactory:function mne(){return function vW(n){cb=n}(document),document},deps:[]}],_ne=uL(GZ,"browser",y3),yne=new le(""),v3=[{provide:sm,useClass:class ene{addToWindow(e){Tt.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new X(5103,!1);return o},Tt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Tt.getAllAngularRootElements=()=>e.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(r=>{const i=Tt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ns().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:oL,useClass:Nw,deps:[ft,Rw,sm]},{provide:Nw,useClass:Nw,deps:[ft,Rw,sm]}],b3=[{provide:vb,useValue:"root"},{provide:La,useFactory:function gne(){return new La},deps:[]},{provide:fC,useClass:une,multi:!0,deps:[xi,ft,lo]},{provide:fC,useClass:fne,multi:!0,deps:[xi]},f3,u3,c3,{provide:AN,useExisting:f3},{provide:class Ate{},useClass:tne,deps:[]},[]];let vne=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:kg,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(ge(yne,12))},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({providers:[...b3,...v3],imports:[Xd,qZ]}),n})(),w3=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ge(xi))},n.\u0275prov=_e({token:n,factory:function(t){let r=null;return r=t?new t:function wne(){return new w3(ge(xi))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:Tne}=Array,{getPrototypeOf:Dne,prototype:Ane,keys:Mne}=Object;function I3(n){if(1===n.length){const e=n[0];if(Tne(e))return{args:e,keys:null};if(function Sne(n){return n&&"object"==typeof n&&Dne(n)===Ane}(e)){const t=Mne(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Pne}=Array;function bC(n){return Ze(e=>function One(n,e){return Pne(e)?n(...e):n(e)}(n,e))}function T3(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let D3=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(T(Vi),T(qr))},n.\u0275dir=Ie({type:n}),n})(),$a=(()=>{class n extends D3{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Jn(n)))(r||n)}}(),n.\u0275dir=Ie({type:n,features:[mt]}),n})();const mo=new le("NgValueAccessor"),Rne={provide:mo,useExisting:Mt(()=>Kr),multi:!0},Lne=new le("CompositionEventMode");let Kr=(()=>{class n extends D3{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fne(){const n=Ns()?Ns().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Vi),T(qr),T(Lne,8))},n.\u0275dir=Ie({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&H("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[qt([Rne]),mt]}),n})();const yr=new le("NgValidators"),Vs=new le("NgAsyncValidators");function V3(n){return null!=n}function U3(n){return Ld(n)?Un(n):n}function B3(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function j3(n,e){return e.map(t=>t(n))}function z3(n){return n.map(e=>function Une(n){return!n.validate}(e)?e:t=>e.validate(t))}function wC(n){return null!=n?function $3(n){if(!n)return null;const e=n.filter(V3);return 0==e.length?null:function(t){return B3(j3(t,e))}}(z3(n)):null}function CC(n){return null!=n?function H3(n){if(!n)return null;const e=n.filter(V3);return 0==e.length?null:function(t){return function kne(...n){const e=KP(n),{args:t,keys:r}=I3(n),i=new Ct(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Tr(t[u]).subscribe(Cn(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?T3(r,a):a),o.complete())}))}});return e?i.pipe(bC(e)):i}(j3(t,e).map(U3)).pipe(Ze(B3))}}(z3(n)):null}function G3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function xC(n){return n?Array.isArray(n)?n:[n]:[]}function Dm(n,e){return Array.isArray(n)?n.includes(e):n===e}function K3(n,e){const t=xC(e);return xC(n).forEach(i=>{Dm(t,i)||t.push(i)}),t}function Q3(n,e){return xC(e).filter(t=>!Dm(n,t))}class Y3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=CC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Or extends Y3{get formDirective(){return null}get path(){return null}}class Us extends Y3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class X3{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Di=(()=>{class n extends X3{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Us,2))},n.\u0275dir=Ie({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Vd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[mt]}),n})(),Zn=(()=>{class n extends X3{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(T(Or,10))},n.\u0275dir=Ie({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Vd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[mt]}),n})();const eh="VALID",Mm="INVALID",Rl="PENDING",th="DISABLED";function TC(n){return(Sm(n)?n.validators:n)||null}function DC(n,e){return(Sm(e)?e.asyncValidators:n)||null}function Sm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class t4{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eh}get invalid(){return this.status===Mm}get pending(){return this.status==Rl}get disabled(){return this.status===th}get enabled(){return this.status!==th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(K3(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(K3(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Q3(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Q3(e,this._rawAsyncValidators))}hasValidator(e){return Dm(this._rawValidators,e)}hasAsyncValidator(e){return Dm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=th,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eh||this.status===Rl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?th:eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rl,this._hasOwnPendingAsyncValidator=!0;const t=U3(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?th:this.errors?Mm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rl)?Rl:this._anyControlsHaveStatus(Mm)?Mm:eh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function $ne(n){return Array.isArray(n)?wC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Hne(n){return Array.isArray(n)?CC(n):n||null}(this._rawAsyncValidators)}}class AC extends t4{constructor(e,t,r){super(TC(t),DC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function e4(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new X(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Z3(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new X(1e3,"");if(!r[t])throw new X(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Fl=new le("CallSetDisabledState",{providedIn:"root",factory:()=>Pm}),Pm="always";function nh(n,e,t=Pm){MC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Wne(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&n4(n,e)})}(n,e),function Qne(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Kne(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&n4(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qne(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Nm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function MC(n,e){const t=function q3(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(G3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function W3(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(G3(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Nm(e._rawValidators,i),Nm(e._rawAsyncValidators,i)}function n4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const ere={provide:Or,useExisting:Mt(()=>Rn)},rh=(()=>Promise.resolve())();let Rn=(()=>{class n extends Or{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new We,this.form=new AC({},wC(t),CC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),nh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){rh.then(()=>{const r=this._findContainer(t.path),i=new AC({});(function r4(n,e){MC(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){rh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function i4(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(T(yr,10),T(Vs,10),T(Fl,8))},n.\u0275dir=Ie({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&H("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qt([ere]),mt]}),n})();function o4(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function s4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const a4=class extends t4{constructor(e=null,t,r){super(TC(t),DC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=s4(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){o4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){o4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){s4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},rre={provide:Us,useExisting:Mt(()=>hi)},u4=(()=>Promise.resolve())();let hi=(()=>{class n extends Us{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new a4,this._registered=!1,this.name="",this.update=new We,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function OC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Kr?t=o:function Jne(n){return Object.getPrototypeOf(n.constructor)===$a}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function PC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){u4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function kl(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);u4.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Om(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(T(Or,9),T(yr,10),T(Vs,10),T(mo,10),T(cm,8),T(Fl,8))},n.\u0275dir=Ie({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[qt([rre]),mt,bi]}),n})(),er=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ie({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),h4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({}),n})();const fre={provide:mo,useExisting:Mt(()=>FC),multi:!0};function v4(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let FC=(()=>{class n extends $a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=v4(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function pre(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Jn(n)))(r||n)}}(),n.\u0275dir=Ie({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&H("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[qt([fre]),mt]}),n})(),ih=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(v4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(T(qr),T(Vi),T(FC,9))},n.\u0275dir=Ie({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const gre={provide:mo,useExisting:Mt(()=>LC),multi:!0};function b4(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let LC=(()=>{class n extends $a{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const l=this._getOptionValue(s[a].value);i.push(l)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function mre(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Jn(n)))(r||n)}}(),n.\u0275dir=Ie({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&H("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[qt([gre]),mt]}),n})(),oh=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(b4(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(b4(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(T(qr),T(Vi),T(LC,9))},n.\u0275dir=Ie({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Ire=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[h4]}),n})(),Fm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fl,useValue:t.callSetDisabledState??Pm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[Ire]}),n})();function UC(...n){const e=td(n),t=KP(n),{args:r,keys:i}=I3(n);if(0===r.length)return Un([],e);const o=new Ct(function Are(n,e,t=it){return r=>{S4(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)S4(e,()=>{const l=Un(n[c],e);let u=!1;l.subscribe(Cn(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>T3(i,s):it));return t?o.pipe(bC(t)):o}function S4(n,e,t){n?Vo(t,n,e):e()}const Lm=B(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function sh(...n){return function Mre(){return zc(1)}()(Un(n,td(n)))}function Vm(n){return new Ct(e=>{Tr(n()).subscribe(e)})}function Ll(n,e){const t=N(n)?n:()=>n,r=i=>i.error(t());return new Ct(e?i=>e.schedule(r,0,i):r)}function BC(){return wn((n,e)=>{let t=null;n._refCount++;const r=Cn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class jC extends Ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,kP(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new j;const t=this.getSubject();e.add(this.source.subscribe(Cn(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=j.EMPTY)}return e}refCount(){return BC()(this)}}function Qr(n){return n<=0?()=>to:wn((e,t)=>{let r=0;e.subscribe(Cn(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yr(n,e){return wn((t,r)=>{let i=0;t.subscribe(Cn(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Um(n){return wn((e,t)=>{let r=!1;e.subscribe(Cn(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function P4(n=Pre){return wn((e,t)=>{let r=!1;e.subscribe(Cn(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Pre(){return new Lm}function Ga(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yr((i,o)=>n(i,o,r)):it,Qr(1),t?Um(e):P4(()=>new Lm))}function ah(n,e){return N(e)?Sn(n,e,1):Sn(n,1)}function tr(n,e,t){const r=N(n)||e||t?{next:n,error:e,complete:t}:n;return r?wn((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Cn(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):it}function qa(n){return wn((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Cn(t,void 0,void 0,s=>{o=Tr(n(s,qa(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function zC(n){return n<=0?()=>to:wn((e,t)=>{let r=[];e.subscribe(Cn(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function O4(n){return Ze(()=>n)}function $C(n){return wn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Re="primary",ch=Symbol("RouteTitle");class Rre{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Vl(n){return new Rre(n)}function Fre(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function _o(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!k4(n[i],e[i]))return!1;return!0}function k4(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function N4(n){return n.length>0?n[n.length-1]:null}function Bs(n){return function Dre(n){return!!n&&(n instanceof Ct||N(n.lift)&&N(n.subscribe))}(n)?n:Ld(n)?Un(Promise.resolve(n)):we(n)}const Vre={exact:function L4(n,e,t){if(!Wa(n.segments,e.segments)||!Bm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!L4(n.children[r],e.children[r],t))return!1;return!0},subset:V4},R4={exact:function Ure(n,e){return _o(n,e)},subset:function Bre(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>k4(n[t],e[t]))},ignored:()=>!0};function F4(n,e,t){return Vre[t.paths](n.root,e.root,t.matrixParams)&&R4[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function V4(n,e,t){return U4(n,e,e.segments,t)}function U4(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Wa(i,t)||e.hasChildren()||!Bm(i,t,r))}if(n.segments.length===t.length){if(!Wa(n.segments,t)||!Bm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!V4(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Wa(n.segments,i)&&Bm(n.segments,i,r)&&n.children[Re])&&U4(n.children[Re],e,o,r)}}function Bm(n,e,t){return e.every((r,i)=>R4[t](n[i].parameters,r.parameters))}class Ul{constructor(e=new yt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vl(this.queryParams)),this._queryParamMap}toString(){return $re.serialize(this)}}class yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jm(this)}}class lh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Vl(this.parameters)),this._parameterMap}toString(){return z4(this)}}function Wa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let uh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return new HC},providedIn:"root"}),n})();class HC{parse(e){const t=new eie(e);return new Ul(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${dh(e.root,!0)}`,r=function qre(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zm(t)}=${zm(i)}`).join("&"):`${zm(t)}=${zm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Hre(n){return encodeURI(n)}(e.fragment)}`:""}`}}const $re=new HC;function jm(n){return n.segments.map(e=>z4(e)).join("/")}function dh(n,e){if(!n.hasChildren())return jm(n);if(e){const t=n.children[Re]?dh(n.children[Re],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Re&&r.push(`${i}:${dh(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function zre(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Re&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Re?[dh(n.children[Re],!1)]:[`${i}:${dh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Re]?`${jm(n)}/${t[0]}`:`${jm(n)}/(${t.join("//")})`}}function B4(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zm(n){return B4(n).replace(/%3B/gi,";")}function GC(n){return B4(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $m(n){return decodeURIComponent(n)}function j4(n){return $m(n.replace(/\+/g,"%20"))}function z4(n){return`${GC(n.path)}${function Gre(n){return Object.keys(n).map(e=>`;${GC(e)}=${GC(n[e])}`).join("")}(n.parameters)}`}const Wre=/^[^\/()?;#]+/;function qC(n){const e=n.match(Wre);return e?e[0]:""}const Kre=/^[^\/()?;=#]+/,Yre=/^[^=?&#]+/,Jre=/^[^&#]+/;class eie{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Re]=new yt(e,t)),r}parseSegment(){const e=qC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new lh($m(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Qre(n){const e=n.match(Kre);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=qC(this.remaining);i&&(r=i,this.capture(r))}e[$m(t)]=$m(r)}parseQueryParam(e){const t=function Xre(n){const e=n.match(Yre);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Zre(n){const e=n.match(Jre);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=j4(t),o=j4(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new X(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Re);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Re]:new yt([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}}function $4(n){return n.segments.length>0?new yt([],{[Re]:n}):n}function H4(n){const e={};for(const r of Object.keys(n.children)){const o=H4(n.children[r]);if(r===Re&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function tie(n){if(1===n.numberOfChildren&&n.children[Re]){const e=n.children[Re];return new yt(n.segments.concat(e.segments),e.children)}return n}(new yt(n.segments,e))}function Ka(n){return n instanceof Ul}function G4(n){let e;const i=$4(function t(o){const s={};for(const c of o.children){const l=t(c);s[c.outlet]=l}const a=new yt(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function q4(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return WC(i,i,i,t,r);const o=function rie(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new K4(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new K4(t,e,r)}(e);if(o.toRoot())return WC(i,i,new yt([],{}),t,r);const s=function iie(n,e,t){if(n.isAbsolute)return new Gm(e,!0,0);if(!t)return new Gm(e,!1,NaN);if(null===t.parent)return new Gm(t,!0,0);const r=Hm(n.commands[0])?0:1;return function oie(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Gm(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?fh(s.segmentGroup,s.index,o.commands):Q4(s.segmentGroup,s.index,o.commands);return WC(i,s.segmentGroup,a,t,r)}function Hm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hh(n){return"object"==typeof n&&null!=n&&n.outlets}function WC(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===e?t:W4(n,e,t);const a=$4(H4(s));return new Ul(a,o,i)}function W4(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:W4(o,e,t)}),new yt(n.segments,r)}class K4{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Hm(r[0]))throw new X(4003,!1);const i=r.find(hh);if(i&&i!==N4(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gm{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Q4(n,e,t){if(n||(n=new yt([],{})),0===n.segments.length&&n.hasChildren())return fh(n,e,t);const r=function aie(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(hh(a))break;const c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!X4(c,l,s))return o;r+=2}else{if(!X4(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new yt(n.segments.slice(0,r.pathIndex),{});return o.children[Re]=new yt(n.segments.slice(r.pathIndex),n.children),fh(o,0,i)}return r.match&&0===i.length?new yt(n.segments,{}):r.match&&!n.hasChildren()?KC(n,e,t):r.match?fh(n,0,i):KC(n,e,t)}function fh(n,e,t){if(0===t.length)return new yt(n.segments,{});{const r=function sie(n){return hh(n[0])?n[0].outlets:{[Re]:n}}(t),i={};if(!r[Re]&&n.children[Re]&&1===n.numberOfChildren&&0===n.children[Re].segments.length){const o=fh(n.children[Re],e,t);return new yt(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Q4(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new yt(n.segments,i)}}function KC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(hh(o)){const c=cie(o.outlets);return new yt(r,c)}if(0===i&&Hm(t[0])){r.push(new lh(n.segments[e].path,Y4(t[0]))),i++;continue}const s=hh(o)?o.outlets[Re]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Hm(a)?(r.push(new lh(s,Y4(a))),i+=2):(r.push(new lh(s,{})),i++)}return new yt(r,{})}function cie(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=KC(new yt([],{}),0,r))}),e}function Y4(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function X4(n,e,t){return n==t.path&&_o(e,t.parameters)}const ph="imperative";class yo{constructor(e,t){this.id=e,this.url=t}}class QC extends yo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qa extends yo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qm extends yo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gh extends yo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class YC extends yo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lie extends yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uie extends yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class die extends yo{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hie extends yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fie extends yo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pie{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gie{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mie{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _ie{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yie{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vie{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J4{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bie{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new mh,this.attachRef=null}}let mh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bie,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Z4{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=XC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=XC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=JC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return JC(e,this._root).map(t=>t.value)}}function XC(n,e){if(n===e.value)return e;for(const t of e.children){const r=XC(n,t);if(r)return r}return null}function JC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=JC(n,t);if(r.length)return r.unshift(e),r}return[]}class Zo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class eV extends Z4{constructor(e,t){super(e),this.snapshot=t,ZC(this,e)}toString(){return this.snapshot.toString()}}function tV(n,e){const t=function wie(n,e){const s=new Wm([],{},{},"",{},Re,e,null,{});return new rV("",new Zo(s,[]))}(0,e),r=new Vr([new lh("",{})]),i=new Vr({}),o=new Vr({}),s=new Vr({}),a=new Vr(""),c=new tt(r,i,s,a,o,Re,e,t.root);return c.snapshot=t.root,new eV(new Zo(c,[]),t)}class tt{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ze(l=>l[ch]))??we(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ze(e=>Vl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ze(e=>Vl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nV(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Cie(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Wm{get title(){return this.data?.[ch]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rV extends Z4{constructor(e,t){super(t),this.url=e,ZC(this,t)}toString(){return iV(this._root)}}function ZC(n,e){e.value._routerState=n,e.children.forEach(t=>ZC(n,t))}function iV(n){const e=n.children.length>0?` { ${n.children.map(iV).join(", ")} } `:"";return`${n.value}${e}`}function e1(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_o(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),_o(e.params,t.params)||n.paramsSubject.next(t.params),function Lre(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_o(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),_o(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function t1(n,e){const t=_o(n.params,e.params)&&function jre(n,e){return Wa(n,e)&&n.every((t,r)=>_o(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||t1(n.parent,e.parent))}let jl=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=he(mh),this.location=he(ji),this.changeDetector=he(cm),this.environmentInjector=he(Go),this.inputBinder=he(Km,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new xie(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ie({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bi]}),n})();class xie{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===tt?this.route:e===mh?this.childContexts:this.parent.get(e,t)}}const Km=new le("");let oV=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=UC([r.queryParams,r.params,r.data]).pipe(Ur(([o,s,a],c)=>(a={...o,...s,...a},0===c?we(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function nee(n){const e=lt(n);if(!e)return null;const t=new Od(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function _h(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Iie(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return _h(n,r,i);return _h(n,r)})}(n,e,t);return new Zo(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>_h(n,a)),s}}const r=function Tie(n){return new tt(new Vr(n.url),new Vr(n.params),new Vr(n.queryParams),new Vr(n.fragment),new Vr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>_h(n,o));return new Zo(r,i)}}const n1="ngNavigationCancelingError";function sV(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aV(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function aV(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[n1]=!0,r.cancellationCode=e,t&&(r.url=t),r}function cV(n){return lV(n)&&Ka(n.url)}function lV(n){return n&&n[n1]}let uV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["ng-component"]],standalone:!0,features:[aF],decls:1,vars:0,template:function(t,r){1&t&&Z(0,"router-outlet")},dependencies:[jl],encapsulation:2}),n})();function r1(n){const e=n.children&&n.children.map(r1),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Re&&(t.component=uV),t}function Gi(n){return n.outlet||Re}function yh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class kie{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),e1(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Bl(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Bl(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Bl(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Bl(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vie(o.value.snapshot))}),e.children.length&&this.forwardEvent(new _ie(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(e1(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),e1(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=yh(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class dV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qm{constructor(e,t){this.component=e,this.route=t}}function Nie(n,e,t){const r=n._root;return vh(r,e?e._root:null,t,[r.value])}function zl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function UH(n){return null!==$p(n)}(n)?e.get(n):n:r}function vh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bl(e);return n.children.forEach(s=>{(function Fie(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Lie(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Wa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Wa(n.url,e.url)||!_o(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!t1(n,e)||!_o(n.queryParams,e.queryParams);default:return!t1(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new dV(r)):(o.data=s.data,o._resolvedData=s._resolvedData),vh(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qm(a.outlet.component,s))}else s&&bh(e,a,i),i.canActivateChecks.push(new dV(r)),vh(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>bh(a,t.getContext(s),i)),i}function bh(n,e,t){const r=Bl(n),i=n.value;Object.entries(r).forEach(([o,s])=>{bh(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Qm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function wh(n){return"function"==typeof n}function hV(n){return n instanceof Lm||"EmptyError"===n?.name}const Ym=Symbol("INITIAL_VALUE");function $l(){return Ur(n=>UC(n.map(e=>e.pipe(Qr(1),function Sre(...n){const e=td(n);return wn((t,r)=>{(e?sh(n,t,e):sh(n,t)).subscribe(r)})}(Ym)))).pipe(Ze(e=>{for(const t of e)if(!0!==t){if(t===Ym)return Ym;if(!1===t||t instanceof Ul)return t}return!0}),Yr(e=>e!==Ym),Qr(1)))}function fV(n){return function Lr(...n){return Lp(n)}(tr(e=>{if(Ka(e))throw sV(0,e)}),Ze(e=>!0===e))}class Xm{constructor(e){this.segmentGroup=e||null}}class pV{constructor(e){this.urlTree=e}}function Hl(n){return Ll(new Xm(n))}function gV(n){return Ll(new pV(n))}class roe{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new X(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return we(r);if(i.numberOfChildren>1||!i.children[Re])return Ll(new X(4e3,!1));i=i.children[Re]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Ul(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new yt(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const i1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ioe(n,e,t,r,i){const o=o1(n,e,t);return o.matched?(r=function Die(n,e){return n.providers&&!n._injector&&(n._injector=gw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function eoe(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?we(i.map(s=>{const a=zl(s,n);return Bs(function $ie(n){return n&&wh(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe($l(),fV()):we(!0)}(r,e,t).pipe(Ze(s=>!0===s?o:{...i1}))):we(o)}function o1(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...i1}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fre)(t,n,e);if(!i)return{...i1};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function mV(n,e,t,r){return t.length>0&&function aoe(n,e,t){return t.some(r=>Jm(n,e,r)&&Gi(r)!==Re)}(n,t,r)?{segmentGroup:new yt(e,soe(r,new yt(t,n.children))),slicedSegments:[]}:0===t.length&&function coe(n,e,t){return t.some(r=>Jm(n,e,r))}(n,t,r)?{segmentGroup:new yt(n.segments,ooe(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new yt(n.segments,n.children),slicedSegments:t}}function ooe(n,e,t,r,i){const o={};for(const s of r)if(Jm(n,t,s)&&!i[Gi(s)]){const a=new yt([],{});o[Gi(s)]=a}return{...i,...o}}function soe(n,e){const t={};t[Re]=e;for(const r of n)if(""===r.path&&Gi(r)!==Re){const i=new yt([],{});t[Gi(r)]=i}return t}function Jm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class hoe{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new roe(this.urlSerializer,this.urlTree)}noMatchError(e){return new X(4002,!1)}recognize(){const e=mV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Re).pipe(qa(t=>{if(t instanceof pV)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Xm?this.noMatchError(t):t}),Ze(t=>{const r=new Wm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),i=new Zo(r,t),o=new rV("",i),s=function nie(n,e,t=null,r=null){return q4(G4(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Re).pipe(qa(r=>{throw r instanceof Xm?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=nV(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Un(i).pipe(ah(o=>{const s=r.children[o],a=function Pie(n,e){const t=n.filter(r=>Gi(r)===e);return t.push(...n.filter(r=>Gi(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function kre(n,e){return wn(function Ore(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Cn(s,u=>{const d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Um(null),function Nre(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yr((i,o)=>n(i,o,r)):it,zC(1),t?Um(e):P4(()=>new Lm))}(),Sn(o=>{if(null===o)return Hl(r);const s=_V(o);return function foe(n){n.sort((e,t)=>e.value.outlet===Re?-1:t.value.outlet===Re?1:e.value.outlet.localeCompare(t.value.outlet))}(s),we(s)}))}processSegment(e,t,r,i,o,s){return Un(t).pipe(ah(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(qa(c=>{if(c instanceof Xm)return we(null);throw c}))),Ga(a=>!!a),qa(a=>{if(hV(a))return function uoe(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?we([]):Hl(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function loe(n,e,t,r){return!!(Gi(n)===r||r!==Re&&Jm(e,t,n))&&("**"===n.path||o1(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Hl(i):Hl(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gV(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Sn(s=>{const a=new yt(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=o1(t,i,o);if(!a)return Hl(t);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?gV(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Sn(h=>this.processSegment(e,r,t,h.concat(l),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?N4(i).parameters:{};a=we({snapshot:new Wm(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yV(r),Gi(r),r.component??r._loadedComponent??null,r,vV(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=ioe(t,r,i,e).pipe(Ze(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new Wm(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yV(r),Gi(r),r.component??r._loadedComponent??null,r,vV(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Ur(c=>null===c?Hl(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Ur(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:p}=c,{segmentGroup:b,slicedSegments:E}=mV(t,h,p,l);if(0===E.length&&b.hasChildren())return this.processChildren(u,l,b).pipe(Ze(k=>null===k?null:[new Zo(d,k)]));if(0===l.length&&0===E.length)return we([new Zo(d,[])]);const M=Gi(r)===o;return this.processSegment(u,l,b,E,M?Re:o,!0).pipe(Ze(k=>[new Zo(d,k)]))}))))}getChildConfig(e,t,r){return t.children?we({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?we({routes:t._loadedRoutes,injector:t._loadedInjector}):function Zie(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?we(!0):we(i.map(s=>{const a=zl(s,n);return Bs(function Uie(n){return n&&wh(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe($l(),fV())}(e,t,r).pipe(Sn(i=>i?this.configLoader.loadChildren(e,t).pipe(tr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function noe(n){return Ll(aV(!1,3))}())):we({routes:[],injector:e})}}function poe(n){const e=n.value.routeConfig;return e&&""===e.path}function _V(n){const e=[],t=new Set;for(const r of n){if(!poe(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=_V(r.children);e.push(new Zo(r.value,i))}return e.filter(r=>!t.has(r))}function yV(n){return n.data||{}}function vV(n){return n.resolve||{}}function bV(n){return"string"==typeof n.title||null===n.title}function s1(n){return Ur(e=>{const t=n(e);return t?Un(t).pipe(Ze(()=>e)):we(e)})}const Gl=new le("ROUTES");let a1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(XF)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return we(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Bs(t.loadComponent()).pipe(Ze(wV),tr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),$C(()=>{this.componentLoaders.delete(t)})),i=new jC(r,()=>new ri).pipe(BC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return we({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ze(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l;return Array.isArray(a)?l=a:(c=a.create(t).injector,l=c.get(Gl,[],ze.Self|ze.Optional).flat()),{routes:l.map(r1),injector:c}}),$C(()=>{this.childrenLoaders.delete(r)})),s=new jC(o,()=>new ri).pipe(BC());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Bs(t()).pipe(Ze(wV),Sn(r=>r instanceof oF||Array.isArray(r)?we(r):Un(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wV(n){return function woe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Zm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ri,this.configLoader=he(a1),this.environmentInjector=he(Go),this.urlSerializer=he(uh),this.rootContexts=he(mh),this.inputBindingEnabled=null!==he(Km,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>we(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new gie(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new pie(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Vr({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ph,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yr(r=>0!==r.id),Ze(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ur(r=>{let i=!1,o=!1;return we(r).pipe(tr(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ur(s=>{const a=t.browserUrlTree.toString(),c=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!c&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new gh(s.id,t.serializeUrl(r.rawUrl),u,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),to}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return CV(s.source)&&(t.browserUrlTree=s.extractedUrl),we(s).pipe(Ur(u=>{const d=this.transitions?.getValue();return this.events.next(new QC(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),d!==this.transitions?.getValue()?to:Promise.resolve(u)}),function goe(n,e,t,r,i,o){return Sn(s=>function doe(n,e,t,r,i,o,s="emptyOnly"){return new hoe(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Ze(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),tr(u=>{if(r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const d=new lie(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:d,source:h,restoredState:p,extras:b}=s,E=new QC(u,this.urlSerializer.serialize(d),h,p);this.events.next(E);const M=tV(0,this.rootComponentType).snapshot;return we(r={...s,targetSnapshot:M,urlAfterRedirects:d,extras:{...b,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new gh(s.id,t.serializeUrl(r.extractedUrl),u,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),to}}),tr(s=>{const a=new uie(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ze(s=>r={...s,guards:Nie(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function Gie(n,e){return Sn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?we({...t,guardsResult:!0}):function qie(n,e,t,r){return Un(n).pipe(Sn(i=>function Jie(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?we(o.map(a=>{const c=yh(e)??i,l=zl(a,c);return Bs(function zie(n){return n&&wh(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):c.runInContext(()=>l(n,e,t,r))).pipe(Ga())})).pipe($l()):we(!0)}(i.component,i.route,t,e,r)),Ga(i=>!0!==i,!0))}(s,r,i,n).pipe(Sn(a=>a&&function Vie(n){return"boolean"==typeof n}(a)?function Wie(n,e,t,r){return Un(e).pipe(ah(i=>sh(function Qie(n,e){return null!==n&&e&&e(new mie(n)),we(!0)}(i.route.parent,r),function Kie(n,e){return null!==n&&e&&e(new yie(n)),we(!0)}(i.route,r),function Xie(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function Rie(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Vm(()=>we(s.guards.map(c=>{const l=yh(s.node)??t,u=zl(c,l);return Bs(function jie(n){return n&&wh(n.canActivateChild)}(u)?u.canActivateChild(r,n):l.runInContext(()=>u(r,n))).pipe(Ga())})).pipe($l())));return we(o).pipe($l())}(n,i.path,t),function Yie(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return we(!0);const i=r.map(o=>Vm(()=>{const s=yh(e)??t,a=zl(o,s);return Bs(function Bie(n){return n&&wh(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ga())}));return we(i).pipe($l())}(n,i.route,t))),Ga(i=>!0!==i,!0))}(r,o,n,e):we(a)),Ze(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),tr(s=>{if(r.guardsResult=s.guardsResult,Ka(s.guardsResult))throw sV(0,s.guardsResult);const a=new die(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Yr(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),s1(s=>{if(s.guards.canActivateChecks.length)return we(s).pipe(tr(a=>{const c=new hie(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Ur(a=>{let c=!1;return we(a).pipe(function moe(n,e){return Sn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return we(t);let o=0;return Un(i).pipe(ah(s=>function _oe(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!bV(i)&&(o[ch]=i.title),function yoe(n,e,t,r){const i=function voe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return we({});const o={};return Un(i).pipe(Sn(s=>function boe(n,e,t,r){const i=yh(e)??r,o=zl(n,i);return Bs(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Ga(),tr(a=>{o[s]=a}))),zC(1),O4(o),qa(s=>hV(s)?to:Ll(s)))}(o,n,e,r).pipe(Ze(s=>(n._resolvedData=s,n.data=nV(n,t).resolve,i&&bV(i)&&(n.data[ch]=i.title),null)))}(s.route,r,n,e)),tr(()=>o++),zC(1),Sn(s=>o===i.length?we(t):to))})}(t.paramsInheritanceStrategy,this.environmentInjector),tr({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),tr(a=>{const c=new fie(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),s1(s=>{const a=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(tr(u=>{c.component=u}),Ze(()=>{})));for(const u of c.children)l.push(...a(u));return l};return UC(a(s.targetSnapshot.root)).pipe(Um(),Qr(1))}),s1(()=>this.afterPreactivation()),Ze(s=>{const a=function Eie(n,e,t){const r=_h(n,e._root,t?t._root:void 0);return new eV(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),tr(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t,r)=>Ze(i=>(new kie(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Qr(1),tr({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Qa(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),$C(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),qa(s=>{if(o=!0,lV(s)){cV(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new qm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),cV(s)){const c=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||CV(r.source)};t.scheduleNavigation(c,ph,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new YC(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(c){r.reject(c)}}return to}))}))}cancelNavigationTransition(t,r,i){const o=new qm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CV(n){return n!==ph}let xV=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Re);return r}getResolvedTitleForRoute(t){return t.data[ch]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return he(Coe)},providedIn:"root"}),n})(),Coe=(()=>{class n extends xV{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ge(w3))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xoe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return he(Ioe)},providedIn:"root"}),n})();class Eoe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Ioe=(()=>{class n extends Eoe{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Jn(n)))(r||n)}}(),n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e_=new le("",{providedIn:"root",factory:()=>({})});let Toe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:function(){return he(Doe)},providedIn:"root"}),n})(),Doe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ch=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ch||{});function EV(n,e){n.events.pipe(Yr(t=>t instanceof Qa||t instanceof qm||t instanceof YC||t instanceof gh),Ze(t=>t instanceof Qa||t instanceof gh?Ch.COMPLETE:t instanceof qm&&(0===t.code||1===t.code)?Ch.REDIRECTING:Ch.FAILED),Yr(t=>t!==Ch.REDIRECTING),Qr(1)).subscribe(()=>{e()})}function Aoe(n){throw n}function Moe(n,e,t){return e.parse("/")}const Soe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Poe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ee=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=he(QF),this.isNgZoneEnabled=!1,this.options=he(e_,{optional:!0})||{},this.pendingTasks=he(YF),this.errorHandler=this.options.errorHandler||Aoe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Moe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=he(Toe),this.routeReuseStrategy=he(xoe),this.titleStrategy=he(xV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=he(Gl,{optional:!0})?.flat()??[],this.navigationTransitions=he(Zm),this.urlSerializer=he(uh),this.location=he(Qw),this.componentInputBindingEnabled=!!he(Km,{optional:!0}),this.isNgZoneEnabled=he(ft)instanceof ft&&ft.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ul,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tV(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ph,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(r1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=G4(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return q4(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ka(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ph,null,r)}navigate(t,r={skipLocationChange:!1}){return function Ooe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new X(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Soe}:!1===r?{...Poe}:r,Ka(t))return F4(this.currentUrlTree,t,i);const o=this.parseUrl(t);return F4(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return EV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IV{}let Roe=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Yr(t=>t instanceof Qa),ah(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=gw(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Un(i).pipe(zc())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):we(null);const o=i.pipe(Sn(s=>null===s?we(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Un([o,this.loader.loadComponent(r)]).pipe(zc()):o})}}return n.\u0275fac=function(t){return new(t||n)(ge(Ee),ge(XF),ge(Go),ge(IV),ge(a1))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l1=new le("");let TV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof QC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof gh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof J4&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new J4(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function WN(){throw new Error("invalid")}()},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();function es(n,e){return{\u0275kind:n,\u0275providers:e}}function AV(){const n=he(mr);return e=>{const t=n.get(ja);if(e!==t.components[0])return;const r=n.get(Ee),i=n.get(MV);1===n.get(u1)&&r.initialNavigation(),n.get(SV,null,ze.Optional)?.setUpPreloading(),n.get(l1,null,ze.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const MV=new le("",{factory:()=>new ri}),u1=new le("",{providedIn:"root",factory:()=>1}),SV=new le("");function Uoe(n){return es(0,[{provide:SV,useExisting:Roe},{provide:IV,useExisting:n}])}const PV=new le("ROUTER_FORROOT_GUARD"),joe=[Qw,{provide:uh,useClass:HC},Ee,mh,{provide:tt,useFactory:function DV(n){return n.routerState.root},deps:[Ee]},a1,[]];function zoe(){return new cL("Router",Ee)}let qi=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[joe,[],{provide:Gl,multi:!0,useValue:t},{provide:PV,useFactory:qoe,deps:[[Ee,new Zt,new mg]]},{provide:e_,useValue:r||{}},r?.useHash?{provide:Rs,useClass:LL}:{provide:Rs,useClass:FL},{provide:l1,useFactory:()=>{const n=he(Ite),e=he(ft),t=he(e_),r=he(Zm),i=he(uh);return t.scrollOffset&&n.setOffset(t.scrollOffset),new TV(i,r,n,e,t)}},r?.preloadingStrategy?Uoe(r.preloadingStrategy).\u0275providers:[],{provide:cL,multi:!0,useFactory:zoe},r?.initialNavigation?Woe(r):[],r?.bindToComponentInputs?es(8,[oV,{provide:Km,useExisting:oV}]).\u0275providers:[],[{provide:OV,useFactory:AV},{provide:Vw,multi:!0,useExisting:OV}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Gl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ge(PV,8))},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({}),n})();function qoe(n){return"guarded"}function Woe(n){return["disabled"===n.initialNavigation?es(3,[{provide:om,multi:!0,useFactory:()=>{const e=he(Ee);return()=>{e.setUpLocationChangeListener()}}},{provide:u1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?es(2,[{provide:u1,useValue:0},{provide:om,multi:!0,deps:[mr],useFactory:e=>{const t=e.get(oee,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ee),o=e.get(MV);EV(i,()=>{r(!0)}),e.get(Zm).afterPreactivation=()=>(r(!0),o.closed?we(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const OV=new le("");function kV(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function C(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){kV(o,r,i,s,a,"next",c)}function a(c){kV(o,r,i,s,a,"throw",c)}s(void 0)})}}const re=function(n,e){if(!n)throw ql(e)},ql=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},NV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},t_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0;let h=(15&a)<<2|l>>6,p=63&l;c||(p=64,s||(h=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new Yoe;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Yoe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RV=function(n){const e=NV(n);return t_.encodeByteArray(e,!0)},n_=function(n){return RV(n).replace(/\./g,"")},r_=function(n){try{return t_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xoe(n){return FV(void 0,n)}function FV(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!Joe(t)||(n[t]=FV(n[t],e[t]));return n}function Joe(n){return"__proto__"!==n}const i_=()=>{try{return function Zoe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&r_(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},LV=n=>{var e,t;return null===(t=null===(e=i_())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},h1=n=>{const e=LV(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},VV=()=>{var n;return null===(n=i_())||void 0===n?void 0:n.config},UV=n=>{var e;return null===(e=i_())||void 0===e?void 0:e[`_${n}`]};class Wl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function BV(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[n_(JSON.stringify({alg:"none",type:"JWT"})),n_(JSON.stringify(s)),""].join(".")}function mn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function p1(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function jV(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function js(){try{return"object"==typeof indexedDB}catch{return!1}}function xh(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function g1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ai extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function ase(n,e){return n.replace(cse,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Ai(i,`${this.serviceName}: ${s} (${i}).`,r)}}const cse=/\{\$([^}]+)}/g;function Eh(n){return JSON.parse(n)}function nr(n){return JSON.stringify(n)}const o_=function(n){let e={},t={},r={},i="";try{const o=n.split(".");e=Eh(r_(o[0])||""),t=Eh(r_(o[1])||""),i=o[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function ns(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Kl(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function m1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function s_(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function a_(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(zV(o)&&zV(s)){if(!a_(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function zV(n){return null!==n&&"object"==typeof n}function Ih(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Th(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Dh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class dse{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let l,u,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<t;){if(0===s)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<t;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}class fse{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function pse(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=_1),void 0===i.error&&(i.error=_1),void 0===i.complete&&(i.complete=_1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _1(){}const l_=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e},mse=1e3,_se=2,yse=144e5,vse=.5;function y1(n,e=mse,t=_se){const r=e*Math.pow(t,n),i=Math.round(vse*r*(Math.random()-.5)*2);return Math.min(yse,r+i)}function Wt(n){return n&&n._delegate?n._delegate:n}class jn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ya="[DEFAULT]";class wse{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Wl;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function xse(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return C(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ya?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ese{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wse(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const v1=[];var Ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ye||{});const $V={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Ise=Ye.INFO,Tse={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Dse=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Tse[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Xa{constructor(e){this.name=e,this._logLevel=Ise,this._logHandler=Dse,this._userLogHandler=null,v1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const Ase=(n,e)=>e.some(t=>n instanceof t);let HV,GV;const qV=new WeakMap,b1=new WeakMap,WV=new WeakMap,w1=new WeakMap,C1=new WeakMap;let x1={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return b1.get(n);if("objectStoreNames"===e)return n.objectStoreNames||WV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Rse(n){return"function"==typeof n?function Nse(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Sse(){return GV||(GV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(E1(this),e),zs(qV.get(this))}:function(...e){return zs(n.apply(E1(this),e))}:function(e,...t){const r=n.call(E1(this),e,...t);return WV.set(r,e.sort?e.sort():[e]),zs(r)}}(n):(n instanceof IDBTransaction&&function Ose(n){if(b1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});b1.set(n,e)}(n),Ase(n,function Mse(){return HV||(HV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,x1):n)}function zs(n){if(n instanceof IDBRequest)return function Pse(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(zs(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&qV.set(t,n)}).catch(()=>{}),C1.set(e,n),e}(n);if(w1.has(n))return w1.get(n);const e=Rse(n);return e!==n&&(w1.set(n,e),C1.set(e,n)),e}const E1=n=>C1.get(n),Lse=["get","getKey","getAll","getAllKeys","count"],Vse=["put","add","delete","clear"],I1=new Map;function KV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(I1.get(e))return I1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Vse.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Lse.includes(t))return;const o=function(){var s=C(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return I1.set(e,o),o}!function kse(n){x1=n(x1)}(n=>({...n,get:(e,t,r)=>KV(e,t)||n.get(e,t,r),has:(e,t)=>!!KV(e,t)||n.has(e,t)}));class Use{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function Bse(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const T1="@firebase/app",Ja=new Xa("@firebase/app"),u_="[DEFAULT]",hae={[T1]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Za=new Map,d_=new Map;function fae(n,e){try{n.container.addComponent(e)}catch(t){Ja.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rr(n){const e=n.name;if(d_.has(e))return Ja.debug(`There were multiple attempts to register component ${e}.`),!1;d_.set(e,n);for(const t of Za.values())fae(t,n);return!0}function $s(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const rs=new vo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gae{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const Hs="9.23.0";function YV(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:u_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw rs.create("bad-app-name",{appName:String(i)});if(t||(t=VV()),!t)throw rs.create("no-options");const o=Za.get(i);if(o){if(a_(t,o.options)&&a_(r,o.config))return o;throw rs.create("duplicate-app",{appName:i})}const s=new Ese(i);for(const c of d_.values())s.addComponent(c);const a=new gae(t,r,s);return Za.set(i,a),a}function Ah(n=u_){const e=Za.get(n);if(!e&&n===u_&&VV())return YV();if(!e)throw rs.create("no-app",{appName:n});return e}function XV(){return Array.from(Za.values())}function xt(n,e,t){var r;let i=null!==(r=hae[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ja.warn(a.join(" "))}rr(new jn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const mae="firebase-heartbeat-database",_ae=1,Mh="firebase-heartbeat-store";let A1=null;function JV(){return A1||(A1=function Fse(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=zs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(zs(s.result),c.oldVersion,c.newVersion,zs(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(mae,_ae,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Mh)}}).catch(n=>{throw rs.create("idb-open",{originalErrorMessage:n.message})})),A1}function M1(){return(M1=C(function*(n){try{return yield(yield JV()).transaction(Mh).objectStore(Mh).get(e5(n))}catch(e){if(e instanceof Ai)Ja.warn(e.message);else{const t=rs.create("idb-get",{originalErrorMessage:e?.message});Ja.warn(t.message)}}})).apply(this,arguments)}function ZV(n,e){return S1.apply(this,arguments)}function S1(){return(S1=C(function*(n,e){try{const r=(yield JV()).transaction(Mh,"readwrite");yield r.objectStore(Mh).put(e,e5(n)),yield r.done}catch(t){if(t instanceof Ai)Ja.warn(t.message);else{const r=rs.create("idb-set",{originalErrorMessage:t?.message});Ja.warn(r.message)}}})).apply(this,arguments)}function e5(n){return`${n.name}!${n.options.appId}`}class wae{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xae(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return C(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=t5();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(o=>o.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return C(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=t5(),{heartbeatsToSend:r,unsentEntries:i}=function Cae(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),n5(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),n5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=n_(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function t5(){return(new Date).toISOString().substring(0,10)}class xae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(function*(){return!!js()&&xh().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return C(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function yae(n){return M1.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return C(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return ZV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return C(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return ZV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function n5(n){return n_(JSON.stringify({version:2,heartbeats:n})).length}!function Eae(n){rr(new jn("platform-logger",e=>new Use(e),"PRIVATE")),rr(new jn("heartbeat",e=>new wae(e),"PRIVATE")),xt(T1,"0.9.13",n),xt(T1,"0.9.13","esm2017"),xt("fire-js","")}(""),xt("firebase","9.23.0","app");const Dae=(n,e)=>e.some(t=>n instanceof t);let r5,i5;const o5=new WeakMap,P1=new WeakMap,s5=new WeakMap,O1=new WeakMap,k1=new WeakMap;let N1={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return P1.get(n);if("objectStoreNames"===e)return n.objectStoreNames||s5.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Nae(n){return"function"==typeof n?function kae(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mae(){return i5||(i5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(R1(this),e),Gs(o5.get(this))}:function(...e){return Gs(n.apply(R1(this),e))}:function(e,...t){const r=n.call(R1(this),e,...t);return s5.set(r,e.sort?e.sort():[e]),Gs(r)}}(n):(n instanceof IDBTransaction&&function Pae(n){if(P1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});P1.set(n,e)}(n),Dae(n,function Aae(){return r5||(r5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,N1):n)}function Gs(n){if(n instanceof IDBRequest)return function Sae(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Gs(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&o5.set(t,n)}).catch(()=>{}),k1.set(e,n),e}(n);if(O1.has(n))return O1.get(n);const e=Nae(n);return e!==n&&(O1.set(n,e),k1.set(e,n)),e}const R1=n=>k1.get(n),Fae=["get","getKey","getAll","getAllKeys","count"],Lae=["put","add","delete","clear"],F1=new Map;function a5(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(F1.get(e))return F1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Lae.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Fae.includes(t))return;const o=function(){var s=C(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return F1.set(e,o),o}!function Oae(n){N1=n(N1)}(n=>({...n,get:(e,t,r)=>a5(e,t)||n.get(e,t,r),has:(e,t)=>!!a5(e,t)||n.has(e,t)}));const c5="@firebase/installations",L1="0.6.4",l5=1e4,u5=`w:${L1}`,d5="FIS_v2",Vae="https://firebaseinstallations.googleapis.com/v1",Uae=36e5,is=new vo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function h5(n){return n instanceof Ai&&n.code.includes("request-failed")}function V1({projectId:n}){return`${Vae}/projects/${n}/installations`}function f5(n){return{token:n.token,requestStatus:2,expiresIn:$ae(n.expiresIn),creationTime:Date.now()}}function U1(n,e){return B1.apply(this,arguments)}function B1(){return(B1=C(function*(n,e){const r=(yield e.json()).error;return is.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function p5({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function j1(n){return z1.apply(this,arguments)}function z1(){return(z1=C(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function $ae(n){return Number(n.replace("s","000"))}function $1(){return($1=C(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=V1(n),i=p5(n),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:d5,appId:n.appId,sdkVersion:u5})},c=yield j1(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:f5(l.authToken)}}throw yield U1("Create Installation",c)})).apply(this,arguments)}function m5(n){return new Promise(e=>{setTimeout(e,n)})}const Wae=/^[cdef][\w-]{21}$/,H1="";function Kae(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Qae(n){return function qae(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return Wae.test(t)?t:H1}catch{return H1}}function Ql(n){return`${n.appName}!${n.appId}`}const Yl=new Map;function _5(n,e){const t=Ql(n);y5(t,e),function Jae(n,e){const t=function v5(){return!ec&&"BroadcastChannel"in self&&(ec=new BroadcastChannel("[Firebase] FID Change"),ec.onmessage=n=>{y5(n.data.key,n.data.fid)}),ec}();t&&t.postMessage({key:n,fid:e}),function b5(){0===Yl.size&&ec&&(ec.close(),ec=null)}()}(t,e)}function y5(n,e){const t=Yl.get(n);if(t)for(const r of t)r(e)}let ec=null;const Zae="firebase-installations-database",ece=1,tc="firebase-installations-store";let G1=null;function q1(){return G1||(G1=function Rae(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Gs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Gs(s.result),c.oldVersion,c.newVersion,Gs(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(Zae,ece,{upgrade:(n,e)=>{0===e&&n.createObjectStore(tc)}})),G1}function h_(n,e){return W1.apply(this,arguments)}function W1(){return(W1=C(function*(n,e){const t=Ql(n),i=(yield q1()).transaction(tc,"readwrite"),o=i.objectStore(tc),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&_5(n,e.fid),e})).apply(this,arguments)}function K1(n){return Q1.apply(this,arguments)}function Q1(){return(Q1=C(function*(n){const e=Ql(n),r=(yield q1()).transaction(tc,"readwrite");yield r.objectStore(tc).delete(e),yield r.done})).apply(this,arguments)}function Sh(n,e){return Y1.apply(this,arguments)}function Y1(){return(Y1=C(function*(n,e){const t=Ql(n),i=(yield q1()).transaction(tc,"readwrite"),o=i.objectStore(tc),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&_5(n,a.fid),a})).apply(this,arguments)}function X1(n){return J1.apply(this,arguments)}function J1(){return J1=C(function*(n){let e;const t=yield Sh(n.appConfig,r=>{const i=function tce(n){return C5(n||{fid:Kae(),registrationStatus:0})}(r),o=function nce(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(is.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function rce(n,e){return Z1.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:ice(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===H1?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),J1.apply(this,arguments)}function Z1(){return Z1=C(function*(n,e){try{const t=yield function Gae(n,e){return $1.apply(this,arguments)}(n,e);return h_(n.appConfig,t)}catch(t){throw h5(t)&&409===t.customData.serverCode?yield K1(n.appConfig):yield h_(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),Z1.apply(this,arguments)}function ice(n){return ex.apply(this,arguments)}function ex(){return(ex=C(function*(n){let e=yield w5(n.appConfig);for(;1===e.registrationStatus;)yield m5(100),e=yield w5(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield X1(n);return r||t}return e})).apply(this,arguments)}function w5(n){return Sh(n,e=>{if(!e)throw is.create("installation-not-found");return C5(e)})}function C5(n){return function oce(n){return 1===n.registrationStatus&&n.registrationTime+l5<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function tx(){return(tx=C(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function ace(n,{fid:e}){return`${V1(n)}/${e}/authTokens:generate`}(n,t),i=function g5(n,{refreshToken:e}){const t=p5(n);return t.append("Authorization",function Hae(n){return`${d5} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:u5,appId:n.appId}})},c=yield j1(()=>fetch(r,a));if(c.ok)return f5(yield c.json());throw yield U1("Generate Auth Token",c)})).apply(this,arguments)}function nx(n){return rx.apply(this,arguments)}function rx(){return rx=C(function*(n,e=!1){let t;const r=yield Sh(n.appConfig,o=>{if(!E5(o))throw is.create("not-registered");const s=o.authToken;if(!e&&function uce(n){return 2===n.requestStatus&&!function dce(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Uae}(n)}(s))return o;if(1===s.requestStatus)return t=function cce(n,e){return ix.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw is.create("app-offline");const a=function hce(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function lce(n,e){return ox.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),rx.apply(this,arguments)}function ix(){return(ix=C(function*(n,e){let t=yield x5(n.appConfig);for(;1===t.authToken.requestStatus;)yield m5(100),t=yield x5(n.appConfig);const r=t.authToken;return 0===r.requestStatus?nx(n,e):r})).apply(this,arguments)}function x5(n){return Sh(n,e=>{if(!E5(e))throw is.create("not-registered");return function fce(n){return 1===n.requestStatus&&n.requestTime+l5<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ox(){return ox=C(function*(n,e){try{const t=yield function sce(n,e){return tx.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield h_(n.appConfig,r),t}catch(t){if(!h5(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield h_(n.appConfig,r)}else yield K1(n.appConfig);throw t}}),ox.apply(this,arguments)}function E5(n){return void 0!==n&&2===n.registrationStatus}function sx(){return(sx=C(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield X1(e);return r?r.catch(console.error):nx(e).catch(console.error),t.fid})).apply(this,arguments)}function ax(){return ax=C(function*(n,e=!1){const t=n;return yield function mce(n){return cx.apply(this,arguments)}(t),(yield nx(t,e)).token}),ax.apply(this,arguments)}function cx(){return(cx=C(function*(n){const{registrationPromise:e}=yield X1(n);e&&(yield e)})).apply(this,arguments)}function dx(n){return is.create("missing-app-config-values",{valueName:n})}const I5="installations",wce=n=>{const e=n.getProvider("app").getImmediate(),t=function vce(n){if(!n||!n.options)throw dx("App Configuration");if(!n.name)throw dx("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw dx(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:$s(e,"heartbeat"),_delete:()=>Promise.resolve()}},Cce=n=>{const t=$s(n.getProvider("app").getImmediate(),I5).getImmediate();return{getId:()=>function pce(n){return sx.apply(this,arguments)}(t),getToken:i=>function gce(n){return ax.apply(this,arguments)}(t,i)}};(function xce(){rr(new jn(I5,wce,"PUBLIC")),rr(new jn("installations-internal",Cce,"PRIVATE"))})(),xt(c5,L1),xt(c5,L1,"esm2017");const hx="@firebase/remote-config",Xr=new vo("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nce{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return C(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Rce(n=navigator){return n.languages&&n.languages[0]||n.language}class Fce{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return C(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Rce()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((k,S)=>{e.signal.addEventListener(()=>{const $=new Error("The operation was aborted.");$.name="AbortError",S($)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(k){let S="fetch-client-network";throw"AbortError"===k?.name&&(S="fetch-timeout"),Xr.create(S,{originalErrorMessage:k?.message})}let p=h.status;const b=h.headers.get("ETag")||void 0;let E,M;if(200===h.status){let k;try{k=yield h.json()}catch(S){throw Xr.create("fetch-client-parse",{originalErrorMessage:S?.message})}E=k.entries,M=k.state}if("INSTANCE_STATE_UNSPECIFIED"===M?p=500:"NO_CHANGE"===M?p=304:("NO_TEMPLATE"===M||"EMPTY_CONFIG"===M)&&(E={}),304!==p&&200!==p)throw Xr.create("fetch-status",{httpStatus:p});return{status:p,eTag:b,config:E}})()}}class Uce{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return C(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return C(function*(){yield function Lce(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function Vce(n){if(!(n instanceof Ai&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const s={throttleEndTimeMillis:Date.now()+y1(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(e,s)}})()}}class zce{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function p_(n,e){const t=n.target.error||void 0;return Xr.create(e,{originalErrorMessage:t&&t?.message})}const nc="app_namespace_store";class qce{constructor(e,t,r,i=function Gce(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(p_(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nc,{keyPath:"compositeKey"})}}catch(t){e(Xr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return C(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([nc],"readonly").objectStore(nc),c=t.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{o(p_(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){o(Xr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return C(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([nc],"readwrite").objectStore(nc),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:t});u.onerror=d=>{s(p_(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(Xr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var t=this;return C(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([nc],"readwrite").objectStore(nc),c=t.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{o(p_(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){o(Xr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Wce{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return C(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Qce(){return _x.apply(this,arguments)}function _x(){return(_x=C(function*(){if(!js())return!1;try{return yield xh()}catch{return!1}})).apply(this,arguments)}!function Kce(){rr(new jn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xr.create("registration-window");if(!js())throw Xr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Xr.create("registration-project-id");if(!s)throw Xr.create("registration-api-key");if(!a)throw Xr.create("registration-app-id");const c=new qce(a,r.name,t=t||"firebase"),l=new Wce(c),u=new Xa(hx);u.logLevel=Ye.ERROR;const d=new Fce(i,Hs,t,o,s,a),h=new Uce(d,c),p=new Nce(h,c,l,u),b=new zce(r,p,l,c,u);return function Pce(n){const e=Wt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(b),b},"PUBLIC").setMultipleInstances(!0)),xt(hx,"0.4.4"),xt(hx,"0.4.4","esm2017")}();const Yce=(n,e)=>e.some(t=>n instanceof t);let M5,S5;const P5=new WeakMap,yx=new WeakMap,O5=new WeakMap,vx=new WeakMap,bx=new WeakMap;let wx={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return yx.get(n);if("objectStoreNames"===e)return n.objectStoreNames||O5.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function rle(n){return"function"==typeof n?function nle(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jce(){return S5||(S5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Cx(this),e),os(P5.get(this))}:function(...e){return os(n.apply(Cx(this),e))}:function(e,...t){const r=n.call(Cx(this),e,...t);return O5.set(r,e.sort?e.sort():[e]),os(r)}}(n):(n instanceof IDBTransaction&&function ele(n){if(yx.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});yx.set(n,e)}(n),Yce(n,function Xce(){return M5||(M5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,wx):n)}function os(n){if(n instanceof IDBRequest)return function Zce(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(os(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&P5.set(t,n)}).catch(()=>{}),bx.set(e,n),e}(n);if(vx.has(n))return vx.get(n);const e=rle(n);return e!==n&&(vx.set(n,e),bx.set(e,n)),e}const Cx=n=>bx.get(n);function k5(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=os(s);return r&&s.addEventListener("upgradeneeded",c=>{r(os(s.result),c.oldVersion,c.newVersion,os(s.transaction))}),t&&s.addEventListener("blocked",()=>t()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function xx(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),os(t).then(()=>{})}const ile=["get","getKey","getAll","getAllKeys","count"],ole=["put","add","delete","clear"],Ex=new Map;function N5(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Ex.get(e))return Ex.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ole.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ile.includes(t))return;const o=function(){var s=C(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Ex.set(e,o),o}!function tle(n){wx=n(wx)}(n=>({...n,get:(e,t,r)=>N5(e,t)||n.get(e,t,r),has:(e,t)=>!!N5(e,t)||n.has(e,t)}));const sle="/firebase-messaging-sw.js",ale="/firebase-cloud-messaging-push-scope",R5="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cle="https://fcmregistrations.googleapis.com/v1",F5="google.c.a.c_id",lle="google.c.a.c_l",ule="google.c.a.ts";var g_=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(g_||{});function ss(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fle(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const Ix="fcm_token_details_db",ple=5,L5="fcm_token_object_Store";function Tx(){return Tx=C(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Ix))return null;let e=null;return(yield k5(Ix,ple,{upgrade:(r=C(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(L5))return;const l=a.objectStore(L5),u=yield l.index("fcmSenderId").get(n);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ss(d.vapidKey)}}}else if(3===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ss(d.auth),p256dh:ss(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ss(d.vapidKey)}}}else if(4===o){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ss(d.auth),p256dh:ss(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ss(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield xx(Ix),yield xx("fcm_vapid_details_db"),yield xx("undefined"),function mle(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Tx.apply(this,arguments)}const _le="firebase-messaging-database",yle=1,rc="firebase-messaging-store";let Dx=null;function Ax(){return Dx||(Dx=k5(_le,yle,{upgrade:(n,e)=>{0===e&&n.createObjectStore(rc)}})),Dx}function V5(n){return Mx.apply(this,arguments)}function Mx(){return Mx=C(function*(n){const e=kx(n),r=yield(yield Ax()).transaction(rc).objectStore(rc).get(e);if(r)return r;{const i=yield function gle(n){return Tx.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Sx(n,i),i}}),Mx.apply(this,arguments)}function Sx(n,e){return Px.apply(this,arguments)}function Px(){return(Px=C(function*(n,e){const t=kx(n),i=(yield Ax()).transaction(rc,"readwrite");return yield i.objectStore(rc).put(e,t),yield i.done,e})).apply(this,arguments)}function Ox(){return(Ox=C(function*(n){const e=kx(n),r=(yield Ax()).transaction(rc,"readwrite");yield r.objectStore(rc).delete(e),yield r.done})).apply(this,arguments)}function kx({appConfig:n}){return n.appId}const ir=new vo("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wle(n,e){return Nx.apply(this,arguments)}function Nx(){return(Nx=C(function*(n,e){const t=yield Vx(n),r=B5(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(Lx(n.appConfig),i)).json()}catch(s){throw ir.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw ir.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw ir.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Rx(){return(Rx=C(function*(n,e){const t=yield Vx(n),r=B5(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${Lx(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw ir.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw ir.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw ir.create("token-update-no-token");return o.token})).apply(this,arguments)}function U5(n,e){return Fx.apply(this,arguments)}function Fx(){return(Fx=C(function*(n,e){const r={method:"DELETE",headers:yield Vx(n)};try{const o=yield(yield fetch(`${Lx(n.appConfig)}/${e}`,r)).json();if(o.error)throw ir.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw ir.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Lx({projectId:n}){return`${cle}/projects/${n}/registrations`}function Vx(n){return Ux.apply(this,arguments)}function Ux(){return(Ux=C(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function B5({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==R5&&(i.web.applicationPubKey=r),i}const xle=6048e5;function Bx(){return Bx=C(function*(n){const e=yield function Tle(n,e){return Hx.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ss(e.getKey("auth")),p256dh:ss(e.getKey("p256dh"))},r=yield V5(n.firebaseDependencies);if(r){if(function Dle(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+xle?function Ile(n,e){return zx.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield U5(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return z5(n.firebaseDependencies,t)}return z5(n.firebaseDependencies,t)}),Bx.apply(this,arguments)}function jx(){return jx=C(function*(n){const e=yield V5(n.firebaseDependencies);e&&(yield U5(n.firebaseDependencies,e.token),yield function vle(n){return Ox.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),jx.apply(this,arguments)}function zx(){return zx=C(function*(n,e){try{const t=yield function Cle(n,e){return Rx.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Sx(n.firebaseDependencies,r),t}catch(t){throw yield function j5(n){return jx.apply(this,arguments)}(n),t}}),zx.apply(this,arguments)}function z5(n,e){return $x.apply(this,arguments)}function $x(){return($x=C(function*(n,e){const r={token:yield wle(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Sx(n,r),r.token})).apply(this,arguments)}function Hx(){return(Hx=C(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fle(e)})})).apply(this,arguments)}function $5(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Ale(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Mle(n,e){e.data&&(n.data=e.data)}(e,n),function Sle(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function H5(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Gx(n){return ir.create("missing-app-config-values",{valueName:n})}H5("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),H5("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kle{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Ole(n){if(!n||!n.options)throw Gx("App Configuration Object");if(!n.name)throw Gx("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Gx(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function qx(){return(qx=C(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(sle,{scope:ale}),n.swRegistration.update().catch(()=>{})}catch(e){throw ir.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Wx(){return(Wx=C(function*(n,e){if(!e&&!n.swRegistration&&(yield function G5(n){return qx.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ir.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Kx(){return(Kx=C(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=R5)})).apply(this,arguments)}function Qx(){return Qx=C(function*(n,e){if(!navigator)throw ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ir.create("permission-blocked");return yield function Rle(n,e){return Kx.apply(this,arguments)}(n,e?.vapidKey),yield function Nle(n,e){return Wx.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Ele(n){return Bx.apply(this,arguments)}(n)}),Qx.apply(this,arguments)}function Yx(){return(Yx=C(function*(n,e,t){const r=function Lle(n){switch(n){case g_.NOTIFICATION_CLICKED:return"notification_open";case g_.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[F5],message_name:t[lle],message_time:t[ule],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xx(){return Xx=C(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===g_.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler($5(t)):n.onMessageHandler.next($5(t)));const r=t.data;(function Ple(n){return"object"==typeof n&&!!n&&F5 in n})(r)&&"1"===r["google.c.a.e"]&&(yield function Fle(n,e,t){return Yx.apply(this,arguments)}(n,t.messageType,r))}),Xx.apply(this,arguments)}const W5="@firebase/messaging",Ule=n=>{const e=new kle(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Vle(n,e){return Xx.apply(this,arguments)}(e,t)),e},Ble=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function q5(n,e){return Qx.apply(this,arguments)}(e,r)}};function Q5(){return Jx.apply(this,arguments)}function Jx(){return(Jx=C(function*(){try{yield xh()}catch{return!1}return typeof window<"u"&&js()&&g1()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function jle(){rr(new jn("messaging",Ule,"PUBLIC")),rr(new jn("messaging-internal",Ble,"PRIVATE")),xt(W5,"0.12.4"),xt(W5,"0.12.4","esm2017")}();const m_="analytics",Hle="firebase_id",Gle="origin",qle=6e4,Wle="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tE="https://www.googletagmanager.com/gtag/js",zn=new Xa("@firebase/analytics"),kr=new vo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Qle(n){if(!n.startsWith(tE)){const e=kr.create("invalid-gtag-resource",{gtagURL:n});return zn.warn(e.message),""}return n}function Y5(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function nE(){return(nE=C(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield Y5(t)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){zn.error(a)}n("config",i,o)})).apply(this,arguments)}function rE(){return(rE=C(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield Y5(t);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){zn.error(o)}})).apply(this,arguments)}const iue=30,X5=new class sue{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function aue(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function iE(){return(iE=C(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:aue(r)},o=Wle.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw kr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function oE(){return(oE=C(function*(n,e=X5,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw kr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw kr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new hue;return setTimeout(C(function*(){a.abort()}),void 0!==t?t:qle),J5({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function J5(n,e,t){return sE.apply(this,arguments)}function sE(){return sE=C(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=X5){var o;const{appId:s,measurementId:a}=n;try{yield function uue(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(kr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function cue(n){return iE.apply(this,arguments)}(n);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function due(n){if(!(n instanceof Ai&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(s),a)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?y1(t,i.intervalMillis,iue):y1(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return i.setThrottleMetadata(s,d),zn.debug(`Calling attemptFetch again in ${u} millis`),J5(n,d,r,i)}}),sE.apply(this,arguments)}class hue{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let aE,pE;function cE(){return(cE=C(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function gE(){return(gE=C(function*(){if(!js())return zn.warn(kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield xh()}catch(n){return zn.warn(kr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function mE(){return mE=C(function*(n,e,t,r,i,o,s){var a;const c=function lue(n){return oE.apply(this,arguments)}(n);c.then(p=>{t[p.measurementId]=p.appId,n.options.measurementId&&p.measurementId!==n.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>zn.error(p)),e.push(c);const l=function vue(){return gE.apply(this,arguments)}().then(p=>{if(p)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function rue(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(tE)&&t.src.includes(n))return t;return null})(o)||function Xle(n,e){const t=function Yle(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Qle}),r=document.createElement("script"),i=`${tE}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),pE&&(i("consent","default",pE),function Z5(n){pE=n}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[Gle]="firebase",h.update=!0,null!=d&&(h[Hle]=d),i("config",u.measurementId,h),aE&&(i("set",aE),function eU(n){aE=n}(void 0)),u.measurementId}),mE.apply(this,arguments)}class wue{constructor(e){this.app=e}_delete(){return delete bo[this.app.options.appId],Promise.resolve()}}let bo={},tU=[];const nU={};let iU,wo,__="dataLayer",_E=!1;function xue(n,e,t){!function Cue(){const n=[];if(p1()&&n.push("This is a browser extension environment."),g1()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=kr.create("invalid-analytics-context",{errorInfo:e});zn.warn(t.message)}}();const r=n.options.appId;if(!r)throw kr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw kr.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bo[r])throw kr.create("already-exists",{id:r});if(!_E){!function Jle(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(__);const{wrappedGtag:o,gtagCore:s}=function nue(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function tue(n,e,t,r){function o(){return o=C(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function eue(n,e,t,r,i){return rE.apply(this,arguments)}(n,e,t,c,l)}else if("config"===s){const[c,l]=a;yield function Zle(n,e,t,r,i,o){return nE.apply(this,arguments)}(n,e,t,r,c,l)}else if("consent"===s){const[c]=a;n("consent","update",c)}else if("get"===s){const[c,l,u]=a;n("get",c,l,u)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){zn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(bo,tU,nU,__,"gtag");wo=o,iU=s,_E=!0}return bo[r]=function bue(n,e,t,r,i,o,s){return mE.apply(this,arguments)}(n,tU,nU,e,iU,__,t),new wue(n)}function Iue(){return yE.apply(this,arguments)}function yE(){return(yE=C(function*(){if(p1()||!g1()||!js())return!1;try{return yield xh()}catch{return!1}})).apply(this,arguments)}const oU="@firebase/analytics";!function Due(){rr(new jn(m_,(e,{options:t})=>xue(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),rr(new jn("analytics-internal",function n(e){try{const t=e.getProvider(m_).getImmediate();return{logEvent:(r,i,o)=>function Tue(n,e,t,r){n=Wt(n),function fue(n,e,t,r,i){return cE.apply(this,arguments)}(wo,bo[n.app.options.appId],e,t,r).catch(i=>zn.error(i))}(t,r,i,o)}}catch(t){throw kr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),xt(oU,"0.10.0"),xt(oU,"0.10.0","esm2017")}();class Aue extends j{constructor(e,t){super()}schedule(e,t=0){return this}}const y_={setInterval(n,e,...t){const{delegate:r}=y_;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=y_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class aU extends Aue{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return y_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&y_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,F(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const cU={now:()=>(cU.delegate||Date).now(),delegate:void 0};class Ph{constructor(e,t=Ph.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Ph.now=cU.now;class lU extends Ph{constructor(e,t=Ph.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Pue=new class Sue extends lU{}(class Mue extends aU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),bE=new lU(aU),Oue=bE,Xl=new gl("7.6.1"),wE="__angularfire_symbol__analyticsIsSupportedValue",CE="__angularfire_symbol__analyticsIsSupported",xE="__angularfire_symbol__remoteConfigIsSupportedValue",EE="__angularfire_symbol__remoteConfigIsSupported",IE="__angularfire_symbol__messagingIsSupportedValue",TE="__angularfire_symbol__messagingIsSupported";function Oh(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[CE]||(globalThis[CE]=Iue().then(n=>globalThis[wE]=n).catch(()=>globalThis[wE]=!1)),globalThis[TE]||(globalThis[TE]=Q5().then(n=>globalThis[IE]=n).catch(()=>globalThis[IE]=!1)),globalThis[EE]||(globalThis[EE]=Qce().then(n=>globalThis[xE]=n).catch(()=>globalThis[xE]=!1));const kh=(n,e)=>{const t=e?[e]:XV(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Jl(){}class uU{constructor(e,t=Pue){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class kue{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jl,{},Jl,Jl)),t.pipe(tr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nh=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new uU(Zone.current)),this.insideAngular=t.run(()=>new uU(Zone.current,bE)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(ge(ft))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ic(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function oc(n){return ic().ngZone.run(()=>n())}function Rue(n){return ic(),function Fue(n){return function(t){return(t=t.lift(new kue(n.ngZone))).pipe(Up(n.outsideAngular),Vp(n.insideAngular))}}(ic())(n)}const Lue=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),oc(()=>n.apply(void 0,r))},Fn=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=oc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jl,{},Jl,Jl)))),r[o]=Lue(r[o],t));const i=function Nue(n){return ic().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Ct){const o=ic();return i.pipe(Up(o.outsideAngular),Vp(o.insideAngular))}return oc(()=>i)}return i instanceof Ct?i.pipe(Rue):i instanceof Promise?oc(()=>new Promise((o,s)=>i.then(a=>oc(()=>o(a)),a=>oc(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:oc(()=>i)};class qs{constructor(e){return e}}class Rh{constructor(){return XV()}}const AE=new le("angularfire2._apps"),Uue={provide:qs,useFactory:function Vue(n){return n&&1===n.length?n[0]:new qs(Ah())},deps:[[new Zt,AE]]},Bue={provide:Rh,deps:[[new Zt,AE]]};function jue(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new qs(r)}}let zue=(()=>{class n{constructor(t){xt("angularfire",Xl.full,"core"),xt("angularfire",Xl.full,"app"),xt("angular",MN.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(ge(lo))},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({providers:[Uue,Bue]}),n})();function $ue(n,...e){return{ngModule:zue,providers:[{provide:AE,useFactory:jue(n),multi:!0,deps:[ft,mr,Nh,...e]}]}}const Hue=Fn(YV,!0),ME=new Map,dU={activated:!1,tokenObservers:[]},Gue={initialized:!1,enabled:!1};function on(n){return ME.get(n)||Object.assign({},dU)}function v_(){return Gue}const SE="https://content-firebaseappcheck.googleapis.com/v1",Que="exchangeDebugToken",hU={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Xue{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return C(function*(){t.stop();try{t.pending=new Wl,yield function Jue(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Wl,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const or=new vo("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PE(n){if(!on(n).activated)throw or.create("use-before-activation",{appName:n.name})}function C_(n,e){return kE.apply(this,arguments)}function kE(){return(kE=C(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(d){throw or.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw or.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw or.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function fU(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${SE}/projects/${t}/apps/${r}:${Que}?key=${i}`,body:{debug_token:e}}}const nde="firebase-app-check-database",rde=1,Fh="firebase-app-check-store";let x_=null;function NE(){return(NE=C(function*(n,e){const r=(yield function gU(){return x_||(x_=new Promise((n,e)=>{try{const t=indexedDB.open(nde,rde);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(or.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fh,{keyPath:"compositeKey"})}}catch(t){e(or.create("storage-open",{originalErrorMessage:t?.message}))}}),x_)}()).transaction(Fh,"readwrite"),o=r.objectStore(Fh).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(or.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Lh=new Xa("@firebase/app-check");function LE(n,e){return js()?function ode(n,e){return function mU(n,e){return NE.apply(this,arguments)}(function yU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Lh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function UE(){return v_().enabled}function BE(){return jE.apply(this,arguments)}function jE(){return(jE=C(function*(){const n=v_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const dde={error:"UNKNOWN_ERROR"};function hde(n){return t_.encodeString(JSON.stringify(n),!1)}function E_(n){return zE.apply(this,arguments)}function zE(){return(zE=C(function*(n,e=!1){const t=n.app;PE(t);const r=on(t);let o,i=r.token;if(i&&!Zl(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Zl(c)?i=c:yield LE(t,void 0))}if(!e&&i&&Zl(i))return{token:i.token};let a,s=!1;if(UE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=C_(fU(t,yield BE()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield LE(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield on(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Lh.warn(c.message):Lh.error(c),o=c}return i?o?a=Zl(i)?{token:i.token,internalError:o}:CU(o):(a={token:i.token},r.token=i,yield LE(t,i)):a=CU(o),s&&function wU(n,e){const t=on(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function vU(n){return $E.apply(this,arguments)}function $E(){return($E=C(function*(n){const e=n.app;PE(e);const{provider:t}=on(e);if(UE()){const r=yield BE(),{token:i}=yield C_(fU(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function GE(n,e){const t=on(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function bU(n){const{app:e}=n,t=on(e);let r=t.tokenRefresher;r||(r=function fde(n){const{app:e}=n;return new Xue(C(function*(){let r;if(r=on(e).token?yield E_(n,!0):yield E_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=on(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},hU.RETRIAL_MIN_WAIT,hU.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Zl(n){return n.expireTimeMillis-Date.now()>0}function CU(n){return{token:hde(dde),error:n}}class pde{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=on(this.app);for(const t of e)GE(this.app,t.next);return Promise.resolve()}}const SU="app-check-internal";!function Ade(){rr(new jn("app-check",n=>function gde(n,e){return new pde(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(SU).initialize()})),rr(new jn(SU,n=>function mde(n){return{getToken:e=>E_(n,e),getLimitedUseToken:()=>vU(n),addTokenListener:e=>function HE(n,e,t,r){const{app:i}=n,o=on(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Zl(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),bU(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>bU(n))}(n,"INTERNAL",e),removeTokenListener:e=>GE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),xt("@firebase/app-check","0.8.0")}();class Vh{constructor(){return kh("app-check")}}typeof window<"u"&&window;const kde=function OU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},kU=new vo("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),T_=new Xa("@firebase/auth");function D_(n,...e){T_.logLevel<=Ye.ERROR&&T_.error(`Auth (${Hs}): ${n}`,...e)}function Jr(n,...e){throw YE(n,...e)}function Co(n,...e){return YE(n,...e)}function YE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return kU.create(n,...e)}function ee(n,e,...t){if(!n)throw YE(e,...t)}function xo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw D_(e),new Error(e)}function Ws(n,e){n||xo(e)}function Uh(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function RU(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Bh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ws(t>e,"Short delay should be less than long delay!"),this.isMobile=f1()||jV()}get(){return function Rde(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function XE(){return"http:"===RU()||"https:"===RU()}()||p1()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function JE(n,e){Ws(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class FU{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lde={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vde=new Bh(3e4,6e4);function en(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function sn(n,e,t,r){return ZE.apply(this,arguments)}function ZE(){return(ZE=C(function*(n,e,t,r,i={}){return LU(n,i,C(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Ih(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),FU.fetch()(VU(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function LU(n,e,t){return eI.apply(this,arguments)}function eI(){return(eI=C(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lde),e);try{const i=new Ude(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw jh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw jh(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw jh(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw jh(n,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function NU(n,e,t){const r=Object.assign(Object.assign({},kde()),{[e]:t});return new vo("auth","Firebase",r).create(e,{appName:n.name})}(n,u,l);Jr(n,u)}}catch(i){if(i instanceof Ai)throw i;Jr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function as(n,e,t,r){return tI.apply(this,arguments)}function tI(){return(tI=C(function*(n,e,t,r,i={}){const o=yield sn(n,e,t,r,i);return"mfaPendingCredential"in o&&Jr(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function VU(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?JE(n.config,i):`${n.config.apiScheme}://${i}`}class Ude{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Co(this.auth,"network-request-failed")),Vde.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Co(n,e,r);return i.customData._tokenResponse=t,i}function nI(){return(nI=C(function*(n,e){return sn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function iI(){return(iI=C(function*(n,e){return sn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function zh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function oI(){return(oI=C(function*(n,e=!1){const t=Wt(n),r=yield t.getIdToken(e),i=A_(r);ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:zh(sI(i.auth_time)),issuedAtTime:zh(sI(i.iat)),expirationTime:zh(sI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function sI(n){return 1e3*Number(n)}function A_(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return D_("JWT malformed, contained fewer than 3 sections"),null;try{const i=r_(t);return i?JSON.parse(i):(D_("Failed to decode base64 JWT payload"),null)}catch(i){return D_("Caught error parsing JWT payload as JSON",i?.toString()),null}}function cs(n,e){return aI.apply(this,arguments)}function aI(){return(aI=C(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ai&&function Gde({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class qde{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(C(function*(){yield t.iteration()}),r)}iteration(){var e=this;return C(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class UU{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zh(this.lastLoginAt),this.creationTime=zh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $h(n){return cI.apply(this,arguments)}function cI(){return cI=C(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield cs(n,function zde(n,e){return iI.apply(this,arguments)}(t,{idToken:r}));ee(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Qde(n){return n.map(e=>{var{providerId:t}=e,r=rv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function Kde(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new UU(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),cI.apply(this,arguments)}function lI(){return(lI=C(function*(n){const e=Wt(n);yield $h(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function uI(){return(uI=C(function*(n,e){const t=yield LU(n,{},C(function*(){const r=Ih({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=VU(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",FU.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Hh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Hde(n){const e=A_(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return C(function*(){return ee(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return C(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Yde(n,e){return uI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Hh;return r&&(ee("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(ee("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(ee("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hh,this.toJSON())}_performRefresh(){return xo("not implemented")}}function Ks(n,e){ee("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class sc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qde(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new UU(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return C(function*(){const r=yield cs(t,t.stsTokenManager.getToken(t.auth,e));return ee(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function $de(n){return oI.apply(this,arguments)}(this,e)}reload(){return function Wde(n){return lI.apply(this,arguments)}(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return C(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield $h(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return C(function*(){const t=yield e.getIdToken();return yield cs(e,function Bde(n,e){return nI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,p=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=t.photoURL)&&void 0!==s?s:void 0,E=null!==(a=t.tenantId)&&void 0!==a?a:void 0,M=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,k=null!==(l=t.createdAt)&&void 0!==l?l:void 0,S=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:$,emailVerified:J,isAnonymous:ae,providerData:be,stsTokenManager:Ft}=t;ee($&&Ft,e,"internal-error");const Mn=Hh.fromJSON(this.name,Ft);ee("string"==typeof $,e,"internal-error"),Ks(d,e.name),Ks(h,e.name),ee("boolean"==typeof J,e,"internal-error"),ee("boolean"==typeof ae,e,"internal-error"),Ks(p,e.name),Ks(b,e.name),Ks(E,e.name),Ks(M,e.name),Ks(k,e.name),Ks(S,e.name);const ki=new sc({uid:$,auth:e,email:h,emailVerified:J,displayName:d,isAnonymous:ae,photoURL:b,phoneNumber:p,tenantId:E,stsTokenManager:Mn,createdAt:k,lastLoginAt:S});return be&&Array.isArray(be)&&(ki.providerData=be.map(Lo=>Object.assign({},Lo))),M&&(ki._redirectEventId=M),ki}static _fromIdTokenResponse(e,t,r=!1){return C(function*(){const i=new Hh;i.updateFromServerResponse(t);const o=new sc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $h(o),o})()}}const BU=new Map;function ls(n){Ws(n instanceof Function,"Expected a class definition");let e=BU.get(n);return e?(Ws(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BU.set(n,e),e)}const jU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(function*(){return!0})()}_set(t,r){var i=this;return C(function*(){i.storage[t]=r})()}_get(t){var r=this;return C(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return C(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function M_(n,e,t){return`firebase:${n}:${e}:${t}`}class tu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=M_(this.userKey,i.apiKey,o),this.fullPersistenceKey=M_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return C(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?sc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return C(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(function*(){if(!t.length)return new tu(ls(jU),e,r);const i=(yield Promise.all(t.map(function(){var l=C(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||ls(jU);const s=M_(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const u=yield l._get(s);if(u){const d=sc._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var l=C(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new tu(o,e,r)):new tu(o,e,r)})()}}function zU(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($U(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WU(e))return"Blackberry";if(KU(e))return"Webos";if(dI(e))return"Safari";if((e.includes("chrome/")||HU(e))&&!e.includes("edge/"))return"Chrome";if(qU(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function $U(n=mn()){return/firefox\//i.test(n)}function dI(n=mn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HU(n=mn()){return/crios\//i.test(n)}function GU(n=mn()){return/iemobile/i.test(n)}function qU(n=mn()){return/android/i.test(n)}function WU(n=mn()){return/blackberry/i.test(n)}function KU(n=mn()){return/webos/i.test(n)}function S_(n=mn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function QU(n=mn()){return S_(n)||qU(n)||KU(n)||WU(n)||/windows phone/i.test(n)||GU(n)}function YU(n,e=[]){let t;switch(n){case"Browser":t=zU(mn());break;case"Worker":t=`${zU(mn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hs}/${r}`}function XU(n,e){return fI.apply(this,arguments)}function fI(){return(fI=C(function*(n,e){return sn(n,"GET","/v2/recaptchaConfig",en(n,e))})).apply(this,arguments)}function ZU(n){return void 0!==n&&void 0!==n.enterprise}class e9{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function pI(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Co("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function the(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function t9(n){return`__${n}${Math.floor(1e6*Math.random())}`}class n9{constructor(e){this.type="recaptcha-enterprise",this.auth=$n(e)}verify(e="verify",t=!1){var r=this;return C(function*(){function o(){return o=C(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=C(function*(l,u){XU(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new e9(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;ZU(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(l=>{if(!t&&ZU(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));pI("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Qs(n,e,t){return gI.apply(this,arguments)}function gI(){return(gI=C(function*(n,e,t,r=!1){const i=new n9(n);let o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class ohe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return C(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class she{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r9(this),this.idTokenSubscription=new r9(this),this.beforeStateQueue=new ohe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ls(t)),this._initializationPromise=this.queue(C(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield tu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return C(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return C(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return ee(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return C(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return C(function*(){try{yield $h(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Fde(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return C(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return C(function*(){const r=e?Wt(e):null;return r&&ee(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return C(function*(){if(!r._deleted)return e&&ee(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(C(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return C(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(C(function*(){yield t.assertedPersistence.setPersistence(ls(e))}))}initializeRecaptchaConfig(){var e=this;return C(function*(){const t=yield XU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new e9(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new n9(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return C(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return C(function*(){if(!t.redirectPersistenceManager){const r=e&&ls(e)||t._popupRedirectResolver;ee(r,t,"argument-error"),t.redirectPersistenceManager=yield tu.create(t,[ls(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return C(function*(){var r,i;return t._isInitialized&&(yield t.queue(C(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return C(function*(){if(e===t.currentUser)return t.queue(C(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return C(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return C(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return C(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Nde(n,...e){T_.logLevel<=Ye.WARN&&T_.warn(`Auth (${Hs}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function $n(n){return Wt(n)}class r9{constructor(e){this.auth=e,this.observer=null,this.addObserver=function hse(n,e){const t=new fse(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function i9(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function o9(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class s9{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xo("not implemented")}_getIdTokenResponse(e){return xo("not implemented")}_linkToIdToken(e,t){return xo("not implemented")}_getReauthenticationResolver(e){return xo("not implemented")}}function c9(n,e){return _I.apply(this,arguments)}function _I(){return(_I=C(function*(n,e){return sn(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function vI(n,e){return bI.apply(this,arguments)}function bI(){return(bI=C(function*(n,e){return as(n,"POST","/v1/accounts:signInWithPassword",en(n,e))})).apply(this,arguments)}function AI(){return(AI=C(function*(n,e){return as(n,"POST","/v1/accounts:signInWithEmailLink",en(n,e))})).apply(this,arguments)}function MI(){return(MI=C(function*(n,e){return as(n,"POST","/v1/accounts:signInWithEmailLink",en(n,e))})).apply(this,arguments)}class Gh extends s9{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Gh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Gh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return C(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Qs(e,i,"signInWithPassword");return vI(e,o)}return vI(e,i).catch(function(){var o=C(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Qs(e,i,"signInWithPassword");return vI(e,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function ghe(n,e){return AI.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Jr(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return C(function*(){switch(r.signInMethod){case"password":return c9(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function mhe(n,e){return MI.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Jr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function us(n,e){return SI.apply(this,arguments)}function SI(){return(SI=C(function*(n,e){return as(n,"POST","/v1/accounts:signInWithIdp",en(n,e))})).apply(this,arguments)}class Kh{constructor(e){var t,r,i,o,s,a;const c=Th(Dh(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function xhe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ee(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Ehe(n){const e=Th(Dh(n)).link,t=e?Th(Dh(e)).deep_link_id:null,r=Th(Dh(n)).deep_link_id;return(r?Th(Dh(r)).link:null)||r||t||e||n}(e);try{return new Kh(t)}catch{return null}}}let l9=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Gh._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Kh.parseLink(r);return ee(i,"argument-error"),Gh._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ys{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ihe extends Ys{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function k_(n,e){return FI.apply(this,arguments)}function FI(){return(FI=C(function*(n,e){return as(n,"POST","/v1/accounts:signUp",en(n,e))})).apply(this,arguments)}class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(function*(){const o=yield sc._fromIdTokenResponse(e,r,i),s=u9(r);return new Mi({user:o,providerId:s,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return C(function*(){yield e._updateTokensIfNecessary(r,!0);const i=u9(r);return new Mi({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function u9(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class N_ extends Ai{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,N_.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new N_(e,t,r,i)}}function d9(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?N_._fromErrorAndOperation(n,o,e,r):o})}function BI(){return(BI=C(function*(n,e,t=!1){const r=yield cs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Mi._forOperation(n,"link",r)})).apply(this,arguments)}function zI(){return(zI=C(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield cs(n,d9(r,i,e,n),t);ee(o.idToken,r,"internal-error");const s=A_(o.idToken);ee(s,r,"internal-error");const{sub:a}=s;return ee(n.uid===a,r,"user-mismatch"),Mi._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Jr(r,"user-mismatch"),o}})).apply(this,arguments)}function p9(n,e){return $I.apply(this,arguments)}function $I(){return($I=C(function*(n,e,t=!1){const r="signIn",i=yield d9(n,r,e),o=yield Mi._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function GI(){return(GI=C(function*(n,e){return p9($n(n),e)})).apply(this,arguments)}function Ohe(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=C(function*(n,e,t){var r;const i=$n(n),o={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const l=yield Qs(i,o,"signUpPassword");s=k_(i,l)}else s=k_(i,o).catch(function(){var l=C(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Qs(i,o,"signUpPassword");return k_(i,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield Mi._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),iT.apply(this,arguments)}function khe(n,e,t){return function HI(n,e){return GI.apply(this,arguments)}(Wt(n),l9.credential(e,t))}function $he(n,e,t,r){return Wt(n).onAuthStateChanged(e,t,r)}function Hhe(n){return Wt(n).signOut()}const F_="__sak";class m9{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(F_,"1"),this.storage.removeItem(F_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jhe=(()=>{class n extends m9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qhe(){const n=mn();return dI(n)||S_(n)}()&&function Zde(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=QU(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function Jde(){return function ise(){const n=mn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return C(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return C(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return C(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),_9=(()=>{class n extends m9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let efe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return C(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=C(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Zhe(n){return Promise.all(n.map(function(){var e=C(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function vT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class tfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return C(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=vT("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const p=h;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Tn(){return window}function bT(){return typeof Tn().WorkerGlobalScope<"u"&&"function"==typeof Tn().importScripts}function wT(){return(wT=C(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const y9="firebaseLocalStorageDb",L_="firebaseLocalStorage",v9="fbase_key";class Yh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function V_(n,e){return n.transaction([L_],e?"readwrite":"readonly").objectStore(L_)}function CT(){const n=indexedDB.open(y9,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(L_,{keyPath:v9})}catch(i){t(i)}}),n.addEventListener("success",C(function*(){const r=n.result;r.objectStoreNames.contains(L_)?e(r):(r.close(),yield function afe(){const n=indexedDB.deleteDatabase(y9);return new Yh(n).toPromise()}(),e(yield CT()))}))})}function b9(n,e,t){return xT.apply(this,arguments)}function xT(){return(xT=C(function*(n,e,t){const r=V_(n,!0).put({[v9]:e,value:t});return new Yh(r).toPromise()})).apply(this,arguments)}function ET(){return(ET=C(function*(n,e){const t=V_(n,!1).get(e),r=yield new Yh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function w9(n,e){const t=V_(n,!0).delete(e);return new Yh(t).toPromise()}const dfe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return C(function*(){return t.db||(t.db=yield CT()),t.db})()}_withRetries(t){var r=this;return C(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return C(function*(){return bT()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return C(function*(){t.receiver=efe._getInstance(function ofe(){return bT()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=C(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=C(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return C(function*(){var r,i;if(t.activeServiceWorker=yield function rfe(){return wT.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new tfe(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return C(function*(){if(r.sender&&r.activeServiceWorker&&function ife(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return C(function*(){try{if(!indexedDB)return!1;const t=yield CT();return yield b9(t,F_,"1"),yield w9(t,F_),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return C(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return C(function*(){return i._withPendingWrite(C(function*(){return yield i._withRetries(o=>b9(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return C(function*(){const i=yield r._withRetries(o=>function cfe(n,e){return ET.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return C(function*(){return r._withPendingWrite(C(function*(){return yield r._withRetries(i=>w9(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return C(function*(){const r=yield t._withRetries(s=>{const a=V_(s,!1).getAll();return new Yh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(C(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();t9("rcb"),new Bh(3e4,6e4);class kT extends s9{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return us(e,this._buildIdpRequest())}_linkToIdToken(e,t){return us(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return us(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Dfe(n){return p9(n.auth,new kT(n),n.bypassAuthState)}function Afe(n){const{auth:e,user:t}=n;return ee(t,e,"internal-error"),function f9(n,e){return zI.apply(this,arguments)}(t,new kT(n),n.bypassAuthState)}function Mfe(n){return NT.apply(this,arguments)}function NT(){return(NT=C(function*(n){const{auth:e,user:t}=n;return ee(t,e,"internal-error"),function UI(n,e){return BI.apply(this,arguments)}(t,new kT(n),n.bypassAuthState)})).apply(this,arguments)}class Sfe{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=C(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return C(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const l={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dfe;case"linkViaPopup":case"linkViaRedirect":return Mfe;case"reauthViaPopup":case"reauthViaRedirect":return Afe;default:Jr(this.auth,"internal-error")}}resolve(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ws(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Bh(2e3,1e4);const Pfe="pendingRedirect",Xh=new Map;class Ofe extends Sfe{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return C(function*(){let r=Xh.get(t.auth._key());if(!r){try{const o=(yield function kfe(n,e){return UT.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Xh.set(t.auth._key(),r)}return t.bypassAuthState||Xh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return C(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return C(function*(){})()}cleanUp(){}}function UT(){return(UT=C(function*(n,e){const t=function E9(n){return M_(Pfe,n.config.apiKey,n.name)}(e),r=function x9(n){return ls(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Nfe(n,e){Xh.set(n._key(),e)}function I9(n,e){return qT.apply(this,arguments)}function qT(){return(qT=C(function*(n,e,t=!1){const r=$n(n),i=function cc(n,e){return e?ls(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new Ofe(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Ufe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Bfe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A9(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!A9(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Co(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(D9(e))}saveEventToCache(e){this.cachedEventUids.add(D9(e)),this.lastProcessedEventTime=Date.now()}}function D9(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function A9({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function KT(){return(KT=C(function*(n,e={}){return sn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const zfe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$fe=/^https?/;function QT(){return QT=C(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function jfe(n){return KT.apply(this,arguments)}(n);for(const t of e)try{if(Gfe(t))return}catch{}Jr(n,"unauthorized-domain")}),QT.apply(this,arguments)}function Gfe(n){const e=Uh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!$fe.test(t))return!1;if(zfe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const qfe=new Bh(3e4,6e4);function M9(){const n=Tn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let B_=null;const Qfe=new Bh(5e3,15e3),Yfe="__/auth/iframe",Xfe="emulator/auth/iframe",Jfe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zfe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function epe(n){const e=n.config;ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?JE(e,Xfe):`https://${n.config.authDomain}/${Yfe}`,r={apiKey:e.apiKey,appName:n.name,v:Hs},i=Zfe.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ih(r).slice(1)}`}function YT(){return YT=C(function*(n){const e=yield function Kfe(n){return B_=B_||function Wfe(n){return new Promise((e,t)=>{var r,i,o;function s(){M9(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{M9(),t(Co(n,"network-request-failed"))},timeout:qfe.get()})}if(null!==(i=null===(r=Tn().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Tn().gapi)||void 0===o||!o.load){const a=t9("iframefcb");return Tn()[a]=()=>{gapi.load?s():t(Co(n,"network-request-failed"))},pI(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw B_=null,e})}(n),B_}(n),t=Tn().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:epe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jfe,dontclear:!0},r=>new Promise(function(){var i=C(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Co(n,"network-request-failed"),c=Tn().setTimeout(()=>{s(a)},Qfe.get());function l(){Tn().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),YT.apply(this,arguments)}const npe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class S9{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const lpe="__/auth/handler",upe="emulator/auth/handler",dpe=encodeURIComponent("fac");function P9(n,e,t,r,i,o){return XT.apply(this,arguments)}function XT(){return(XT=C(function*(n,e,t,r,i,o){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Hs,eventId:i};if(e instanceof Ys){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",m1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Ihe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield n._getAppCheckToken(),l=c?`#${dpe}=${encodeURIComponent(c)}`:"";return`${function hpe({config:n}){return n.emulator?JE(n,upe):`https://${n.authDomain}/${lpe}`}(n)}?${Ih(a).slice(1)}${l}`})).apply(this,arguments)}const JT="webStorageSupport",ppe=class fpe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_9,this._completeRedirectFn=I9,this._overrideRedirectResult=Nfe}_openPopup(e,t,r,i){var o=this;return C(function*(){var s;Ws(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield P9(e,t,r,Uh(),i);return function ape(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},npe),{width:r.toString(),height:i.toString(),top:o,left:s}),l=mn().toLowerCase();t&&(a=HU(l)?"_blank":t),$U(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[p,b])=>`${h}${p}=${b},`,"");if(function Xde(n=mn()){var e;return S_(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function cpe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new S9(null);const d=window.open(e||"",a,u);ee(d,n,"popup-blocked");try{d.focus()}catch{}return new S9(d)}(e,a,vT())})()}_openRedirect(e,t,r,i){var o=this;return C(function*(){return yield o._originValidation(e),function nfe(n){Tn().location.href=n}(yield P9(e,t,r,Uh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ws(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return C(function*(){const r=yield function tpe(n){return YT.apply(this,arguments)}(e),i=new Ufe(e);return r.register("authEvent",o=>(ee(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(JT,{type:JT},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[JT];void 0!==s&&t(!!s),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Hfe(n){return QT.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QU()||dI()||S_()}};var N9="@firebase/auth";class gpe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return C(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const vpe=UV("authIdTokenMaxAge")||300;let F9=null;const bpe=n=>function(){var e=C(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>vpe)return;const o=r?.token;F9!==o&&(F9=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function wpe(n=Ah()){const e=$s(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function ahe(n,e){const t=$s(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(a_(t.getOptions(),e??{}))return i;Jr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:ppe,persistence:[dfe,Jhe,_9]}),r=UV("authTokenSyncURL");if(r){const o=bpe(r);(function zhe(n,e,t){Wt(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function jhe(n,e,t,r){Wt(n).onIdTokenChanged(e,t,r)}(t,s=>o(s))}const i=LV("auth");return i&&function lhe(n,e,t){const r=$n(n);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=i9(e),{host:s,port:a}=function uhe(n){const e=i9(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:o9(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:o9(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function dhe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function _pe(n){rr(new jn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YU(n)},l=new she(r,i,o,c);return function che(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ls);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),rr(new jn("auth-internal",e=>{const t=$n(e.getProvider("auth").getImmediate());return new gpe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xt(N9,"0.23.2",function mpe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),xt(N9,"0.23.2","esm2017")}("Browser");class je{constructor(e){return e}}class z_{constructor(){return kh("auth")}}const eD=new le("angularfire2.auth-instances");function xpe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new je(r)}}const Epe={provide:z_,deps:[[new Zt,eD]]},Ipe={provide:je,useFactory:function Cpe(n,e){const t=Oh("auth",n,e);return t&&new je(t)},deps:[[new Zt,eD],qs]};let Tpe=(()=>{class n{constructor(){xt("angularfire",Xl.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({providers:[Ipe,Epe]}),n})();function Dpe(n,...e){return{ngModule:Tpe,providers:[{provide:eD,useFactory:xpe(n),multi:!0,deps:[ft,mr,Nh,Rh,[new Zt,Vh],...e]}]}}const Ape=Fn(Ohe,!0),ds=Fn(wpe,!0),Xs=Fn($he,!0),Mpe=Fn(khe,!0),sr=Fn(Hhe,!0);let V9=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.title="gestion-muestras"}Login(){this.router.navigate(["/auth/login"])}handleSignOut(){sr(this.auth).then(()=>{}).catch(t=>{console.log("here")})}}return n.\u0275fac=function(t){return new(t||n)(T(je),T(Ee))},n.\u0275cmp=Ve({type:n,selectors:[["app-auth"]],decls:11,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"homeLogo"]],template:function(t,r){1&t&&(_(0,"div",0)(1,"div",1)(2,"span",2),w(3,"Gestion de Muestras"),g()(),Z(4,"div",3)(5,"div",4),_(6,"div",5)(7,"span",6),w(8,"Home"),g(),Z(9,"div",7),g()(),Z(10,"router-outlet"))},dependencies:[jl],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:92%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;left:90%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}}"]}),n})();var oe,Spe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wi={},tD=tD||{},Me=Spe||self;function $_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Jh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nD="closure_uid_"+(1e9*Math.random()>>>0),Ope=0;function kpe(n,e,t){return n.call.apply(n.bind,arguments)}function Npe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function vr(n,e,t){return(vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kpe:Npe).apply(null,arguments)}function H_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Hn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Js(){this.s=this.s,this.o=this.o}Js.prototype.s=!1,Js.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Ppe(n){Object.prototype.hasOwnProperty.call(n,nD)&&n[nD]||(n[nD]=++Ope)}(this)},Js.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const U9=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rD(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function B9(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($_(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let s=0;s<o;s++)n[i+s]=r[s]}else n.push(r)}}function br(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}br.prototype.h=function(){this.defaultPrevented=!0};var Fpe=function(){if(!Me.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Me.addEventListener("test",()=>{},e),Me.removeEventListener("test",()=>{},e)}catch{}return n}();function Zh(n){return/^[\s\xa0]*$/.test(n)}function G_(){var n=Me.navigator;return n&&(n=n.userAgent)?n:""}function Eo(n){return-1!=G_().indexOf(n)}function iD(n){return iD[" "](n),n}iD[" "]=function(){};var sD,n,Vpe=Eo("Opera"),ru=Eo("Trident")||Eo("MSIE"),j9=Eo("Edge"),oD=j9||ru,z9=Eo("Gecko")&&!(-1!=G_().toLowerCase().indexOf("webkit")&&!Eo("Edge"))&&!(Eo("Trident")||Eo("MSIE"))&&!Eo("Edge"),Upe=-1!=G_().toLowerCase().indexOf("webkit")&&!Eo("Edge");function $9(){var n=Me.document;return n?n.documentMode:void 0}e:{var aD="",cD=(n=G_(),z9?/rv:([^\);]+)(\)|;)/.exec(n):j9?/Edge\/([\d\.]+)/.exec(n):ru?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Upe?/WebKit\/(\S+)/.exec(n):Vpe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cD&&(aD=cD?cD[1]:""),ru){var lD=$9();if(null!=lD&&lD>parseFloat(aD)){sD=String(lD);break e}}sD=aD}var Bpe=Me.document&&ru&&($9()||parseInt(sD,10))||void 0;function ef(n,e){if(br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(z9){e:{try{iD(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jpe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ef.$.h.call(this)}}Hn(ef,br);var jpe={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tf="closure_listenable_"+(1e6*Math.random()|0),zpe=0;function $pe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++zpe,this.fa=this.ia=!1}function q_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function dD(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function G9(n){const e={};for(const t in n)e[t]=n[t];return e}const q9="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W9(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<q9.length;o++)t=q9[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function W_(n){this.src=n,this.g={},this.h=0}function hD(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=U9(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(q_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fD(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}W_.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=fD(n,e,r,i);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new $pe(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var pD="closure_lm_"+(1e6*Math.random()|0),gD={};function K9(n,e,t,r,i){if(r&&r.once)return Y9(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)K9(n,e[o],t,r,i);return null}return t=vD(t),n&&n[tf]?n.O(e,t,Jh(r)?!!r.capture:!!r,i):Q9(n,e,t,!1,r,i)}function Q9(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var s=Jh(i)?!!i.capture:!!i,a=_D(n);if(a||(n[pD]=a=new W_(n)),(t=a.add(e,t,r,s,o)).proxy)return t;if(r=function Gpe(){const e=qpe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Fpe||(i=s),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(J9(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Y9(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Y9(n,e[o],t,r,i);return null}return t=vD(t),n&&n[tf]?n.P(e,t,Jh(r)?!!r.capture:!!r,i):Q9(n,e,t,!0,r,i)}function X9(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)X9(n,e[o],t,r,i);else r=Jh(r)?!!r.capture:!!r,t=vD(t),n&&n[tf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fD(o=n.g[e],t,r,i))&&(q_(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=_D(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fD(e,t,r,i)),(t=-1<n?e[n]:null)&&mD(t))}function mD(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[tf])hD(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(J9(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=_D(e))?(hD(t,n),0==t.h&&(t.src=null,e[pD]=null)):q_(n)}}}function J9(n){return n in gD?gD[n]:gD[n]="on"+n}function qpe(n,e){if(n.fa)n=!0;else{e=new ef(e,this);var t=n.listener,r=n.la||n.src;n.ia&&mD(n),n=t.call(r,e)}return n}function _D(n){return(n=n[pD])instanceof W_?n:null}var yD="__closure_events_fn_"+(1e9*Math.random()>>>0);function vD(n){return"function"==typeof n?n:(n[yD]||(n[yD]=function(e){return n.handleEvent(e)}),n[yD])}function Gn(){Js.call(this),this.i=new W_(this),this.S=this,this.J=null}function ar(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new br(e,n);else if(e instanceof br)e.target=e.target||n;else{var i=e;W9(e=new br(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];i=K_(s,r,!0,e)&&i}if(i=K_(s=e.g=n,r,!0,e)&&i,i=K_(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=K_(s=e.g=t[o],r,!1,e)&&i}function K_(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,c=s.la||s.src;s.ia&&hD(n.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Hn(Gn,Js),Gn.prototype[tf]=!0,Gn.prototype.removeEventListener=function(n,e,t,r){X9(this,n,e,t,r)},Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)q_(t[r]);delete n.g[e],n.h--}}this.J=null},Gn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Gn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var bD=Me.JSON.stringify;function Kpe(){var n=wD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Z9=new class Wpe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ype,n=>n.reset());class Ype{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Xpe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Jpe(n){Me.setTimeout(()=>{throw n},0)}let nf,rf=!1,wD=new class Qpe{constructor(){this.h=this.g=null}add(e,t){const r=Z9.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},eB=()=>{const n=Me.Promise.resolve(void 0);nf=()=>{n.then(Zpe)}};var Zpe=()=>{for(var n;n=Kpe();){try{n.h.call(n.g)}catch(t){Jpe(t)}var e=Z9;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}rf=!1};function Q_(n,e){Gn.call(this),this.h=n||1,this.g=e||Me,this.j=vr(this.qb,this),this.l=Date.now()}function CD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function xD(n,e,t){if("function"==typeof n)t&&(n=vr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Me.setTimeout(n,e||0)}function tB(n){n.g=xD(()=>{n.g=null,n.i&&(n.i=!1,tB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Hn(Q_,Gn),(oe=Q_.prototype).ga=!1,oe.T=null,oe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ar(this,"tick"),this.ga&&(CD(this),this.start()))}},oe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},oe.N=function(){Q_.$.N.call(this),CD(this),delete this.g};class ege extends Js{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tB(this)}N(){super.N(),this.g&&(Me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sf(n){Js.call(this),this.h=n,this.g={}}Hn(sf,Js);var nB=[];function rB(n,e,t,r){Array.isArray(t)||(t&&(nB[0]=t.toString()),t=nB);for(var i=0;i<t.length;i++){var o=K9(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function iB(n){dD(n.g,function(e,t){this.g.hasOwnProperty(t)&&mD(e)},n),n.g={}}function Y_(){this.g=!0}function iu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ige(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return bD(t)}catch{return e}}(n,t)+(r?" "+r:"")})}sf.prototype.N=function(){sf.$.N.call(this),iB(this)},sf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Y_.prototype.Ea=function(){this.g=!1},Y_.prototype.info=function(){};var lc={},oB=null;function X_(){return oB=oB||new Gn}function sB(n){br.call(this,lc.Ta,n)}function af(n){const e=X_();ar(e,new sB(e))}function aB(n,e){br.call(this,lc.STAT_EVENT,n),this.stat=e}function Nr(n){const e=X_();ar(e,new aB(e,n))}function cB(n,e){br.call(this,lc.Ua,n),this.size=e}function cf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Me.setTimeout(function(){n()},e)}lc.Ta="serverreachability",Hn(sB,br),lc.STAT_EVENT="statevent",Hn(aB,br),lc.Ua="timingevent",Hn(cB,br);var J_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lB={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ED(){}function dB(){}ED.prototype.h=null;var DD,lf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ID(){br.call(this,"d")}function TD(){br.call(this,"c")}function Z_(){}function uf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new sf(this),this.P=oge,this.V=new Q_(n=oD?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hB}function hB(){this.i=null,this.g="",this.h=!1}Hn(ID,br),Hn(TD,br),Hn(Z_,ED),Z_.prototype.g=function(){return new XMLHttpRequest},Z_.prototype.i=function(){return{}},DD=new Z_;var oge=45e3,AD={},ey={};function MD(n,e,t){n.L=1,n.v=iy(hs(e)),n.s=t,n.S=!0,fB(n,null)}function fB(n,e){n.G=Date.now(),df(n),n.A=hs(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),xB(t.i,"t",r),n.C=0,t=n.l.J,n.h=new hB,n.g=WB(n.l,t?e:null,!n.s),0<n.O&&(n.M=new ege(vr(n.Pa,n,n.g),n.O)),rB(n.U,n.g,"readystatechange",n.nb),e=n.I?G9(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),af(),function tge(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pB(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function gB(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=sge(n,t),i==ey){4==e&&(n.o=4,Nr(14),r=!1),iu(n.j,n.m,null,"[Incomplete Response]");break}if(i==AD){n.o=4,Nr(15),iu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}iu(n.j,n.m,i,null),SD(n,i)}pB(n)&&i!=ey&&i!=AD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),LD(e),e.M=!0,Nr(11))):(iu(n.j,n.m,t,"[Invalid Chunked Response]"),uc(n),hf(n))}function sge(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ey:(t=Number(e.substring(t,r)),isNaN(t)?AD:(r+=1)+t>e.length?ey:(e=e.slice(r,r+t),n.C=r+t,e))}function df(n){n.Y=Date.now()+n.P,mB(n,n.P)}function mB(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=cf(vr(n.lb,n),e)}function ty(n){n.B&&(Me.clearTimeout(n.B),n.B=null)}function hf(n){0==n.l.H||n.J||$B(n.l,n)}function uc(n){ty(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,CD(n.V),iB(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function SD(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||PD(t.i,n)))if(!n.K&&PD(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;uy(t),cy(t)}FD(t),Nr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=cf(vr(t.ib,t),6e3));if(1>=TB(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else hc(t,11)}else if((n.K||t.g==n)&&uy(t),!Zh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const u=l[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const p=n.g;if(p){const b=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var o=r.i;o.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(OD(o,o.h),o.h=null))}if(r.F){const E=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,Ut(r.I,r.F,E))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((r=t).wa=qB(r,r.J?r.pa:null,r.Y),s.K){DB(r.i,s);var a=s,c=r.L;c&&a.setTimeout(c),a.B&&(ty(a),df(a)),r.g=s}else jB(r);0<t.j.length&&ly(t)}else"stop"!=l[0]&&"close"!=l[0]||hc(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?hc(t,7):RD(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}af()}catch{}}function _B(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function cge(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function age(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(oe=uf.prototype).setTimeout=function(n){this.P=n},oe.nb=function(n){n=n.target;const e=this.M;e&&3==Io(n)?e.l():this.Pa(n)},oe.Pa=function(n){try{if(n==this.g)e:{const u=Io(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||oD||this.g&&(this.h.h||this.g.ja()||RB(this.g)))){this.J||4!=u||7==e||af(),ty(this);var t=this.g.da();this.ca=t;t:if(pB(this)){var r=RB(this.g);n="";var i=r.length,o=4==Io(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uc(this),hf(this);var s="";break t}this.h.i=new Me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function nge(n,e,t,r,i,o,s){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zh(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Nr(12),uc(this),hf(this);break e}iu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,SD(this,t)}this.S?(gB(this,u,s),oD&&this.i&&3==u&&(rB(this.U,this.V,"tick",this.mb),this.V.start())):(iu(this.j,this.m,s,null),SD(this,s)),4==u&&uc(this),this.i&&!this.J&&(4==u?$B(this.l,this):(this.i=!1,df(this)))}else(function Tge(n){const e={};n=(n.g&&2<=Io(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Zh(n[r]))continue;var t=Xpe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function Hpe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),uc(this),hf(this)}}}catch{}},oe.mb=function(){if(this.g){var n=Io(this.g),e=this.g.ja();this.C<e.length&&(ty(this),gB(this,n,e),this.i&&4!=n&&df(this))}},oe.cancel=function(){this.J=!0,uc(this)},oe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function rge(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(af(),Nr(17)),uc(this),this.o=2,hf(this)):mB(this,this.Y-n)};var yB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof dc){this.h=n.h,ny(this,n.j),this.s=n.s,this.g=n.g,ry(this,n.m),this.l=n.l;var e=n.i,t=new gf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),vB(this,t),this.o=n.o}else n&&(e=String(n).match(yB))?(this.h=!1,ny(this,e[1]||"",!0),this.s=ff(e[2]||""),this.g=ff(e[3]||"",!0),ry(this,e[4]),this.l=ff(e[5]||"",!0),vB(this,e[6]||"",!0),this.o=ff(e[7]||"")):(this.h=!1,this.i=new gf(null,this.h))}function hs(n){return new dc(n)}function ny(n,e,t){n.j=t?ff(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ry(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vB(n,e,t){e instanceof gf?(n.i=e,function gge(n,e){e&&!n.j&&(Zs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(wB(this,r),xB(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=pf(e,fge)),n.i=new gf(e,n.h))}function Ut(n,e,t){n.i.set(e,t)}function iy(n){return Ut(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ff(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uge),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uge(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}dc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pf(e,bB,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pf(e,bB,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(pf(t,"/"==t.charAt(0)?hge:dge,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pf(t,pge)),n.join("")};var bB=/[#\/\?@]/g,dge=/[#\?:]/g,hge=/[#\?]/g,fge=/[#\?@]/g,pge=/#/g;function gf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Zs(n){n.g||(n.g=new Map,n.h=0,n.i&&function lge(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function wB(n,e){Zs(n),e=ou(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function CB(n,e){return Zs(n),e=ou(n,e),n.g.has(e)}function xB(n,e,t){wB(n,e),0<t.length&&(n.i=null,n.g.set(ou(n,e),rD(t)),n.h+=t.length)}function ou(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function EB(n){this.l=n||_ge,n=Me.PerformanceNavigationTiming?0<(n=Me.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Me.g&&Me.g.Ka&&Me.g.Ka()&&Me.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(oe=gf.prototype).add=function(n,e){Zs(this),this.i=null,n=ou(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},oe.forEach=function(n,e){Zs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},oe.ta=function(){Zs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},oe.Z=function(n){Zs(this);let e=[];if("string"==typeof n)CB(this,n)&&(e=e.concat(this.g.get(ou(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},oe.set=function(n,e){return Zs(this),this.i=null,CB(this,n=ou(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},oe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),n.push(i)}}return this.i=n.join("&")};var _ge=10;function IB(n){return!!n.h||!!n.g&&n.g.size>=n.j}function TB(n){return n.h?1:n.g?n.g.size:0}function PD(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function OD(n,e){n.g?n.g.add(e):n.h=e}function DB(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function AB(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return rD(n.i)}EB.prototype.cancel=function(){if(this.i=AB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var yge=class{stringify(n){return Me.JSON.stringify(n,void 0)}parse(n){return Me.JSON.parse(n,void 0)}};function vge(){this.g=new yge}function bge(n,e,t){const r=t||"";try{_B(n,function(i,o){let s=i;Jh(i)&&(s=bD(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function oy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mf(n){this.l=n.fc||null,this.j=n.ob||!1}function sy(n,e){Gn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=kD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hn(mf,ED),mf.prototype.g=function(){return new sy(this.l,this.j)},mf.prototype.i=function(n){return function(){return n}}({}),Hn(sy,Gn);var kD=0;function MB(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function _f(n){n.readyState=4,n.l=null,n.j=null,n.A=null,yf(n)}function yf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(oe=sy.prototype).open=function(n,e){if(this.readyState!=kD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,yf(this)},oe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_f(this)),this.readyState=kD},oe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,yf(this)),this.g&&(this.readyState=3,yf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Me.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MB(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},oe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?_f(this):yf(this),3==this.readyState&&MB(this)}},oe.Za=function(n){this.g&&(this.response=this.responseText=n,_f(this))},oe.Ya=function(n){this.g&&(this.response=n,_f(this))},oe.ka=function(){this.g&&_f(this)},oe.setRequestHeader=function(n,e){this.v.append(n,e)},oe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},oe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(sy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Cge=Me.JSON.parse;function an(n){Gn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=SB,this.L=this.M=!1}Hn(an,Gn);var SB="",xge=/^https?$/i,Ege=["POST","PUT"];function PB(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,OB(n),ay(n)}function OB(n){n.F||(n.F=!0,ar(n,"complete"),ar(n,"error"))}function kB(n){if(n.h&&typeof tD<"u"&&(!n.C[1]||4!=Io(n)||2!=n.da()))if(n.v&&4==Io(n))xD(n.La,0,n);else if(ar(n,"readystatechange"),4==Io(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===s){var i=String(n.I).match(yB)[1]||null;!i&&Me.self&&Me.self.location&&(i=Me.self.location.protocol.slice(0,-1)),r=!xge.test(i?i.toLowerCase():"")}t=r}if(t)ar(n,"complete"),ar(n,"success");else{n.m=6;try{var o=2<Io(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",OB(n)}}finally{ay(n)}}}function ay(n,e){if(n.g){NB(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ar(n,"ready");try{t.onreadystatechange=r}catch{}}}function NB(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Me.clearTimeout(n.A),n.A=null)}function Io(n){return n.g?n.g.readyState:0}function RB(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case SB:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FB(n){let e="";return dD(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ND(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FB(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ut(n,e,t))}function vf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function LB(n){this.Ga=0,this.j=[],this.l=new Y_,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vf("baseRetryDelayMs",5e3,n),this.hb=vf("retryDelaySeedMs",1e4,n),this.eb=vf("forwardChannelMaxRetries",2,n),this.xa=vf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new EB(n&&n.concurrentRequestLimit),this.Ja=new vge,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function RD(n){if(VB(n),3==n.H){var e=n.W++,t=hs(n.I);if(Ut(t,"SID",n.K),Ut(t,"RID",e),Ut(t,"TYPE","terminate"),bf(n,t),(e=new uf(n,n.l,e)).L=2,e.v=iy(hs(t)),t=!1,Me.navigator&&Me.navigator.sendBeacon)try{t=Me.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Me.Image&&((new Image).src=e.v,t=!0),t||(e.g=WB(e.l,null),e.g.ha(e.v)),e.G=Date.now(),df(e)}GB(n)}function cy(n){n.g&&(LD(n),n.g.cancel(),n.g=null)}function VB(n){cy(n),n.u&&(Me.clearTimeout(n.u),n.u=null),uy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Me.clearTimeout(n.m),n.m=null)}function ly(n){if(!IB(n.i)&&!n.m){n.m=!0;var e=n.Na;nf||eB(),rf||(nf(),rf=!0),wD.add(e,n),n.C=0}}function UB(n,e){var t;t=e?e.m:n.W++;const r=hs(n.I);Ut(r,"SID",n.K),Ut(r,"RID",t),Ut(r,"AID",n.V),bf(n,r),n.o&&n.s&&ND(r,n.o,n.s),t=new uf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=BB(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),OD(n.i,t),MD(t,r,e)}function bf(n,e){n.na&&dD(n.na,function(t,r){Ut(e,r,t)}),n.h&&_B({},function(t,r){Ut(e,r,t)})}function BB(n,e,t){t=Math.min(n.j.length,t);var r=n.h?vr(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let c=0;c<t;c++){let l=i[c].g;const u=i[c].map;if(l-=o,0>l)o=Math.max(0,i[c].g-100),a=!1;else try{bge(u,s,"req"+l+"_")}catch{r&&r(u)}}if(a){r=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function jB(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;nf||eB(),rf||(nf(),rf=!0),wD.add(e,n),n.A=0}}function FD(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=cf(vr(n.Ma,n),HB(n,n.A)),n.A++,0))}function LD(n){null!=n.B&&(Me.clearTimeout(n.B),n.B=null)}function zB(n){n.g=new uf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=hs(n.wa);Ut(e,"RID","rpc"),Ut(e,"SID",n.K),Ut(e,"AID",n.V),Ut(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Ut(e,"TO",n.qa),Ut(e,"TYPE","xmlhttp"),bf(n,e),n.o&&n.s&&ND(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=iy(hs(e)),t.s=null,t.S=!0,fB(t,n)}function uy(n){null!=n.v&&(Me.clearTimeout(n.v),n.v=null)}function $B(n,e){var t=null;if(n.g==e){uy(n),LD(n),n.g=null;var r=2}else{if(!PD(n.i,e))return;t=e.F,DB(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ar(r=X_(),new cB(r,t)),ly(n)}else jB(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Dge(n,e){return!(TB(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=cf(vr(n.Na,n,e),HB(n,n.C)),n.C++,0)))}(n,e)||2==r&&FD(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:hc(n,5);break;case 4:hc(n,10);break;case 3:hc(n,6);break;default:hc(n,2)}}function HB(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function hc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=vr(n.pb,n);t||(t=new dc("//www.google.com/images/cleardot.gif"),Me.location&&"http"==Me.location.protocol||ny(t,"https"),iy(t)),function wge(n,e){const t=new Y_;if(Me.Image){const r=new Image;r.onload=H_(oy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=H_(oy,t,r,"TestLoadImage: error",!1,e),r.onabort=H_(oy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=H_(oy,t,r,"TestLoadImage: timeout",!1,e),Me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Nr(2);n.H=0,n.h&&n.h.za(e),GB(n),VB(n)}function GB(n){if(n.H=0,n.ma=[],n.h){const e=AB(n.i);(0!=e.length||0!=n.j.length)&&(B9(n.ma,e),B9(n.ma,n.j),n.i.i.length=0,rD(n.j),n.j.length=0),n.h.ya()}}function qB(n,e,t){var r=t instanceof dc?hs(t):new dc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),ry(r,r.m);else{var i=Me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new dc(null);r&&ny(o,r),e&&(o.g=e),i&&ry(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&Ut(r,t,e),Ut(r,"VER",n.ra),bf(n,r),r}function WB(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new an(t&&n.Ha&&!n.va?new mf({ob:!0}):n.va)).Oa(n.J),e}function KB(){}function dy(){if(ru&&!(10<=Number(Bpe)))throw Error("Environmental error: no available transport.")}function fi(n,e){Gn.call(this),this.g=new LB(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Zh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new su(this)}function QB(n){ID.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YB(){TD.call(this),this.status=1}function su(n){this.g=n}function Ki(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function VD(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;s=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function vt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(oe=an.prototype).Oa=function(n){this.M=n},oe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():DD.g(),this.C=function uB(n){return n.h||(n.h=n.i())}(this.u?this.u:DD),this.g.onreadystatechange=vr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void PB(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Me.FormData&&n instanceof Me.FormData,!(0<=U9(Ege,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NB(this),0<this.B&&((this.L=function Ige(n){return ru&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vr(this.ua,this)):this.A=xD(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){PB(this,o)}},oe.ua=function(){typeof tD<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},oe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ar(this,"complete"),ar(this,"abort"),ay(this))},oe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ay(this,!0)),an.$.N.call(this)},oe.La=function(){this.s||(this.G||this.v||this.l?kB(this):this.kb())},oe.kb=function(){kB(this)},oe.isActive=function(){return!!this.g},oe.da=function(){try{return 2<Io(this)?this.g.status:-1}catch{return-1}},oe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},oe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Cge(e)}},oe.Ia=function(){return this.m},oe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(oe=LB.prototype).ra=8,oe.H=1,oe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new uf(this,this.l,n);let o=this.s;if(this.U&&(o?(o=G9(o),W9(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=BB(this,i,e),Ut(t=hs(this.I),"RID",n),Ut(t,"CVER",22),this.F&&Ut(t,"X-HTTP-Session-Id",this.F),bf(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(FB(o)))+"&"+e:this.o&&ND(t,this.o,o)),OD(this.i,i),this.bb&&Ut(t,"TYPE","init"),this.P?(Ut(t,"$req",e),Ut(t,"SID","null"),i.aa=!0,MD(i,t,null)):MD(i,t,e),this.H=2}}else 3==this.H&&(n?UB(this,n):0==this.j.length||IB(this.i)||UB(this))},oe.Ma=function(){if(this.u=null,zB(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=cf(vr(this.jb,this),n)}},oe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nr(10),cy(this),zB(this))},oe.ib=function(){null!=this.v&&(this.v=null,cy(this),FD(this),Nr(19))},oe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Nr(2)):(this.l.info("Failed to ping google.com"),Nr(1))},oe.isActive=function(){return!!this.h&&this.h.isActive(this)},(oe=KB.prototype).Ba=function(){},oe.Aa=function(){},oe.za=function(){},oe.ya=function(){},oe.isActive=function(){return!0},oe.Va=function(){},dy.prototype.g=function(n,e){return new fi(n,e)},Hn(fi,Gn),fi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Nr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=qB(n,null,n.Y),ly(n)},fi.prototype.close=function(){RD(this.g)},fi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=bD(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&ly(e)},fi.prototype.N=function(){this.g.h=null,delete this.j,RD(this.g),delete this.g,fi.$.N.call(this)},Hn(QB,ID),Hn(YB,TD),Hn(su,KB),su.prototype.Ba=function(){ar(this.g,"a")},su.prototype.Aa=function(n){ar(this.g,new QB(n))},su.prototype.za=function(n){ar(this.g,new YB)},su.prototype.ya=function(){ar(this.g,"b")},Hn(Ki,function Age(){this.blockSize=-1}),Ki.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ki.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)VD(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){VD(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){VD(this,r),i=0;break}}this.h=i,this.i+=e},Ki.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Mge={};function UD(n){return-128<=n&&128>n?function Lpe(n,e){var t=Mge;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new vt([0|e],0>e?-1:0)}):new vt([0|n],0>n?-1:0)}function To(n){if(isNaN(n)||!isFinite(n))return au;if(0>n)return cr(To(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=BD;return new vt(e,0)}var BD=4294967296,au=UD(0),jD=UD(1),JB=UD(16777216);function fs(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Si(n){return-1==n.h}function cr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new vt(t,~n.h).add(jD)}function hy(n,e){return n.add(cr(e))}function fy(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function wf(n,e){this.g=n,this.h=e}function py(n,e){if(fs(e))throw Error("division by zero");if(fs(n))return new wf(au,au);if(Si(n))return e=py(cr(n),e),new wf(cr(e.g),cr(e.h));if(Si(e))return e=py(n,cr(e)),new wf(cr(e.g),e.h);if(30<n.g.length){if(Si(n)||Si(e))throw Error("slowDivide_ only works with positive integers.");for(var t=jD,r=e;0>=r.X(n);)t=ZB(t),r=ZB(r);var i=cu(t,1),o=cu(r,1);for(r=cu(r,2),t=cu(t,2);!fs(r);){var s=o.add(r);0>=s.X(n)&&(i=i.add(t),o=s),r=cu(r,1),t=cu(t,1)}return e=hy(n,i.R(e)),new wf(i,e)}for(i=au;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),s=(o=To(t)).R(e);Si(s)||0<s.X(n);)s=(o=To(t-=r)).R(e);fs(o)&&(o=jD),i=i.add(o),n=hy(n,s)}return new wf(i,n)}function ZB(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new vt(t,n.h)}function cu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new vt(i,n.h)}(oe=vt.prototype).ea=function(){if(Si(this))return-cr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:BD+r)*e,e*=BD}return n},oe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(fs(this))return"0";if(Si(this))return"-"+cr(this).toString(n);for(var e=To(Math.pow(n,6)),t=this,r="";;){var i=py(t,e).g,o=((0<(t=hy(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(fs(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},oe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},oe.X=function(n){return Si(n=hy(this,n))?-1:fs(n)?0:1},oe.abs=function(){return Si(this)?cr(this):this},oe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=s>>>16,t[i]=(s&=65535)<<16|(o&=65535)}return new vt(t,-2147483648&t[t.length-1]?-1:0)},oe.R=function(n){if(fs(this)||fs(n))return au;if(Si(this))return Si(n)?cr(this).R(cr(n)):cr(cr(this).R(n));if(Si(n))return cr(this.R(cr(n)));if(0>this.X(JB)&&0>n.X(JB))return To(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=s*c,fy(t,2*r+2*i),t[2*r+2*i+1]+=o*c,fy(t,2*r+2*i+1),t[2*r+2*i+1]+=s*a,fy(t,2*r+2*i+1),t[2*r+2*i+2]+=o*a,fy(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new vt(t,0)},oe.gb=function(n){return py(this,n).h},oe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new vt(t,this.h&n.h)},oe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new vt(t,this.h|n.h)},oe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new vt(t,this.h^n.h)},dy.prototype.createWebChannel=dy.prototype.g,fi.prototype.send=fi.prototype.u,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,J_.NO_ERROR=0,J_.TIMEOUT=8,J_.HTTP_ERROR=6,lB.COMPLETE="complete",dB.EventType=lf,lf.OPEN="a",lf.CLOSE="b",lf.ERROR="c",lf.MESSAGE="d",Gn.prototype.listen=Gn.prototype.O,an.prototype.listenOnce=an.prototype.P,an.prototype.getLastError=an.prototype.Sa,an.prototype.getLastErrorCode=an.prototype.Ia,an.prototype.getStatus=an.prototype.da,an.prototype.getResponseJson=an.prototype.Wa,an.prototype.getResponseText=an.prototype.ja,an.prototype.send=an.prototype.ha,an.prototype.setWithCredentials=an.prototype.Oa,Ki.prototype.digest=Ki.prototype.l,Ki.prototype.reset=Ki.prototype.reset,Ki.prototype.update=Ki.prototype.j,vt.prototype.add=vt.prototype.add,vt.prototype.multiply=vt.prototype.R,vt.prototype.modulo=vt.prototype.gb,vt.prototype.compare=vt.prototype.X,vt.prototype.toNumber=vt.prototype.ea,vt.prototype.toString=vt.prototype.toString,vt.prototype.getBits=vt.prototype.D,vt.fromNumber=To,vt.fromString=function XB(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return cr(XB(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=To(Math.pow(e,8)),r=au,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),s=parseInt(n.substring(i,i+o),e);8>o?(o=To(Math.pow(e,o)),r=r.R(o).add(To(s))):r=(r=r.R(t)).add(To(s))}return r};var Sge=Wi.createWebChannelTransport=function(){return new dy},Pge=Wi.getStatEventTarget=function(){return X_()},zD=Wi.ErrorCode=J_,Oge=Wi.EventType=lB,kge=Wi.Event=lc,e6=Wi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Nge=Wi.FetchXmlHttpFactory=mf,gy=Wi.WebChannel=dB,Rge=Wi.XhrIo=an,Fge=Wi.Md5=Ki,lu=Wi.Integer=vt;const t6="@firebase/firestore";class qn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let uu="9.23.0";const ea=new Xa("@firebase/firestore");function $D(){return ea.logLevel}function Y(n,...e){if(ea.logLevel<=Ye.DEBUG){const t=e.map(HD);ea.debug(`Firestore (${uu}): ${n}`,...t)}}function _n(n,...e){if(ea.logLevel<=Ye.ERROR){const t=e.map(HD);ea.error(`Firestore (${uu}): ${n}`,...t)}}function Qi(n,...e){if(ea.logLevel<=Ye.WARN){const t=e.map(HD);ea.warn(`Firestore (${uu}): ${n}`,...t)}}function HD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ue(n="Unexpected state"){const e=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: `+n;throw _n(e),new Error(e)}function fe(n,e){n||ue()}function ie(n,e){return n}const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ln{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class n6{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lge{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qn.UNAUTHENTICATED))}shutdown(){}}class Vge{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Uge{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let s=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ln,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(C(function*(){yield l.promise,yield o(r.currentUser)}))},c=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ln)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe("string"==typeof r.accessToken),new n6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fe(null===e||"string"==typeof e),new qn(e)}}class Bge{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jge{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Bge(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zge{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(fe("string"==typeof t.token),this.T=t.token,new r6(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $ge(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class i6{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=$ge(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function du(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function o6(n){return n+"\0"}class tn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new tn(0,0))}static max(){return new pe(new tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cf{constructor(e,t,r){void 0===t?t=0:t>e.length&&ue(),void 0===r?r=e.length-t:r>e.length-t&&ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Cf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nt extends Cf{construct(e,t,r){return new nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const Hge=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Cf{construct(e,t,r){return new yn(e,t,r)}static isValidIdentifier(e){return Hge.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Q(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new Q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}class ne{constructor(e){this.path=e}static fromPath(e){return new ne(nt.fromString(e))}static fromName(e){return new ne(nt.fromString(e).popFirst(5))}static empty(){return new ne(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new nt(e.slice()))}}class my{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function GD(n){return n.fields.find(e=>2===e.kind)}function fc(n){return n.fields.filter(e=>2!==e.kind)}my.UNKNOWN_ID=-1;class _y{constructor(e,t){this.fieldPath=e,this.kind=t}}class xf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xf(0,pi.min())}}function a6(n){return new pi(n.readTime,n.key,-1)}class pi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pi(pe.min(),ne.empty(),-1)}static max(){return new pi(pe.max(),ne.empty(),-1)}}function qD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ne.comparator(n.documentKey,e.documentKey),0!==t?t:De(n.largestBatchId,e.largestBatchId))}const c6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ta(n){return WD.apply(this,arguments)}function WD(){return WD=C(function*(n){if(n.code!==V.FAILED_PRECONDITION||n.message!==c6)throw n;Y("LocalStore","Unexpectedly lost primary lease")}),WD.apply(this,arguments)}class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof L?t:L.resolve(t)}catch(t){return L.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):L.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):L.reject(t)}static resolve(e){return new L((t,r)=>{t(e)})}static reject(e){return new L((t,r)=>{r(e)})}static waitFor(e){return new L((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=L.resolve(!1);for(const r of e)t=t.next(i=>i?L.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new L((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new L((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class yy{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ln,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ef(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=KD(r.target.error);this.v.reject(new Ef(e,i))}}static open(e,t,r,i){try{return new yy(t,e.transaction(i,r))}catch(o){throw new Ef(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Kge(t)}}class Yi{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Yi.S(mn())&&_n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Y("SimpleDb","Removing database:",e),pc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!js())return!1;if(Yi.C())return!0;const e=mn(),t=Yi.S(e),r=0<t&&t<10,i=Yi.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return C(function*(){return t.db||(Y("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=s=>{r(s.target.result)},o.onblocked=()=>{i(new Ef(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;i("VersionError"===a.name?new Q(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Q(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Ef(e,a))},o.onupgradeneeded=s=>{Y("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',s.oldVersion),t.V.O(s.target.result,o.transaction,s.oldVersion,t.version).next(()=>{Y("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return C(function*(){const s="readonly"===t;let a=0;for(;;){++a;try{o.db=yield o.$(e);const c=yy.open(o.db,e,s?"readonly":"readwrite",r),l=i(c).next(u=>(c.P(),u)).catch(u=>(c.abort(u),L.reject(u))).toPromise();return l.catch(()=>{}),yield c.R,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(Y("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wge{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return pc(this.L.delete())}}class Ef extends Q{constructor(e,t){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function na(n){return"IndexedDbTransactionError"===n.name}class Kge{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Y("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Y("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),pc(r)}add(e){return Y("SimpleDb","ADD",this.store.name,e,e),pc(this.store.add(e))}get(e){return pc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Y("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Y("SimpleDb","DELETE",this.store.name,e),pc(this.store.delete(e))}count(){return Y("SimpleDb","COUNT",this.store.name),pc(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(s,a)=>{o.push(a)}).next(()=>o)}{const i=this.store.getAll(r.range);return new L((o,s)=>{i.onerror=a=>{s(a.target.error)},i.onsuccess=a=>{o(a.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new L((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}J(e,t){Y("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new L((r,i)=>{t.onerror=o=>{const s=KD(o.target.error);i(s)},t.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,t){const r=[];return new L((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const c=new Wge(a),l=t(a.primaryKey,a.value,c);if(l instanceof L){const u=l.catch(d=>(c.done(),L.reject(d)));r.push(u)}c.isDone?i():null===c.K?a.continue():a.continue(c.K)}}).next(()=>L.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pc(n){return new L((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=KD(r.target.error);t(i)}})}let u6=!1;function KD(n){const e=Yi.S(mn());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Q("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return u6||(u6=!0,setTimeout(()=>{throw r},0)),r}}return n}class Qge{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Y("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,C(function*(){t.task=null;try{Y("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){na(r)?Y("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield ta(r)}yield t.et(6e4)}))}}class Yge{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return C(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return L.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(null!==s&&!r.has(s))return Y("IndexBackiller",`Processing collection: ${s}`),this.it(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.rt(i,o)).next(a=>(Y("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>s.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const s=a6(o);qD(s,r)>0&&(r=s)}),new pi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let gi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function If(n){return null==n}function Tf(n){return 0===n&&1/n==-1/0}function wr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=h6(e)),e=Xge(n.get(t),e);return h6(e)}function Xge(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function h6(n){return n+"\x01\x01"}function Do(n){const e=n.length;if(fe(e>=2),2===e)return fe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),nt.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const s=n.indexOf("\x01",o);switch((s<0||s>t)&&ue(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(o,s),i+="\0";break;case"\x11":i+=n.substring(o,s+1);break;default:ue()}o=s+2}return new nt(r)}const f6=["userId","batchId"];function vy(n,e){return[n,wr(e)]}function p6(n,e,t){return[n,wr(e),t]}const Jge={},Zge=["prefixPath","collectionGroup","readTime","documentId"],eme=["prefixPath","collectionGroup","documentId"],tme=["collectionGroup","readTime","prefixPath","documentId"],nme=["canonicalId","targetId"],rme=["targetId","path"],ime=["path","targetId"],ome=["collectionId","parent"],sme=["indexId","uid"],ame=["uid","sequenceNumber"],cme=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lme=["indexId","uid","orderedDocumentKey"],ume=["userId","collectionPath","documentId"],dme=["userId","collectionPath","largestBatchId"],hme=["userId","collectionGroup","largestBatchId"],g6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fme=[...g6,"documentOverlays"],m6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_6=m6,pme=[..._6,"indexConfiguration","indexState","indexEntries"];class QD extends l6{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Wn(n,e){const t=ie(n);return Yi.M(t.ht,e)}function y6(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function v6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ot{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new Ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new by(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new by(this.root,e,this.comparator,!1)}getReverseIterator(){return new by(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new by(this.root,e,this.comparator,!0)}}class by{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??lr.RED,this.left=i??lr.EMPTY,this.right=o??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new lr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return lr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1,lr.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(n,e,t,r,i){return this}insert(n,e,t){return new lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new b6(this.data.getIterator())}getIteratorFrom(e){return new b6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class b6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hu(n){return n.hasNext()?n.getNext():void 0}class Zr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Zr([])}unionWith(e){let t=new Bt(yn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class w6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new w6("Invalid base64 string: "+i):i}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const gme=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(n){if(fe(!!n),"string"==typeof n){let e=0;const t=gme.exec(n);if(fe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:cn(n.seconds),nanos:cn(n.nanos)}}function cn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ps(n){return"string"==typeof n?Vn.fromBase64String(n):Vn.fromUint8Array(n)}function wy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Cy(n){const e=n.mapValue.fields.__previous_value__;return wy(e)?Cy(e):e}function Df(n){const e=ia(n.mapValue.fields.__local_write_time__.timestampValue);return new tn(e.seconds,e.nanos)}class mme{constructor(e,t,r,i,o,s,a,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class gc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}const oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},xy={nullValue:"NULL_VALUE"};function sa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wy(n)?4:I6(n)?9007199254740991:10:ue()}function Ao(n,e){if(n===e)return!0;const t=sa(n);if(t!==sa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Df(n).isEqual(Df(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ia(r.timestampValue),s=ia(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ps(n.bytesValue).isEqual(ps(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return cn(r.geoPointValue.latitude)===cn(i.geoPointValue.latitude)&&cn(r.geoPointValue.longitude)===cn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return cn(r.integerValue)===cn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=cn(r.doubleValue),s=cn(i.doubleValue);return o===s?Tf(o)===Tf(s):isNaN(o)&&isNaN(s)}return!1}(n,e);case 9:return du(n.arrayValue.values||[],e.arrayValue.values||[],Ao);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(y6(o)!==y6(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(void 0===s[a]||!Ao(o[a],s[a])))return!1;return!0}(n,e);default:return ue()}var i}function Af(n,e){return void 0!==(n.values||[]).find(t=>Ao(t,e))}function aa(n,e){if(n===e)return 0;const t=sa(n),r=sa(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(i,o){const s=cn(i.integerValue||i.doubleValue),a=cn(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(n,e);case 3:return C6(n.timestampValue,e.timestampValue);case 4:return C6(Df(n),Df(e));case 5:return De(n.stringValue,e.stringValue);case 6:return function(i,o){const s=ps(i),a=ps(o);return s.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let c=0;c<s.length&&c<a.length;c++){const l=De(s[c],a[c]);if(0!==l)return l}return De(s.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const s=De(cn(i.latitude),cn(o.latitude));return 0!==s?s:De(cn(i.longitude),cn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let c=0;c<s.length&&c<a.length;++c){const l=aa(s[c],a[c]);if(l)return l}return De(s.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===oa.mapValue&&o===oa.mapValue)return 0;if(i===oa.mapValue)return 1;if(o===oa.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),c=o.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=De(a[u],l[u]);if(0!==d)return d;const h=aa(s[a[u]],c[l[u]]);if(0!==h)return h}return De(a.length,l.length)}(n.mapValue,e.mapValue);default:throw ue()}}function C6(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return De(n,e);const t=ia(n),r=ia(e),i=De(t.seconds,r.seconds);return 0!==i?i:De(t.nanos,r.nanos)}function fu(n){return YD(n)}function YD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ia(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ps(n.bytesValue).toBase64():"referenceValue"in n?ne.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=YD(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${YD(r.fields[a])}`;return o+"}"}(n.mapValue):ue();var e}function mc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function XD(n){return!!n&&"integerValue"in n}function Mf(n){return!!n&&"arrayValue"in n}function x6(n){return!!n&&"nullValue"in n}function E6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Iy(n){return!!n&&"mapValue"in n}function Sf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ra(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Sf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function I6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _me(n){return"nullValue"in n?xy:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?mc(gc.empty(),ne.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ue()}function yme(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?mc(gc.empty(),ne.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?oa:ue()}function T6(n,e){const t=aa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function D6(n,e){const t=aa(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Iy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sf(t)}setAll(e){let t=yn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Sf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ao(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Iy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ra(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ur(Sf(this.value))}}function A6(n){const e=[];return ra(n.fields,(t,r)=>{const i=new yn([t]);if(Iy(r)){const o=A6(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Zr(e)}class jt{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,pe.min(),pe.min(),pe.min(),ur.empty(),0)}static newFoundDocument(e,t,r,i){return new jt(e,1,t,pe.min(),r,i,0)}static newNoDocument(e,t){return new jt(e,2,t,pe.min(),pe.min(),ur.empty(),0)}static newUnknownDocument(e,t){return new jt(e,3,t,pe.min(),pe.min(),ur.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ca{constructor(e,t){this.position=e,this.inclusive=t}}function M6(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?ne.comparator(ne.fromName(s.referenceValue),t.key):aa(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function S6(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ao(n.position[t],e.position[t]))return!1;return!0}class pu{constructor(e,t="asc"){this.field=e,this.dir=t}}function vme(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class P6{}class Qe extends P6{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new bme(e,t,r):"array-contains"===t?new xme(e,r):"in"===t?new L6(e,r):"not-in"===t?new Eme(e,r):"array-contains-any"===t?new Ime(e,r):new Qe(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new wme(e,r):new Cme(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(aa(t,this.value)):null!==t&&sa(this.value)===sa(t)&&this.matchesComparison(aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class bt extends P6{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new bt(e,t)}matches(e){return gu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function gu(n){return"and"===n.op}function JD(n){return"or"===n.op}function ZD(n){return O6(n)&&gu(n)}function O6(n){for(const e of n.filters)if(e instanceof bt)return!1;return!0}function eA(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+fu(n.value);if(ZD(n))return n.filters.map(e=>eA(e)).join(",");{const e=n.filters.map(t=>eA(t)).join(",");return`${n.op}(${e})`}}function k6(n,e){return n instanceof Qe?(t=n,(r=e)instanceof Qe&&t.op===r.op&&t.field.isEqual(r.field)&&Ao(t.value,r.value)):n instanceof bt?function(t,r){return r instanceof bt&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,s)=>i&&k6(o,r.filters[s]),!0)}(n,e):void ue();var t,r}function N6(n,e){const t=n.filters.concat(e);return bt.create(t,n.op)}function R6(n){return n instanceof Qe?`${(e=n).field.canonicalString()} ${e.op} ${fu(e.value)}`:n instanceof bt?function(e){return e.op.toString()+" {"+e.getFilters().map(R6).join(" ,")+"}"}(n):"Filter";var e}class bme extends Qe{constructor(e,t,r){super(e,t,r),this.key=ne.fromName(r.referenceValue)}matches(e){const t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class wme extends Qe{constructor(e,t){super(e,"in",t),this.keys=F6(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cme extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=F6(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function F6(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ne.fromName(r.referenceValue))}class xme extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mf(t)&&Af(t.arrayValue,this.value)}}class L6 extends Qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Af(this.value.arrayValue,t)}}class Eme extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Af(this.value.arrayValue,t)}}class Ime extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Af(this.value.arrayValue,r))}}class Tme{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function tA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Tme(n,e,t,r,i,o,s)}function _c(n){const e=ie(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>eA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),If(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fu(r)).join(",")),e.dt=t}return e.dt}function Pf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vme(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k6(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!S6(n.startAt,e.startAt)&&S6(n.endAt,e.endAt)}function Ty(n){return ne.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Dy(n,e){return n.filters.filter(t=>t instanceof Qe&&t.field.isEqual(e))}function V6(n,e,t){let r=xy,i=!0;for(const o of Dy(n,e)){let s=xy,a=!0;switch(o.op){case"<":case"<=":s=_me(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=xy}T6({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];T6({value:r,inclusive:i},{value:s,inclusive:t.inclusive})<0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}function U6(n,e,t){let r=oa,i=!0;for(const o of Dy(n,e)){let s=oa,a=!0;switch(o.op){case">=":case">":s=yme(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=oa}D6({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const s=t.position[o];D6({value:r,inclusive:i},{value:s,inclusive:t.inclusive})>0&&(r=s,i=t.inclusive);break}return{value:r,inclusive:i}}class gs{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.wt=null,this._t=null}}function mu(n){return new gs(n)}function j6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Ay(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function rA(n){return null!==n.collectionGroup}function yc(n){const e=ie(n);if(null===e.wt){e.wt=[];const t=Ay(e),r=nA(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new pu(t)),e.wt.push(new pu(yn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new pu(yn.keyField(),o))}}}return e.wt}function Rr(n){const e=ie(n);if(!e._t)if("F"===e.limitType)e._t=tA(e.path,e.collectionGroup,yc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of yc(e))t.push(new pu(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new ca(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ca(e.startAt.position,e.startAt.inclusive):null;e._t=tA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function iA(n,e){e.getFirstInequalityField(),Ay(n);const t=n.filters.concat([e]);return new gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function My(n,e,t){return new gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Of(n,e){return Pf(Rr(n),Rr(e))&&n.limitType===e.limitType}function z6(n){return`${_c(Rr(n))}|lt:${n.limitType}`}function oA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>R6(r)).join(", ")}]`),If(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fu(r)).join(",")),`Target(${t})`}(Rr(n))}; limitType=${n.limitType})`}function kf(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ne.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of yc(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,s){const a=M6(i,o,s);return i.inclusive?a<=0:a<0}(t.startAt,yc(t),r)||t.endAt&&!function(i,o,s){const a=M6(i,o,s);return i.inclusive?a>=0:a>0}(t.endAt,yc(t),r)));var t,r}function H6(n){return(e,t)=>{let r=!1;for(const i of yc(n)){const o=Dme(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Dme(n,e,t){const r=n.field.isKeyField()?ne.comparator(e.key,t.key):function(i,o,s){const a=o.data.field(i),c=s.data.field(i);return null!==a&&null!==c?aa(a,c):ue()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}class ms{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return v6(this.inner)}size(){return this.innerSize}}const Ame=new Ot(ne.comparator);function ei(){return Ame}const G6=new Ot(ne.comparator);function Nf(...n){let e=G6;for(const t of n)e=e.insert(t.key,t);return e}function q6(n){let e=G6;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Mo(){return Rf()}function W6(){return Rf()}function Rf(){return new ms(n=>n.toString(),(n,e)=>n.isEqual(e))}const Mme=new Ot(ne.comparator),Sme=new Bt(ne.comparator);function Fe(...n){let e=Sme;for(const t of n)e=e.add(t);return e}const Pme=new Bt(De);function K6(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(e)?"-0":e}}function Q6(n){return{integerValue:""+n}}function Y6(n,e){return function d6(n){return"number"==typeof n&&Number.isInteger(n)&&!Tf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Q6(e):K6(n,e)}class Sy{constructor(){this._=void 0}}function Ome(n,e,t){return n instanceof _u?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&wy(i)&&(i=Cy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof vc?J6(n,e):n instanceof bc?Z6(n,e):function(r,i){const o=X6(r,i),s=ej(o)+ej(r.gt);return XD(o)&&XD(r.gt)?Q6(s):K6(r.serializer,s)}(n,e)}function kme(n,e,t){return n instanceof vc?J6(n,e):n instanceof bc?Z6(n,e):t}function X6(n,e){return n instanceof yu?XD(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class _u extends Sy{}class vc extends Sy{constructor(e){super(),this.elements=e}}function J6(n,e){const t=tj(e);for(const r of n.elements)t.some(i=>Ao(i,r))||t.push(r);return{arrayValue:{values:t}}}class bc extends Sy{constructor(e){super(),this.elements=e}}function Z6(n,e){let t=tj(e);for(const r of n.elements)t=t.filter(i=>!Ao(i,r));return{arrayValue:{values:t}}}class yu extends Sy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function ej(n){return cn(n.integerValue||n.doubleValue)}function tj(n){return Mf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ff{constructor(e,t){this.field=e,this.transform=t}}class Rme{constructor(e,t){this.version=e,this.transformResults=t}}class Kt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kt}static exists(e){return new Kt(void 0,e)}static updateTime(e){return new Kt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Py(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Oy{}function nj(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new bu(n.key,Kt.none()):new vu(n.key,n.data,Kt.none());{const t=n.data,r=ur.empty();let i=new Bt(yn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new _s(n.key,r,new Zr(i.toArray()),Kt.none())}}function Fme(n,e,t){n instanceof vu?function(r,i,o){const s=r.value.clone(),a=oj(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(n,e,t):n instanceof _s?function(r,i,o){if(!Py(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=oj(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(ij(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Lf(n,e,t,r){return n instanceof vu?function(i,o,s,a){if(!Py(i.precondition,o))return s;const c=i.value.clone(),l=sj(i.fieldTransforms,a,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof _s?function(i,o,s,a){if(!Py(i.precondition,o))return s;const c=sj(i.fieldTransforms,a,o),l=o.data;return l.setAll(ij(i)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===s?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(s=t,Py(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s);var o,s}function Lme(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=X6(r.transform,i||null);null!=o&&(null===t&&(t=ur.empty()),t.set(r.field,o))}return t||null}function rj(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&du(t,r,(i,o)=>function Nme(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof vc&&r instanceof vc||t instanceof bc&&r instanceof bc?du(t.elements,r.elements,Ao):t instanceof yu&&r instanceof yu?Ao(t.gt,r.gt):t instanceof _u&&r instanceof _u);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class vu extends Oy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _s extends Oy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ij(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function oj(n,e,t){const r=new Map;fe(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,kme(s,a,t[i]))}return r}function sj(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,Ome(o,s,e))}return r}class bu extends Oy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aA extends Oy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Fme(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Lf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=W6();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const c=nj(s,a);null!==c&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(t,r)=>rj(t,r))&&du(this.baseMutations,e.baseMutations,(t,r)=>rj(t,r))}}class lA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){fe(e.mutations.length===r.length);let i=Mme;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new lA(e,t,r,i)}}class uA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ume{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dn,rt;function cj(n){if(void 0===n)return _n("GRPC error has no .code"),V.UNKNOWN;switch(n){case Dn.OK:return V.OK;case Dn.CANCELLED:return V.CANCELLED;case Dn.UNKNOWN:return V.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return V.INTERNAL;case Dn.UNAVAILABLE:return V.UNAVAILABLE;case Dn.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Dn.NOT_FOUND:return V.NOT_FOUND;case Dn.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Dn.ABORTED:return V.ABORTED;case Dn.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Dn.DATA_LOSS:return V.DATA_LOSS;default:return ue()}}(rt=Dn||(Dn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";class dA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ky}static getOrCreateInstance(){return null===ky&&(ky=new dA),ky}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let ky=null;const Bme=new lu([4294967295,4294967295],0);function uj(n){const e=function lj(){return new TextEncoder}().encode(n),t=new Fge;return t.update(e),new Uint8Array(t.digest())}function dj(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new lu([t,r],0),new lu([i,o],0)]}class hA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vf(`Invalid padding: ${t}`);if(r<0)throw new Vf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Vf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Vf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=lu.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(lu.fromNumber(r)));return 1===i.compare(Bme)&&(i=new lu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=uj(e),[r,i]=dj(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new hA(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.It)return;const t=uj(e),[r,i]=dj(t);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Vf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Bf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Uf(pe.min(),i,new Ot(De),ei(),Fe())}}class Bf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Bf(r,t,Fe(),Fe(),Fe())}}class Ny{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class hj{constructor(e,t){this.targetId=e,this.Vt=t}}class fj{constructor(e,t,r=Vn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class pj{constructor(){this.St=0,this.Dt=mj(),this.Ct=Vn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Fe(),t=Fe(),r=Fe();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Bf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=mj()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class jme{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ei(),this.zt=gj(),this.Wt=new Ot(De)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(Ty(s))if(0===i){const a=new ne(s.path);this.Yt(r,a,jt.newNoDocument(a,pe.min()))}else fe(1===i);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);0!==c&&(this.ee(r),this.Wt=this.Wt.insert(r,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=dA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(l,u,d){var h,p,b,E,M,k;const S={localCacheCount:u,existenceFilterCount:d.count},$=d.unchangedNames;return $&&(S.bloomFilter={applied:0===l,hashCount:null!==(h=$?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(E=null===(b=null===(p=$?.bits)||void 0===p?void 0:p.bitmap)||void 0===b?void 0:b.length)&&void 0!==E?E:0,padding:null!==(k=null===(M=$?.bits)||void 0===M?void 0:M.padding)&&void 0!==k?k:0}),S}(c,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let c,l;try{c=ps(o).toUint8Array()}catch(u){if(u instanceof w6)return Qi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{l=new hA(c,s,a)}catch(u){return Qi(u instanceof Vf?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===l.It?1:i!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Ty(a.target)){const c=new ne(a.target.path);null!==this.jt.get(c)||this.ae(s,c)||this.Yt(s,c,jt.newNoDocument(c,e))}o.Mt&&(t.set(s,o.Ot()),o.Ft())}});let r=Fe();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.se(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Uf(e,t,this.Wt,this.jt,r);return this.jt=ei(),this.zt=gj(),this.Wt=new Ot(De),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new pj,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Bt(De),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Y("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new pj),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function gj(){return new Ot(ne.comparator)}function mj(){return new Ot(ne.comparator)}const zme={asc:"ASCENDING",desc:"DESCENDING"},$me={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hme={and:"AND",or:"OR"};class Gme{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fA(n,e){return n.useProto3Json||If(e)?e:{value:e}}function wu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _j(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qme(n,e){return wu(n,e.toTimestamp())}function vn(n){return fe(!!n),pe.fromTimestamp(function(e){const t=ia(e);return new tn(t.seconds,t.nanos)}(n))}function pA(n,e){return(t=n,new nt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function yj(n){const e=nt.fromString(n);return fe(Dj(e)),e}function jf(n,e){return pA(n.databaseId,e.path)}function So(n,e){const t=yj(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ne(bj(t))}function gA(n,e){return pA(n.databaseId,e)}function vj(n){const e=yj(n);return 4===e.length?nt.emptyPath():bj(e)}function zf(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bj(n){return fe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wj(n,e,t){return{name:jf(n,e),fields:t.value.mapValue.fields}}function $f(n,e){let t;if(e instanceof vu)t={update:wj(n,e.key,e.value)};else if(e instanceof bu)t={delete:jf(n,e.key)};else if(e instanceof _s)t={update:wj(n,e.key,e.data),updateMask:e_e(e.fieldMask)};else{if(!(e instanceof aA))return ue();t={verify:jf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof _u)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof vc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof bc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof yu)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw ue()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:qme(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ue()),t;var i}function mA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Kt.updateTime(vn(i.updateTime)):void 0!==i.exists?Kt.exists(i.exists):Kt.none():Kt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,s){let a=null;"setToServerValue"in s?(fe("REQUEST_TIME"===s.setToServerValue),a=new _u):"appendMissingElements"in s?a=new vc(s.appendMissingElements.values||[]):"removeAllFromArray"in s?a=new bc(s.removeAllFromArray.values||[]):"increment"in s?a=new yu(o,s.increment):ue();const c=yn.fromServerFormat(s.fieldPath);return new Ff(c,a)}(n,i)):[];var i;if(e.update){const i=So(n,e.update.name),o=new ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=new Zr((e.updateMask.fieldPaths||[]).map(l=>yn.fromServerFormat(l)));return new _s(i,o,s,t,r)}return new vu(i,o,t,r)}if(e.delete){const i=So(n,e.delete);return new bu(i,t)}if(e.verify){const i=So(n,e.verify);return new aA(i,t)}return ue()}function xj(n,e){return{documents:[gA(n,e.path)]}}function _A(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=gA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=gA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return Tj(bt.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:la((u=l).field),direction:Xme(u.dir)};var u})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=fA(n,e.limit);var a,c;return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(c=e.endAt).inclusive,values:c.position}),t}function Ej(n){let e=vj(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){fe(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(u){const d=Ij(u);return d instanceof bt&&ZD(d)?d.getFilters():[d]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(u=>{return new pu(Cu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,If(d)?null:d}(t.limit));let c=null;var u;t.startAt&&(c=new ca((u=t.startAt).values||[],!!u.before));let l=null;return t.endAt&&(l=function(u){return new ca(u.values||[],!u.before)}(t.endAt)),function B6(n,e,t,r,i,o,s,a){return new gs(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",c,l)}function Ij(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cu(e.unaryFilter.field);return Qe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Cu(e.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Cu(e.unaryFilter.field);return Qe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Cu(e.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(n):void 0!==n.fieldFilter?Qe.create(Cu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return bt.create(e.compositeFilter.filters.map(t=>Ij(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ue()}}(e.compositeFilter.op))}(n):ue();var e}function Xme(n){return zme[n]}function Jme(n){return $me[n]}function Zme(n){return Hme[n]}function la(n){return{fieldPath:n.canonicalString()}}function Cu(n){return yn.fromServerFormat(n.fieldPath)}function Tj(n){return n instanceof Qe?function(e){if("=="===e.op){if(E6(e.value))return{unaryFilter:{field:la(e.field),op:"IS_NAN"}};if(x6(e.value))return{unaryFilter:{field:la(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(E6(e.value))return{unaryFilter:{field:la(e.field),op:"IS_NOT_NAN"}};if(x6(e.value))return{unaryFilter:{field:la(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(e.field),op:Jme(e.op),value:e.value}}}(n):n instanceof bt?function(e){const t=e.getFilters().map(r=>Tj(r));return 1===t.length?t[0]:{compositeFilter:{op:Zme(e.op),filters:t}}}(n):ue()}function e_e(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Dj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ys{constructor(e,t,r,i,o=pe.min(),s=pe.min(),a=Vn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Aj{constructor(e){this.fe=e}}function Mj(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ry(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:jf(i=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:wu(i,o.version.toTimestamp()),createTime:wu(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:wc(e.version)};else{if(!e.isUnknownDocument())return ue();r.unknownDocument={path:t.path.toArray(),version:wc(e.version)}}var i,o;return r}function Ry(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function wc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cc(n){const e=new tn(n.seconds,n.nanoseconds);return pe.fromTimestamp(e)}function xc(n,e){const t=(e.baseMutations||[]).map(o=>mA(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>mA(n.fe,o)),i=tn.fromMillis(e.localWriteTimeMs);return new cA(e.batchId,i,t,r)}function Hf(n){const e=Cc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Cc(n.lastLimboFreeSnapshotVersion):pe.min();let r;var i;return void 0!==n.query.documents?(fe(1===(i=n.query).documents.length),r=Rr(mu(vj(i.documents[0])))):r=Rr(Ej(n.query)),new ys(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Vn.fromBase64String(n.resumeToken))}function Sj(n,e){const t=wc(e.snapshotVersion),r=wc(e.lastLimboFreeSnapshotVersion);let i;i=Ty(e.target)?xj(n.fe,e.target):_A(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_c(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function yA(n){const e=Ej({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?My(e,e.limit,"L"):e}function vA(n,e){return new uA(e.largestBatchId,mA(n.fe,e.overlayMutation))}function Pj(n,e){const t=e.path.lastSegment();return[n,wr(e.path.popLast()),t]}function Oj(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:wc(r.readTime),documentKey:wr(r.documentKey.path),largestBatchId:r.largestBatchId}}class n_e{getBundleMetadata(e,t){return kj(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Cc(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return kj(e).put({bundleId:(r=t).id,createTime:wc(vn(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Nj(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:yA(i.bundledQuery),readTime:Cc(i.readTime)};var i})}saveNamedQuery(e,t){return Nj(e).put({name:(r=t).name,readTime:wc(vn(r.readTime)),bundledQuery:r.bundledQuery});var r}}function kj(n){return Wn(n,"bundles")}function Nj(n){return Wn(n,"namedQueries")}class Fy{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Fy(e,t.uid||"")}getOverlay(e,t){return Gf(e).get(Pj(this.userId,t)).next(r=>r?vA(this.serializer,r):null)}getOverlays(e,t){const r=Mo();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,s)=>{const a=new uA(t,s);i.push(this.we(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(s=>i.add(wr(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Gf(e).J("collectionPathOverlayIndex",a))}),L.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Mo(),o=wr(t),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Gf(e).j("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=vA(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Mo();let s;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gf(e).X({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const d=vA(this.serializer,l);o.size()<i||d.largestBatchId===s?(o.set(d.getKey(),d),s=d.largestBatchId):u.done()}).next(()=>o)}we(e,t){return Gf(e).put(function(r,i,o){const[s,a,c]=Pj(i,o.mutation.key);return{userId:i,collectionPath:a,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:$f(r.fe,o.mutation)}}(this.serializer,this.userId,t))}}function Gf(n){return Wn(n,"documentOverlays")}class Ec{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(cn(e.integerValue));else if("doubleValue"in e){const r=cn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Tf(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ps(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?I6(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ue()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),ne.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function r_e(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Rj(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=r_e(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}Ec.Ve=new Ec;class i_e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=Rj(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=Rj(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class o_e{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class s_e{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class qf{constructor(){this.je=new i_e,this.ze=new o_e(this.je),this.We=new s_e(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Ic{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ic(this.indexId,this.documentKey,this.arrayValue,r)}}function ua(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Fj(n.arrayValue,e.arrayValue),0!==t?t:(t=Fj(n.directionalValue,e.directionalValue),0!==t?t:ne.comparator(n.documentKey,e.documentKey)))}function Fj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class a_e{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){fe(e.collectionGroup===this.collectionId);const t=GD(e);if(void 0!==t&&!this.en(t))return!1;const r=fc(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.en(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const a=r[o];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[s++],a))return!1}++o}for(;o<r.length;++o)if(s>=this.Ye.length||!this.sn(this.Ye[s++],r[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Lj(n){var e,t;if(fe(n instanceof Qe||n instanceof bt),n instanceof Qe){if(n instanceof L6){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Qe.create(n.field,"==",o)))||[];return bt.create(i,"or")}return n}const r=n.filters.map(i=>Lj(i));return bt.create(r,n.op)}function c_e(n){if(0===n.getFilters().length)return[];const e=CA(Lj(n));return fe(Vj(e)),bA(e)||wA(e)?[e]:e.getFilters()}function bA(n){return n instanceof Qe}function wA(n){return n instanceof bt&&ZD(n)}function Vj(n){return bA(n)||wA(n)||function(e){if(e instanceof bt&&JD(e)){for(const t of e.getFilters())if(!bA(t)&&!wA(t))return!1;return!0}return!1}(n)}function CA(n){if(fe(n instanceof Qe||n instanceof bt),n instanceof Qe)return n;if(1===n.filters.length)return CA(n.filters[0]);const e=n.filters.map(r=>CA(r));let t=bt.create(e,n.op);return t=Ly(t),Vj(t)?t:(fe(t instanceof bt),fe(gu(t)),fe(t.filters.length>1),t.filters.reduce((r,i)=>xA(r,i)))}function xA(n,e){let t;return fe(n instanceof Qe||n instanceof bt),fe(e instanceof Qe||e instanceof bt),t=n instanceof Qe?e instanceof Qe?bt.create([n,e],"and"):Uj(n,e):e instanceof Qe?Uj(e,n):function(r,i){if(fe(r.filters.length>0&&i.filters.length>0),gu(r)&&gu(i))return N6(r,i.getFilters());const o=JD(r)?r:i,s=JD(r)?i:r,a=o.filters.map(c=>xA(c,s));return bt.create(a,"or")}(n,e),Ly(t)}function Uj(n,e){if(gu(e))return N6(e,n.getFilters());{const t=e.filters.map(r=>xA(n,r));return bt.create(t,"or")}}function Ly(n){if(fe(n instanceof Qe||n instanceof bt),n instanceof Qe)return n;const e=n.getFilters();if(1===e.length)return Ly(e[0]);if(O6(n))return n;const t=e.map(i=>Ly(i)),r=[];return t.forEach(i=>{i instanceof Qe?r.push(i):i instanceof bt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:bt.create(r,n.op)}class l_e{constructor(){this.rn=new EA}addToCollectionParentIndex(e,t){return this.rn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(pi.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(pi.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}}class EA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Bt(nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(nt.comparator)).toArray()}}const Vy=new Uint8Array(0);class u_e{constructor(e,t){this.user=e,this.databaseId=t,this.on=new EA,this.un=new ms(r=>_c(r),(r,i)=>Pf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:r,parent:wr(i)};return Bj(e).put(o)}return L.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[o6(t),""],!1,!0);return Bj(e).j(i).next(o=>{for(const s of o){if(s.collectionId!==t)break;r.push(Do(s.parent))}return r})}addFieldIndex(e,t){const r=Uy(e),i={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])};var s;delete i.indexId;const o=r.add(i);if(t.indexState){const s=Kf(e);return o.next(a=>{s.put(Oj(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=Uy(e),i=Kf(e),o=Wf(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Wf(e);let i=!0;const o=new Map;return L.forEach(this.cn(t),s=>this.an(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=Fe();const a=[];return L.forEach(o,(c,l)=>{var u;Y("IndexedDbIndexManager",`Using index ${u=c,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`} to execute ${_c(t)}`);const d=function($,J){const ae=GD(J);if(void 0===ae)return null;for(const be of Dy($,ae.fieldPath))switch(be.op){case"array-contains-any":return be.value.arrayValue.values||[];case"array-contains":return[be.value]}return null}(l,c),h=function($,J){const ae=new Map;for(const be of fc(J))for(const Ft of Dy($,be.fieldPath))switch(Ft.op){case"==":case"in":ae.set(be.fieldPath.canonicalString(),Ft.value);break;case"not-in":case"!=":return ae.set(be.fieldPath.canonicalString(),Ft.value),Array.from(ae.values())}return null}(l,c),p=function($,J){const ae=[];let be=!0;for(const Ft of fc(J)){const Mn=0===Ft.kind?V6($,Ft.fieldPath,$.startAt):U6($,Ft.fieldPath,$.startAt);ae.push(Mn.value),be&&(be=Mn.inclusive)}return new ca(ae,be)}(l,c),b=function($,J){const ae=[];let be=!0;for(const Ft of fc(J)){const Mn=0===Ft.kind?U6($,Ft.fieldPath,$.endAt):V6($,Ft.fieldPath,$.endAt);ae.push(Mn.value),be&&(be=Mn.inclusive)}return new ca(ae,be)}(l,c),E=this.hn(c,l,p),M=this.hn(c,l,b),k=this.ln(c,l,h),S=this.fn(c.indexId,d,E,p.inclusive,M,b.inclusive,k);return L.forEach(S,$=>r.H($,t.limit).next(J=>{J.forEach(ae=>{const be=ne.fromSegments(ae.documentKey);s.has(be)||(s=s.add(be),a.push(be))})}))}).next(()=>a)}return L.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:c_e(bt.create(e.filters,"and")).map(r=>tA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,o,s,a){const c=(null!=t?t.length:1)*Math.max(r.length,o.length),l=c/(null!=t?t.length:1),u=[];for(let d=0;d<c;++d){const h=t?this.dn(t[d/l]):Vy,p=this.wn(e,h,r[d%l],i),b=this._n(e,h,o[d%l],s),E=a.map(M=>this.wn(e,h,M,!0));u.push(...this.createRange(p,b,E))}return u}wn(e,t,r,i){const o=new Ic(e,ne.empty(),t,r);return i?o:o.Je()}_n(e,t,r,i){const o=new Ic(e,ne.empty(),t,r);return i?o.Je():o}an(e,t){const r=new a_e(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,t){let r=2;const i=this.cn(t);return L.forEach(i,o=>this.an(e,o).next(s=>{s?0!==r&&s.fields.length<function(a){let c=new Bt(yn.comparator),l=!1;for(const u of a.filters)for(const d of u.getFlattenedFilters())d.field.isKeyField()||("array-contains"===d.op||"array-contains-any"===d.op?l=!0:c=c.add(d.field));for(const u of a.orderBy)u.field.isKeyField()||(c=c.add(u.field));return c.size+(l?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new qf;for(const i of fc(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const s=r.He(i.kind);Ec.Ve._e(o,s)}return r.Qe()}dn(e){const t=new qf;return Ec.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new qf;return Ec.Ve._e(mc(this.databaseId,t),r.He(function(i){const o=fc(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new qf);let o=0;for(const s of fc(e)){const a=r[o++];for(const c of i)if(this.yn(t,s.fieldPath)&&Mf(a))i=this.pn(i,s,a);else{const l=c.He(s.kind);Ec.Ve._e(a,l)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const c=new qf;c.seed(a.Qe()),Ec.Ve._e(s,c.He(t.kind)),o.push(c)}return o}yn(e,t){return!!e.filters.find(r=>r instanceof Qe&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Uy(e),i=Kf(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const s=[];return L.forEach(o,a=>i.get([a.indexId,this.uid]).next(c=>{s.push(function(l,u){const d=u?new xf(u.sequenceNumber,new pi(Cc(u.readTime),new ne(Do(u.documentKey)),u.largestBatchId)):xf.empty(),h=l.fields.map(([p,b])=>new _y(yn.fromServerFormat(p),b));return new my(l.indexId,l.collectionGroup,h,d)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:De(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Uy(e),o=Kf(e);return this.Tn(e).next(s=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>L.forEach(a,c=>o.put(Oj(c.indexId,this.user,s,r)))))}updateIndexEntries(e,t){const r=new Map;return L.forEach(t,(i,o)=>{const s=r.get(i.collectionGroup);return(s?L.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,c=>this.En(e,i,c).next(l=>{const u=this.An(o,c);return l.isEqual(u)?L.resolve():this.vn(e,o,c,l,u)}))))})}Rn(e,t,r,i){return Wf(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Wf(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Wf(e);let o=new Bt(ua);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(s,a)=>{o=o.add(new Ic(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>o)}An(e,t){let r=new Bt(ua);const i=this.mn(t,e);if(null==i)return r;const o=GD(t);if(null!=o){const s=e.data.field(o.fieldPath);if(Mf(s))for(const a of s.arrayValue.values||[])r=r.add(new Ic(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Ic(t.indexId,e.key,Vy,i));return r}vn(e,t,r,i,o){Y("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(a,c,l,u,d){const h=a.getIterator(),p=c.getIterator();let b=hu(h),E=hu(p);for(;b||E;){let M=!1,k=!1;if(b&&E){const S=l(b,E);S<0?k=!0:S>0&&(M=!0)}else null!=b?k=!0:M=!0;M?(u(E),E=hu(p)):k?(d(b),b=hu(h)):(b=hu(h),E=hu(p))}}(i,o,ua,a=>{s.push(this.Rn(e,t,r,a))},a=>{s.push(this.Pn(e,t,r,a))}),L.waitFor(s)}Tn(e){let t=1;return Kf(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((s,a)=>ua(s,a)).filter((s,a,c)=>!a||0!==ua(s,c[a-1]));const i=[];i.push(e);for(const s of r){const a=ua(s,e),c=ua(s,t);if(0===a)i[0]=e.Je();else if(a>0&&c<0)i.push(s),i.push(s.Je());else if(c>0)break}i.push(t);const o=[];for(let s=0;s<i.length;s+=2){if(this.bn(i[s],i[s+1]))return[];o.push(IDBKeyRange.bound([i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Vy,[]],[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Vy,[]]))}return o}bn(e,t){return ua(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jj)}getMinOffset(e,t){return L.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||ue())).next(jj)}}function Bj(n){return Wn(n,"collectionParents")}function Wf(n){return Wn(n,"indexEntries")}function Uy(n){return Wn(n,"indexConfiguration")}function Kf(n){return Wn(n,"indexState")}function jj(n){fe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;qD(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new pi(e.readTime,e.documentKey,t)}const zj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Cr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Cr(e,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $j(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],s=IDBKeyRange.only(t.batchId);let a=0;const c=r.X({range:s},(u,d,h)=>(a++,h.delete()));o.push(c.next(()=>{fe(1===a)}));const l=[];for(const u of t.mutations){const d=p6(e,u.key.path,t.batchId);o.push(i.delete(d)),l.push(u.key)}return L.waitFor(o).next(()=>l)}function By(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ue();e=n.noDocument}return JSON.stringify(e).length}Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(41943040,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);class jy{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){fe(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new jy(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return da(e).X({index:"userMutationsIndex",range:r},(i,o,s)=>{t=!1,s.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=xu(e),s=da(e);return s.add({}).next(a=>{fe("number"==typeof a);const c=new cA(a,t,r,i),l=function(h,p,b){const E=b.baseMutations.map(k=>$f(h.fe,k)),M=b.mutations.map(k=>$f(h.fe,k));return{userId:p,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:E,mutations:M}}(this.serializer,this.userId,c),u=[];let d=new Bt((h,p)=>De(h.canonicalString(),p.canonicalString()));for(const h of i){const p=p6(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),u.push(s.put(l)),u.push(o.put(p,Jge))}return d.forEach(h=>{u.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Vn[a]=c.keys()}),L.waitFor(u).next(()=>c)})}lookupMutationBatch(e,t){return da(e).get(t).next(r=>r?(fe(r.userId===this.userId),xc(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?L.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return da(e).X({index:"userMutationsIndex",range:i},(s,a,c)=>{a.userId===this.userId&&(fe(a.batchId>=r),o=xc(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return da(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return da(e).j("userMutationsIndex",t).next(r=>r.map(i=>xc(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vy(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return xu(e).X({range:i},(s,a,c)=>{const[l,u,d]=s,h=Do(u);if(l===this.userId&&t.path.isEqual(h))return da(e).get(d).next(p=>{if(!p)throw ue();fe(p.userId===this.userId),o.push(xc(this.serializer,p))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(De);const i=[];return t.forEach(o=>{const s=vy(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=xu(e).X({range:a},(l,u,d)=>{const[h,p,b]=l,E=Do(p);h===this.userId&&o.path.isEqual(E)?r=r.add(b):d.done()});i.push(c)}),L.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=vy(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Bt(De);return xu(e).X({range:s},(c,l,u)=>{const[d,h,p]=c,b=Do(h);d===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(p)):u.done()}).next(()=>this.Dn(e,a))}Dn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(da(e).get(o).next(s=>{if(null===s)throw ue();fe(s.userId===this.userId),r.push(xc(this.serializer,s))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return $j(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return L.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return xu(e).X({range:r},(o,s,a)=>{if(o[0]===this.userId){const c=Do(o[1]);i.push(c)}else a.done()}).next(()=>{fe(0===i.length)})})}containsKey(e,t){return Hj(e,this.userId,t)}xn(e){return Gj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Hj(n,e,t){const r=vy(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return xu(n).X({range:o,Y:!0},(a,c,l)=>{const[u,d,h]=a;u===e&&d===i&&(s=!0),l.done()}).next(()=>s)}function da(n){return Wn(n,"mutations")}function xu(n){return Wn(n,"documentMutations")}function Gj(n){return Wn(n,"mutationQueues")}class Tc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Tc(0)}static Mn(){return new Tc(-1)}}class d_e{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Tc(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>pe.fromTimestamp(new tn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Eu(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(fe(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Eu(e).X((s,a)=>{const c=Hf(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,o.push(this.removeTargetData(e,c)))}).next(()=>L.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Eu(e).X((r,i)=>{const o=Hf(i);t(o)})}$n(e){return qj(e).get("targetGlobalKey").next(t=>(fe(null!==t),t))}On(e,t){return qj(e).put("targetGlobalKey",t)}Fn(e,t){return Eu(e).put(Sj(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=_c(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Eu(e).X({range:i,index:"queryTargetsIndex"},(s,a,c)=>{const l=Hf(a);Pf(t,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=ha(e);return t.forEach(s=>{const a=wr(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),L.waitFor(i)}removeMatchingKeys(e,t,r){const i=ha(e);return L.forEach(t,o=>{const s=wr(o.path);return L.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=ha(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ha(e);let o=Fe();return i.X({range:r,Y:!0},(s,a,c)=>{const l=Do(s[1]),u=new ne(l);o=o.add(u)}).next(()=>o)}containsKey(e,t){const r=wr(t.path),i=IDBKeyRange.bound([r],[o6(r)],!1,!0);let o=0;return ha(e).X({index:"documentTargetsIndex",Y:!0,range:i},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}le(e,t){return Eu(e).get(t).next(r=>r?Hf(r):null)}}function Eu(n){return Wn(n,"targets")}function qj(n){return Wn(n,"targetGlobal")}function ha(n){return Wn(n,"targetDocuments")}function Wj([n,e],[t,r]){const i=De(n,t);return 0===i?De(e,r):i}class h_e{constructor(e){this.Ln=e,this.buffer=new Bt(Wj),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Wj(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Kj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,C(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){na(r)?Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield ta(r)}yield t.Qn(3e5)}))}}class f_e{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return L.resolve(gi.ct);const r=new h_e(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(zj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zj):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,s=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(o=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(l=Date.now(),$D()<=Ye.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${d} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:d})))}}class p_e{constructor(e,t){this.db=e,this.garbageCollector=function Qj(n,e){return new f_e(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return zy(e,r)}removeReference(e,t,r){return zy(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return zy(e,t)}Xn(e,t){return function(r,i){let o=!1;return Gj(r).Z(s=>Hj(r,s,i).next(a=>(a&&(o=!0),L.resolve(!a)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(s,a)=>{if(a<=t){const c=this.Xn(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,pe.min()),ha(e).delete([0,wr(s.path)])))});i.push(c)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return zy(e,t)}Yn(e,t){const r=ha(e);let i,o=gi.ct;return r.X({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==gi.ct&&t(new ne(Do(i)),o),o=l,i=c):o=gi.ct}).next(()=>{o!==gi.ct&&t(new ne(Do(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zy(n,e){return ha(n).put((r=n.currentSequenceNumber,{targetId:0,path:wr(e.path),sequenceNumber:r}));var r}class Yj{constructor(){this.changes=new ms(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class g_e{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Dc(e).put(r)}removeEntry(e,t,r){return Dc(e).delete(function(i,o){const s=i.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],Ry(o),s[s.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=jt.newInvalidDocument(t);return Dc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qf(t))},(i,o)=>{r=this.ts(t,o)}).next(()=>r)}es(e,t){let r={size:0,document:jt.newInvalidDocument(t)};return Dc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Qf(t))},(i,o)=>{r={document:this.ts(t,o),size:By(o)}}).next(()=>r)}getEntries(e,t){let r=ei();return this.ns(e,t,(i,o)=>{const s=this.ts(i,o);r=r.insert(i,s)}).next(()=>r)}ss(e,t){let r=ei(),i=new Ot(ne.comparator);return this.ns(e,t,(o,s)=>{const a=this.ts(o,s);r=r.insert(o,a),i=i.insert(o,By(s))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return L.resolve();let i=new Bt(ez);t.forEach(c=>i=i.add(c));const o=IDBKeyRange.bound(Qf(i.first()),Qf(i.last())),s=i.getIterator();let a=s.getNext();return Dc(e).X({index:"documentKeyIndex",range:o},(c,l,u)=>{const d=ne.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&ez(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?u.G(Qf(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,s=[o.popLast().toArray(),o.lastSegment(),Ry(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dc(e).j(IDBKeyRange.bound(s,a,!0)).next(c=>{let l=ei();for(const u of c){const d=this.ts(ne.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);d.isFoundDocument()&&(kf(t,d)||i.has(d.key))&&(l=l.insert(d.key,d))}return l})}getAllFromCollectionGroup(e,t,r,i){let o=ei();const s=Zj(t,r),a=Zj(t,pi.max());return Dc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const d=this.ts(ne.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(d.key,d),o.size===i&&u.done()}).next(()=>o)}newChangeBuffer(e){return new m_e(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Jj(e).get("remoteDocumentGlobalKey").next(t=>(fe(!!t),t))}Zn(e,t){return Jj(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function t_e(n,e){let t;if(e.document)t=function Cj(n,e,t){const r=So(n,e.name),i=vn(e.updateTime),o=e.createTime?vn(e.createTime):pe.min(),s=new ur({mapValue:{fields:e.fields}}),a=jt.newFoundDocument(r,i,o,s);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ne.fromSegments(e.noDocument.path),i=Cc(e.noDocument.readTime);t=jt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ue();{const r=ne.fromSegments(e.unknownDocument.path),i=Cc(e.unknownDocument.version);t=jt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new tn(r[0],r[1]);return pe.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(pe.min()))return r}return jt.newInvalidDocument(e)}}function Xj(n){return new g_e(n)}class m_e extends Yj{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new ms(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Bt((o,s)=>De(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.us.get(o);if(t.push(this.os.removeEntry(e,o,a.readTime)),s.isValidDocument()){const c=Mj(this.os.serializer,s);i=i.add(o.path.popLast());const l=By(c);r+=l-a.size,t.push(this.os.addEntry(e,o,c))}else if(r-=a.size,this.trackRemovals){const c=Mj(this.os.serializer,s.convertToNoDocument(pe.min()));t.push(this.os.addEntry(e,o,c))}}),i.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,r)),L.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((o,s)=>{this.us.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function Jj(n){return Wn(n,"remoteDocumentGlobal")}function Dc(n){return Wn(n,"remoteDocumentsV14")}function Qf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Zj(n,e){const t=e.documentKey.path.toArray();return[n,Ry(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ez(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=De(t[o],r[o]),i)return i;return i=De(t.length,r.length),i||(i=De(t[t.length-2],r[r.length-2]),i||De(t[t.length-1],r[r.length-1]))}class __e{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tz{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Lf(r.mutation,i,Zr.empty(),tn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=Mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Nf();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ei();const s=Rf(),a=Rf();return t.forEach((c,l)=>{const u=r.get(l.key);i.has(l.key)&&(void 0===u||u.mutation instanceof _s)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),Lf(u.mutation,l,u.mutation.getFieldMask(),tn.now())):s.set(l.key,Zr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var d;return a.set(l,new __e(u,null!==(d=s.get(l))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Rf();let i=new Ot((s,a)=>s-a),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=t.get(c);if(null===l)return;let u=r.get(c)||Zr.empty();u=a.applyToLocalView(l,u),r.set(c,u);const d=(i.get(a.batchId)||Fe()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=W6();u.forEach(h=>{if(!o.has(h)){const p=nj(t.get(h),r.get(h));null!==p&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,d))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ne.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):rA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(Mo());let a=-1,c=o;return s.next(l=>L.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?L.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Fe())).next(u=>({batchId:a,changes:q6(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(r=>{let i=Nf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Nf();return this.indexManager.getCollectionParents(e,i).next(s=>L.forEach(s,a=>{const c=(l=t,u=a.child(i),new gs(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,c,r).next(l=>{l.forEach((u,d)=>{o=o.insert(u,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((a,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,jt.newInvalidDocument(l)))});let s=Nf();return o.forEach((a,c)=>{const l=i.get(a);void 0!==l&&Lf(l.mutation,c,Zr.empty(),tn.now()),kf(t,c)&&(s=s.insert(a,c))}),s})}}class y_e{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return L.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:vn(r.createTime)}),L.resolve()}getNamedQuery(e,t){return L.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:yA(r.bundledQuery),readTime:vn(r.readTime)}),L.resolve();var r}}class v_e{constructor(){this.overlays=new Ot(ne.comparator),this.ls=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Mo();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){const i=Mo(),o=t.length+1,s=new ne(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ot((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=o.get(l.largestBatchId);null===u&&(u=Mo(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Mo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return L.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uA(t,r));let o=this.ls.get(t);void 0===o&&(o=Fe(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class IA{constructor(){this.fs=new Bt(Kn.ds),this.ws=new Bt(Kn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Kn(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Kn(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new ne(new nt([])),r=new Kn(t,e),i=new Kn(t,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ne(new nt([])),r=new Kn(t,e),i=new Kn(t,e+1);let o=Fe();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Kn(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Kn{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ne.comparator(e.key,t.key)||De(e.As,t.As)}static _s(e,t){return De(e.As,t.As)||ne.comparator(e.key,t.key)}}class b_e{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Bt(Kn.ds)}checkEmpty(e){return L.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const s=new cA(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Kn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kn(t,0),i=new Kn(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(De);return t.forEach(i=>{const o=new Kn(i,0),s=new Kn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),L.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const s=new Kn(new ne(o),0);let a=new Bt(De);return this.Rs.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.As)),!0)},s),L.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){fe(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return L.forEach(t.mutations,i=>{const o=new Kn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Kn(t,0),i=this.Rs.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return L.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class w_e{constructor(e){this.Ds=e,this.docs=new Ot(ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(t))}getEntries(e,t){let r=ei();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ei();const s=t.path,a=new ne(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||qD(a6(u),r)<=0||(i.has(u.key)||kf(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ue()}Cs(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new C_e(this)}getSize(e){return L.resolve(this.size)}}class C_e extends Yj{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class x_e{constructor(e){this.persistence=e,this.xs=new ms(t=>_c(t),Pf),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new IA,this.targetCount=0,this.Ms=Tc.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),L.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Fn(t),L.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),L.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.ks.containsKey(t))}}class TA{constructor(e,t){this.$s={},this.overlays={},this.Os=new gi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new x_e(this),this.indexManager=new l_e,this.remoteDocumentCache=new w_e(r=>this.referenceDelegate.Ls(r)),this.serializer=new Aj(t),this.qs=new y_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new v_e,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new b_e(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);const i=new E_e(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return L.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class E_e extends l6{constructor(e){super(),this.currentSequenceNumber=e}}class $y{constructor(e){this.persistence=e,this.Qs=new IA,this.js=null}static zs(e){return new $y(e)}get Ws(){if(this.js)return this.js;throw ue()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),L.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ws,r=>{const i=ne.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,pe.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return L.or([()=>L.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class I_e{constructor(e){this.serializer=e}O(e,t,r,i){const o=new yy("createOrUpgrade",t);var a;r<1&&i>=1&&(e.createObjectStore("owner"),(a=e).createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f6,{unique:!0}),a.createObjectStore("documentMutations"),nz(e),function(a){a.createObjectStore("remoteDocuments")}(e));let s=L.resolve();return r<3&&i>=3&&(0!==r&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),nz(e)),s=s.next(()=>function(a){const c=a.store("targetGlobal"),l={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pe.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",l)}(o))),r<4&&i>=4&&(0!==r&&(s=s.next(()=>function(a,c){return c.store("mutations").j().next(l=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f6,{unique:!0});const u=c.store("mutations"),d=l.map(h=>u.put(h));return L.waitFor(d)})}(e,o))),s=s.next(()=>{!function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(s=s.next(()=>this.Ys(o))),r<6&&i>=6&&(s=s.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),r<7&&i>=7&&(s=s.next(()=>this.Zs(o))),r<8&&i>=8&&(s=s.next(()=>this.ti(e,o))),r<9&&i>=9&&(s=s.next(()=>{!function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(s=s.next(()=>this.ei(o))),r<11&&i>=11&&(s=s.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{!function(a){const c=a.createObjectStore("documentOverlays",{keyPath:ume});c.createIndex("collectionPathOverlayIndex",dme,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",hme,{unique:!1})}(e)})),r<13&&i>=13&&(s=s.next(()=>function(a){const c=a.createObjectStore("remoteDocumentsV14",{keyPath:Zge});c.createIndex("documentKeyIndex",eme),c.createIndex("collectionGroupIndex",tme)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.si(e,o))),r<15&&i>=15&&(s=s.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:sme}).createIndex("sequenceNumberIndex",ame,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:cme}).createIndex("documentKeyIndex",lme,{unique:!1})}(e))),s}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=By(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>L.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",s).next(a=>L.forEach(a,c=>{fe(c.userId===o.userId);const l=xc(this.serializer,c);return $j(e,o.userId,l).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((s,a)=>{const c=new nt(s),l=[0,wr(c)];o.push(t.get(l).next(u=>u?L.resolve():t.put({targetId:0,path:wr(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>L.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ome});const r=t.store("collectionParents"),i=new EA,o=s=>{if(i.add(s)){const a=s.lastSegment(),c=s.popLast();return r.put({collectionId:a,parent:wr(c)})}};return t.store("remoteDocuments").X({Y:!0},(s,a)=>{const c=new nt(s);return o(c.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([s,a,c],l)=>{const u=Do(a);return o(u.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const o=Hf(i),s=Sj(this.serializer,o);return t.put(s)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,s)=>{const a=t.store("remoteDocumentsV14"),c=(l=s,l.document?new ne(nt.fromString(l.document.name).popFirst(5)):l.noDocument?ne.fromSegments(l.noDocument.path):l.unknownDocument?ne.fromSegments(l.unknownDocument.path):ue()).path.toArray();var l;const u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>L.waitFor(i))}si(e,t){const r=t.store("mutations"),i=Xj(this.serializer),o=new TA($y.zs,this.serializer.fe);return r.j().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:Fe();xc(this.serializer,c).keys().forEach(d=>u=u.add(d)),a.set(c.userId,u)}),L.forEach(a,(c,l)=>{const u=new qn(l),d=Fy.de(this.serializer,u),h=o.getIndexManager(u),p=jy.de(u,this.serializer,h,o.referenceDelegate);return new tz(i,p,d,h).recalculateAndSaveOverlaysForDocumentKeys(new QD(t,gi.ct),c).next()})})}}function nz(n){n.createObjectStore("targetDocuments",{keyPath:rme}).createIndex("documentTargetsIndex",ime,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nme,{unique:!0}),n.createObjectStore("targetGlobal")}const DA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class AA{constructor(e,t,r,i,o,s,a,c,l,u,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=o,this.window=s,this.document=a,this.ri=l,this.oi=u,this.ui=d,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=h=>Promise.resolve(),!AA.D())throw new Q(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new p_e(this,i),this.di=t+"main",this.serializer=new Aj(c),this.wi=new Yi(this.di,this.ui,new I_e(this.serializer)),this.Bs=new d_e(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Xj(this.serializer),this.qs=new n_e,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&_n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Q(V.FAILED_PRECONDITION,DA);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new gi(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=C(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=C(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(C(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(na(e))return Y("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Yf(e).get("owner").next(t=>L.resolve(this.Ri(t)))}Pi(e){return Gy(e).delete(this.clientId)}bi(){var e=this;return C(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Wn(r,"clientMetadata");return i.j().next(o=>{const s=e.Si(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return L.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?L.resolve(!0):Yf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Q(V.FAILED_PRECONDITION,DA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gy(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Y("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return C(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new QD(t,gi.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Gy(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return jy.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new u_e(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Fy.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Y("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(s=this.ui)?pme:14===s?_6:13===s?m6:12===s?fme:11===s?g6:void ue();var s;let a;return this.wi.runTransaction(e,i,o,c=>(a=new QD(c,this.Os?this.Os.next():gi.ct),"readwrite-primary"===t?this.Ti(a).next(l=>!!l||this.Ei(a)).next(l=>{if(!l)throw _n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Q(V.FAILED_PRECONDITION,c6);return r(a)}).next(l=>this.vi(a).next(()=>l)):this.Oi(a).next(()=>r(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Oi(e){return Yf(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Q(V.FAILED_PRECONDITION,DA)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yf(e).put("owner",t)}static D(){return Yi.D()}Ai(e){const t=Yf(e);return t.get("owner").next(r=>this.Ri(r)?(Y("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):L.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(_n(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(function ose(){return!function rse(){var n;const e=null===(n=i_())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")})()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Y("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _n("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){_n("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yf(n){return Wn(n,"owner")}function Gy(n){return Wn(n,"clientMetadata")}class SA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Fe(),i=Fe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new SA(e,t.fromCache,r,i)}}class rz{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(j6(t))return L.resolve(null);let r=Rr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=My(t,null,"F"),r=Rr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Fe(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.ji(t,a);return this.zi(t,l,s,c.readTime)?this.Ki(e,My(t,null,"F")):this.Wi(e,l,t,c)}))})))}Gi(e,t,r,i){return j6(t)||i.isEqual(pe.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(t,o);return this.zi(t,s,r,i)?this.Qi(e,t):($D()<=Ye.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oA(t)),this.Wi(e,s,t,function s6(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(1e9===r?new tn(t+1,0):new tn(t,r));return new pi(i,ne.empty(),e)}(i,-1)))})}ji(e,t){let r=new Bt(H6(e));return t.forEach((i,o)=>{kf(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return $D()<=Ye.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",oA(t)),this.Ui.getDocumentsMatchingQuery(e,t,pi.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class T_e{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Ot(De),this.Yi=new ms(o=>_c(o),Pf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tz(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function iz(n,e,t,r){return new T_e(n,e,t,r)}function oz(n,e){return PA.apply(this,arguments)}function PA(){return PA=C(function*(n,e){const t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let c=Fe();for(const l of i){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({er:l,removedBatchIds:s,addedBatchIds:a}))})})}),PA.apply(this,arguments)}function sz(n){const e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function M_e(n,e){const t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tu(n,e,t){return OA.apply(this,arguments)}function OA(){return OA=C(function*(n,e,t){const r=ie(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!na(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),OA.apply(this,arguments)}function qy(n,e,t){const r=ie(n);let i=pe.min(),o=Fe();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,c,l){const u=ie(a),d=u.Yi.get(l);return void 0!==d?L.resolve(u.Ji.get(d)):u.Bs.getTargetData(c,l)}(r,s,Rr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,t?i:pe.min(),t?o:Fe())).next(a=>(function uz(n,e,t){let r=n.Xi.get(e)||pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}(r,function $6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:o})))}class LA{constructor(){this.activeTargetIds=function sA(){return Pme}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fz{constructor(){this.Hr=new LA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new LA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class O_e{Yr(e){}shutdown(){}}class pz{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qy=null;function UA(){return null===Qy?Qy=268435456+Math.round(2147483648*Math.random()):Qy++,"0x"+Qy.toString(16)}const k_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N_e{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xr="WebChannelConnection";class R_e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const s=UA(),a=this.To(e,t);Y("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const c={};return this.Eo(c,i,o),this.Ao(e,a,c,r).then(l=>(Y("RestConnection",`Received RPC '${e}' ${s}: `,l),l),l=>{throw Qi("RestConnection",`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,t,r,i,o,s){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${k_e[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=UA();return new Promise((s,a)=>{const c=new Rge;c.setWithCredentials(!0),c.listenOnce(Oge.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case zD.NO_ERROR:const u=c.getResponseJson();Y(xr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case zD.TIMEOUT:Y(xr,`RPC '${e}' ${o} timed out`),a(new Q(V.DEADLINE_EXCEEDED,"Request time out"));break;case zD.HTTP_ERROR:const d=c.getStatus();if(Y(xr,`RPC '${e}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h?.error;if(p&&p.status&&p.message){const b=function(E){const M=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(M)>=0?M:V.UNKNOWN}(p.status);a(new Q(b,p.message))}else a(new Q(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Q(V.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{Y(xr,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(i);Y(xr,`RPC '${e}' ${o} sending request:`,i),c.send(t,"POST",l,r,15)})}Ro(e,t,r){const i=UA(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Sge(),a=Pge(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new Nge({})),this.Eo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const u=o.join("");Y(xr,`Creating RPC '${e}' stream ${i}: ${u}`,c);const d=s.createWebChannel(u,c);let h=!1,p=!1;const b=new N_e({ro:M=>{p?Y(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(h||(Y(xr,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Y(xr,`RPC '${e}' stream ${i} sending:`,M),d.send(M))},oo:()=>d.close()}),E=(M,k,S)=>{M.listen(k,$=>{try{S($)}catch(J){setTimeout(()=>{throw J},0)}})};return E(d,gy.EventType.OPEN,()=>{p||Y(xr,`RPC '${e}' stream ${i} transport opened.`)}),E(d,gy.EventType.CLOSE,()=>{p||(p=!0,Y(xr,`RPC '${e}' stream ${i} transport closed`),b.wo())}),E(d,gy.EventType.ERROR,M=>{p||(p=!0,Qi(xr,`RPC '${e}' stream ${i} transport errored:`,M),b.wo(new Q(V.UNAVAILABLE,"The operation could not be completed")))}),E(d,gy.EventType.MESSAGE,M=>{var k;if(!p){const S=M.data[0];fe(!!S);const J=S.error||(null===(k=S[0])||void 0===k?void 0:k.error);if(J){Y(xr,`RPC '${e}' stream ${i} received error:`,J);const ae=J.status;let be=function(Mn){const ki=Dn[Mn];if(void 0!==ki)return cj(ki)}(ae),Ft=J.message;void 0===be&&(be=V.INTERNAL,Ft="Unknown error status: "+ae+" with message "+J.message),p=!0,b.wo(new Q(be,Ft)),d.close()}else Y(xr,`RPC '${e}' stream ${i} received:`,S),b._o(S)}}),E(a,kge.STAT_EVENT,M=>{M.stat===e6.PROXY?Y(xr,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===e6.NOPROXY&&Y(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.fo()},0),b}}function Yy(){return typeof document<"u"?document:null}function Jf(n){return new Gme(n,!0)}class BA{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class mz{constructor(e,t,r,i,o,s,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new BA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return C(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return C(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return C(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(_n(t.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===V.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Q(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(C(function*(){e.state=0,e.start()}))}tu(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F_e extends mz{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Kme(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:ue(),i=e.targetChange.targetIds||[],o=function(c,l){return c.useProto3Json?(fe(void 0===l||"string"==typeof l),Vn.fromBase64String(l||"")):(fe(void 0===l||l instanceof Uint8Array),Vn.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const l=void 0===c.code?V.UNKNOWN:cj(c.code);return new Q(l,c.message||"")}(s);t=new fj(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=So(n,r.document.name),o=vn(r.document.updateTime),s=r.document.createTime?vn(r.document.createTime):pe.min(),a=new ur({mapValue:{fields:r.document.fields}}),c=jt.newFoundDocument(i,o,s,a);t=new Ny(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=So(n,r.document),o=r.readTime?vn(r.readTime):pe.min(),s=jt.newNoDocument(i,o);t=new Ny([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=So(n,r.document);t=new Ny([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ue();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Ume(i,o);t=new hj(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?vn(o.readTime):pe.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=zf(this.serializer),t.addTarget=function(i,o){let s;const a=o.target;if(s=Ty(a)?{documents:xj(i,a)}:{query:_A(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=_j(i,o.resumeToken);const c=fA(i,o.expectedCount);null!==c&&(s.expectedCount=c)}else if(o.snapshotVersion.compareTo(pe.min())>0){s.readTime=wu(i,o.snapshotVersion.toTimestamp());const c=fA(i,o.expectedCount);null!==c&&(s.expectedCount=c)}return s}(this.serializer,e);const r=function Yme(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=zf(this.serializer),t.removeTarget=e,this.Wo(t)}}class L_e extends mz{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function Qme(n,e){return n&&n.length>0?(fe(void 0!==e),n.map(t=>function(r,i){let o=vn(r.updateTime?r.updateTime:i);return o.isEqual(pe.min())&&(o=vn(i)),new Rme(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.cu(r,t)}return fe(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$f(this.serializer,r))};this.Wo(t)}}class V_e extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(V.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,t,r,o,s,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(V.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class B_e{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(_n(t),this.mu=!1):Y("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class j_e{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(a=>{r.enqueueAndForget(C(function*(){var c;fa(s)&&(Y("RemoteStore","Restarting streams for network reachability change."),yield(c=C(function*(l){const u=ie(l);u.vu.add(4),yield Du(u),u.bu.set("Unknown"),u.vu.delete(4),yield Zf(u)}),function(l){return c.apply(this,arguments)})(s))}))}),this.bu=new B_e(r,i)}}function Zf(n){return zA.apply(this,arguments)}function zA(){return zA=C(function*(n){if(fa(n))for(const e of n.Ru)yield e(!0)}),zA.apply(this,arguments)}function Du(n){return $A.apply(this,arguments)}function $A(){return $A=C(function*(n){for(const e of n.Ru)yield e(!1)}),$A.apply(this,arguments)}function Xy(n,e){const t=ie(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),qA(t)?GA(t):Mu(t).Ko()&&HA(t,e))}function ep(n,e){const t=ie(n),r=Mu(t);t.Au.delete(e),r.Ko()&&_z(t,e),0===t.Au.size&&(r.Ko()?r.jo():fa(t)&&t.bu.set("Unknown"))}function HA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mu(n).su(e)}function _z(n,e){n.Vu.qt(e),Mu(n).iu(e)}function GA(n){n.Vu=new jme({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Mu(n).start(),n.bu.gu()}function qA(n){return fa(n)&&!Mu(n).Uo()&&n.Au.size>0}function fa(n){return 0===ie(n).vu.size}function yz(n){n.Vu=void 0}function z_e(n){return WA.apply(this,arguments)}function WA(){return WA=C(function*(n){n.Au.forEach((e,t)=>{HA(n,e)})}),WA.apply(this,arguments)}function $_e(n,e){return KA.apply(this,arguments)}function KA(){return KA=C(function*(n,e){yz(n),qA(n)?(n.bu.Iu(e),GA(n)):n.bu.set("Unknown")}),KA.apply(this,arguments)}function H_e(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=C(function*(n,e,t){if(n.bu.set("Online"),e instanceof fj&&2===e.state&&e.cause)try{yield(r=C(function*(i,o){const s=o.cause;for(const a of o.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jy(n,r)}else if(e instanceof Ny?n.Vu.Ht(e):e instanceof hj?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(pe.min()))try{const r=yield sz(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(c);l&&i.Au.set(c,l.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,c)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(Vn.EMPTY_BYTE_STRING,l.snapshotVersion)),_z(i,a);const u=new ys(l.target,a,c,l.sequenceNumber);HA(i,u)}),i.remoteSyncer.applyRemoteEvent(s)}(n,t))}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),yield Jy(n,r)}var r}),QA.apply(this,arguments)}function Jy(n,e,t){return YA.apply(this,arguments)}function YA(){return YA=C(function*(n,e,t){if(!na(e))throw e;n.vu.add(1),yield Du(n),n.bu.set("Offline"),t||(t=()=>sz(n.localStore)),n.asyncQueue.enqueueRetryable(C(function*(){Y("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Zf(n)}))}),YA.apply(this,arguments)}function vz(n,e){return e().catch(t=>Jy(n,t,e))}function Au(n){return XA.apply(this,arguments)}function XA(){return XA=C(function*(n){const e=ie(n),t=pa(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;G_e(e);)try{const i=yield M_e(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,q_e(e,i)}catch(i){yield Jy(e,i)}bz(e)&&wz(e)}),XA.apply(this,arguments)}function G_e(n){return fa(n)&&n.Eu.length<10}function q_e(n,e){n.Eu.push(e);const t=pa(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function bz(n){return fa(n)&&!pa(n).Uo()&&n.Eu.length>0}function wz(n){pa(n).start()}function W_e(n){return JA.apply(this,arguments)}function JA(){return JA=C(function*(n){pa(n).hu()}),JA.apply(this,arguments)}function K_e(n){return ZA.apply(this,arguments)}function ZA(){return ZA=C(function*(n){const e=pa(n);for(const t of n.Eu)e.uu(t.mutations)}),ZA.apply(this,arguments)}function Q_e(n,e,t){return eM.apply(this,arguments)}function eM(){return eM=C(function*(n,e,t){const r=n.Eu.shift(),i=lA.from(r,e,t);yield vz(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Au(n)}),eM.apply(this,arguments)}function Y_e(n,e){return tM.apply(this,arguments)}function tM(){return tM=C(function*(n,e){var t;e&&pa(n).ou&&(yield(t=C(function*(r,i){if(function aj(n){switch(n){default:return ue();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}(o=i.code)&&o!==V.ABORTED){const s=r.Eu.shift();pa(r).Qo(),yield vz(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Au(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),bz(n)&&wz(n)}),tM.apply(this,arguments)}function Cz(n,e){return nM.apply(this,arguments)}function nM(){return nM=C(function*(n,e){const t=ie(n);t.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=fa(t);t.vu.add(3),yield Du(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Zf(t)}),nM.apply(this,arguments)}function iM(){return iM=C(function*(n,e){const t=ie(n);e?(t.vu.delete(2),yield Zf(t)):e||(t.vu.add(2),yield Du(t),t.bu.set("Unknown"))}),iM.apply(this,arguments)}function Mu(n){return n.Su||(n.Su=function(e,t,r){const i=ie(e);return i.fu(),new F_e(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:z_e.bind(null,n),ao:$_e.bind(null,n),nu:H_e.bind(null,n)}),n.Ru.push(function(){var e=C(function*(t){t?(n.Su.Qo(),qA(n)?GA(n):n.bu.set("Unknown")):(yield n.Su.stop(),yz(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function pa(n){return n.Du||(n.Du=function(e,t,r){const i=ie(e);return i.fu(),new L_e(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:W_e.bind(null,n),ao:Y_e.bind(null,n),au:K_e.bind(null,n),cu:Q_e.bind(null,n)}),n.Ru.push(function(){var e=C(function*(t){t?(n.Du.Qo(),yield Au(n)):(yield n.Du.stop(),n.Eu.length>0&&(Y("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class oM{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new oM(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Q(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Su(n,e){if(_n("AsyncQueue",`${e}: ${n}`),na(n))return new Q(V.UNAVAILABLE,`${e}: ${n}`);throw n}class Pu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ne.comparator(t.key,r.key):(t,r)=>ne.comparator(t.key,r.key),this.keyedMap=Nf(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new Pu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class xz{constructor(){this.Cu=new Ot(ne.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ue():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ou{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Ou(e,t,Pu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class X_e{constructor(){this.Nu=void 0,this.listeners=[]}}class J_e{constructor(){this.queries=new ms(e=>z6(e),Of),this.onlineState="Unknown",this.ku=new Set}}function sM(n,e){return aM.apply(this,arguments)}function aM(){return aM=C(function*(n,e){const t=ie(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new X_e),i)try{o.Nu=yield t.onListen(r)}catch(s){const a=Su(s,`Initialization of query '${oA(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&uM(t)}),aM.apply(this,arguments)}function cM(n,e){return lM.apply(this,arguments)}function lM(){return lM=C(function*(n,e){const t=ie(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),lM.apply(this,arguments)}function Z_e(n,e){const t=ie(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&uM(t)}function eye(n,e,t){const r=ie(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function uM(n){n.ku.forEach(e=>{e.next()})}class dM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Tz{constructor(e){this.key=e}}class Dz{constructor(e){this.key=e}}class Az{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Fe(),this.mutatedKeys=Fe(),this.tc=H6(e),this.ec=new Pu(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new xz,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),p=kf(this.query,d)?d:null,b=!!h&&this.mutatedKeys.has(h.key),E=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let M=!1;h&&p?h.data.isEqual(p.data)?b!==E&&(r.track({type:3,doc:p}),M=!0):this.rc(h,p)||(r.track({type:2,doc:p}),M=!0,(c&&this.tc(p,c)>0||l&&this.tc(p,l)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),M=!0):h&&!p&&(r.track({type:1,doc:h}),M=!0,(c||l)&&(a=!0)),M&&(p?(s=s.add(p),o=E?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((l,u)=>function(d,h){const p=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return p(d)-p(h)}(l.type,u.type)||this.tc(l.doc,u.doc)),this.oc(r);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,0!==o.length||c?{snapshot:new Ou(this.query,e.ec,i,o,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new xz,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Fe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new Dz(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new Tz(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Fe();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ou.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rye{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iye{constructor(e){this.key=e,this.fc=!1}}class oye{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ms(a=>z6(a),Of),this._c=new Map,this.mc=new Set,this.gc=new Ot(ne.comparator),this.yc=new Map,this.Ic=new IA,this.Tc={},this.Ec=new Map,this.Ac=Tc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function sye(n,e){return hM.apply(this,arguments)}function hM(){return hM=C(function*(n,e){const t=function RM(n){const e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gye.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lye.bind(null,e),e.dc.nu=Z_e.bind(null,e.eventManager),e.dc.Pc=eye.bind(null,e.eventManager),e}(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=yield function Iu(n,e){const t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.Bs.allocateTargetId(r).next(s=>(i=new ys(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Rr(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=yield function fM(n,e,t,r,i){return pM.apply(this,arguments)}(t,e,r,"current"===a,s.resumeToken),t.isPrimaryClient&&Xy(t.remoteStore,s)}return i}),hM.apply(this,arguments)}function pM(){return pM=C(function*(n,e,t,r,i){n.Rc=(d,h,p)=>{return(b=C(function*(E,M,k,S){let $=M.view.sc(k);$.zi&&($=yield qy(E.localStore,M.query,!1).then(({documents:be})=>M.view.sc(be,$)));const J=S&&S.targetChanges.get(M.targetId),ae=M.view.applyChanges($,E.isPrimaryClient,J);return EM(E,M.targetId,ae.cc),ae.snapshot}),function(E,M,k,S){return b.apply(this,arguments)})(n,d,h,p);var b};const o=yield qy(n.localStore,e,!0),s=new Az(e,o.ir),a=s.sc(o.documents),c=Bf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),l=s.applyChanges(a,n.isPrimaryClient,c);EM(n,t,l.cc);const u=new rye(e,t,s);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),l.snapshot}),pM.apply(this,arguments)}function aye(n,e){return gM.apply(this,arguments)}function gM(){return gM=C(function*(n,e){const t=ie(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!Of(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Tu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ep(t.remoteStore,r.targetId),ku(t,r.targetId)}).catch(ta))):(ku(t,r.targetId),yield Tu(t.localStore,r.targetId,!0))}),gM.apply(this,arguments)}function mM(){return mM=C(function*(n,e,t){const r=FM(n);try{const i=yield function(o,s){const a=ie(o),c=tn.now(),l=s.reduce((h,p)=>h.add(p.key),Fe());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=ei(),b=Fe();return a.Zi.getEntries(h,l).next(E=>{p=E,p.forEach((M,k)=>{k.isValidDocument()||(b=b.add(M))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,p)).next(E=>{u=E;const M=[];for(const k of s){const S=Lme(k,u.get(k.key).overlayedDocument);null!=S&&M.push(new _s(k.key,S,A6(S.value.mapValue),Kt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,c,M,s)}).next(E=>{d=E;const M=E.applyToLocalDocumentSet(u,b);return a.documentOverlayCache.saveOverlays(h,E.batchId,M)})}).then(()=>({batchId:d.batchId,changes:q6(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let c=o.Tc[o.currentUser.toKey()];c||(c=new Ot(De)),c=c.insert(s,a),o.Tc[o.currentUser.toKey()]=c}(r,i.batchId,t),yield vs(r,i.changes),yield Au(r.remoteStore)}catch(i){const o=Su(i,"Failed to persist write");t.reject(o)}}),mM.apply(this,arguments)}function Mz(n,e){return _M.apply(this,arguments)}function _M(){return _M=C(function*(n,e){const t=ie(n);try{const r=yield function A_e(n,e){const t=ie(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(o,u.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);var b,E,M;null!==e.targetMismatches.get(d)?p=p.withResumeToken(Vn.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(d,p),E=p,M=u,(0===(b=h).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(o,p))});let c=ei(),l=Fe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function az(n,e,t){let r=Fe(),i=Fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ei();return t.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{nr:s,sr:i}})}(o,s,e.documentUpdates).next(u=>{c=u.nr,l=u.sr})),!r.isEqual(pe.min())){const u=t.Bs.getLastRemoteSnapshotVersion(o).next(d=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Ji=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.yc.get(o);s&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?fe(s.fc):i.removedDocuments.size>0&&(fe(s.fc),s.fc=!1))}),yield vs(t,r,e)}catch(r){yield ta(r)}}),_M.apply(this,arguments)}function Sz(n,e,t){const r=ie(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=ie(o);a.onlineState=s;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.Mu(s)&&(c=!0)}),c&&uM(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lye(n,e,t){return yM.apply(this,arguments)}function yM(){return yM=C(function*(n,e,t){const r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new Ot(ne.comparator);s=s.insert(o,jt.newNoDocument(o,pe.min()));const a=Fe().add(o),c=new Uf(pe.min(),new Map,new Ot(De),s,a);yield Mz(r,c),r.gc=r.gc.remove(o),r.yc.delete(e),IM(r)}else yield Tu(r.localStore,e,!1).then(()=>ku(r,e,t)).catch(ta)}),yM.apply(this,arguments)}function uye(n,e){return vM.apply(this,arguments)}function vM(){return vM=C(function*(n,e){const t=ie(n),r=e.batch.batchId;try{const i=yield function D_e(n,e){const t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,c,l){const u=c.batch,d=u.keys();let h=L.resolve();return d.forEach(p=>{h=h.next(()=>l.getEntry(a,p)).next(b=>{const E=c.docVersions.get(p);fe(null!==E),b.version.compareTo(E)<0&&(u.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),l.addEntry(b)))})}),h.next(()=>s.mutationQueue.removeMutationBatch(a,u))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Fe();for(let c=0;c<s.mutationResults.length;++c)s.mutationResults[c].transformResults.length>0&&(a=a.add(s.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);xM(t,r,null),CM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vs(t,i)}catch(i){yield ta(i)}}),vM.apply(this,arguments)}function dye(n,e,t){return bM.apply(this,arguments)}function bM(){return bM=C(function*(n,e,t){const r=ie(n);try{const i=yield function(o,s){const a=ie(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,s).next(u=>(fe(null!==u),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(r.localStore,e);xM(r,e,t),CM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vs(r,i)}catch(i){yield ta(i)}}),bM.apply(this,arguments)}function CM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function xM(n,e,t){const r=ie(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function ku(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Pz(n,r)})}function Pz(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(ep(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),IM(n))}function EM(n,e,t){for(const r of t)r instanceof Tz?(n.Ic.addReference(r.key,e),fye(n,r)):r instanceof Dz?(Y("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Pz(n,r.key)):ue()}function fye(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Y("SyncEngine","New document in limbo: "+t),n.mc.add(r),IM(n))}function IM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ne(nt.fromString(e)),r=n.Ac.next();n.yc.set(r,new iye(t)),n.gc=n.gc.insert(t,r),Xy(n.remoteStore,new ys(Rr(mu(t.path)),r,"TargetPurposeLimboResolution",gi.ct))}}function vs(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=C(function*(n,e,t){const r=ie(n),i=[],o=[],s=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,c)=>{s.push(r.Rc(c,e,t).then(l=>{if((l||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const u=SA.Li(c.targetId,l);o.push(u)}}))}),yield Promise.all(s),r.dc.nu(i),yield(a=C(function*(c,l){const u=ie(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(l,h=>L.forEach(h.Fi,p=>u.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>L.forEach(h.Bi,p=>u.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!na(d))throw d;Y("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const p=u.Ji.get(h),E=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);u.Ji=u.Ji.insert(h,E)}}}),function(c,l){return a.apply(this,arguments)})(r.localStore,o))}),TM.apply(this,arguments)}function pye(n,e){return DM.apply(this,arguments)}function DM(){return DM=C(function*(n,e){const t=ie(n);if(!t.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=yield oz(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(s=>{s.forEach(a=>{a.reject(new Q(V.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vs(t,r.er)}var i}),DM.apply(this,arguments)}function gye(n,e){const t=ie(n),r=t.yc.get(e);if(r&&r.fc)return Fe().add(r.key);{let i=Fe();const o=t._c.get(e);if(!o)return i;for(const s of o){const a=t.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function FM(n){const e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uye.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dye.bind(null,e),e}class tp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return C(function*(){t.serializer=Jf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return iz(this.persistence,new rz,e.initialUser,this.serializer)}createPersistence(e){return new TA($y.zs,this.serializer)}createSharedClientState(e){return new fz}terminate(){var e=this;return C(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Nz extends tp{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return C(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield FM(r.Vc.syncEngine),yield Au(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return iz(this.persistence,new rz,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Kj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Yge(t,this.persistence);return new Qge(e.asyncQueue,r)}createPersistence(e){const t=function MA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new AA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,function gz(){return typeof window<"u"?window:null}(),Yy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fz}}class Nu{initialize(e,t){var r=this;return C(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Sz(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=pye.bind(null,r.syncEngine),yield function rM(n,e){return iM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new J_e}createDatastore(e){const t=Jf(e.databaseInfo.databaseId),r=new R_e(e.databaseInfo);return new V_e(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Sz(this.syncEngine,a,0),s=pz.D()?new pz:new O_e,new j_e(t,r,i,o,s);var t,r,i,o,s}createSyncEngine(e,t){return function(r,i,o,s,a,c,l){const u=new oye(r,i,o,s,a,c);return l&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=C(function*(t){const r=ie(t);Y("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Du(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Zy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):_n("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Aye{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=qn.UNAUTHENTICATED,this.clientId=i6.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=C(function*(a){Y("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(Y("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return C(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(C(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Su(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function e0(n,e){return LM.apply(this,arguments)}function LM(){return LM=C(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=C(function*(o){r.isEqual(o)||(yield oz(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),LM.apply(this,arguments)}function VM(n,e){return UM.apply(this,arguments)}function UM(){return UM=C(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function BM(n){return jM.apply(this,arguments)}(n);Y("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Cz(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Cz(e.remoteStore,o)),n._onlineComponents=e}),UM.apply(this,arguments)}function Lz(n){return"FirebaseError"===n.name?n.code===V.FAILED_PRECONDITION||n.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function jM(){return jM=C(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{yield e0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Lz(t))throw t;Qi("Error using user provided cache. Falling back to memory cache: "+t),yield e0(n,new tp)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),yield e0(n,new tp);return n._offlineComponents}),jM.apply(this,arguments)}function t0(n){return zM.apply(this,arguments)}function zM(){return zM=C(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),yield VM(n,n._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),yield VM(n,new Nu))),n._onlineComponents}),zM.apply(this,arguments)}function Ru(n){return HM.apply(this,arguments)}function HM(){return HM=C(function*(n){const e=yield t0(n),t=e.eventManager;return t.onListen=sye.bind(null,e.syncEngine),t.onUnlisten=aye.bind(null,e.syncEngine),t}),HM.apply(this,arguments)}function $z(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Hz=new Map;function GM(n,e,t){if(!t)throw new Q(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Gz(n){if(!ne.isDocumentKey(n))throw new Q(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qz(n){if(ne.isDocumentKey(n))throw new Q(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function r0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ue()}function Xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=r0(n);throw new Q(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Kz{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Lye(n,e,t,r){if(!0===e&&!0===r)throw new Q(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$z(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class np{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kz({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kz(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lge;switch(t.type){case"firstParty":return new jge(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Q(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hz.get(e);t&&(Y("ComponentProvider","Removing Datastore"),Hz.delete(e),t.terminate())}(this),Promise.resolve()}}class bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class dr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dr(this.firestore,e,this._query)}}class Po extends dr{constructor(e,t,r){super(e,t,mu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new ne(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function Uye(n,e,...t){if(n=Wt(n),GM("collection","path",e),n instanceof np){const r=nt.fromString(e,...t);return qz(r),new Po(n,null,r)}{if(!(n instanceof bn||n instanceof Po))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return qz(r),new Po(n.firestore,null,r)}}function Qz(n,e,...t){if(n=Wt(n),1===arguments.length&&(e=i6.A()),GM("doc","path",e),n instanceof np){const r=nt.fromString(e,...t);return Gz(r),new bn(n,null,new ne(r))}{if(!(n instanceof bn||n instanceof Po))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nt.fromString(e,...t));return Gz(r),new bn(n.firestore,n instanceof Po?n.converter:null,new ne(r))}}class Bye{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new BA(this,"async_queue_retry"),this.Xc=()=>{const t=Yy();t&&Y("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Yy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Yy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ln;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return C(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!na(t))throw t;Y("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,_n("INTERNAL UNHANDLED ERROR: ",function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),s}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=oM.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&ue()}verifyOperationInProgress(){}sa(){var e=this;return C(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class zt extends np{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Bye,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xz(this),this._firestoreClient.terminate()}}function zye(n,e){const r="string"==typeof n?n:e||"(default)",i=$s("object"==typeof n?n:Ah(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=h1("firestore");o&&function Vye(n,e,t,r={}){var i;const o=(n=Xe(n,np))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=qn.MOCK_USER;else{a=BV(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Q(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new qn(l)}n._authCredentials=new Vge(new n6(a,c))}}(i,...o)}return i}function An(n){return n._firestoreClient||Xz(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Xz(n){var e,t,r;const i=n._freezeSettings(),o=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mme(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,$z(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new Aye(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function $ye(n,e){!function Zz(n){if(n._initialized||n._terminated)throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}(n=Xe(n,zt));const t=An(n);if(t._uninitializedComponentsProvider)throw new Q(V.FAILED_PRECONDITION,"SDK cache is already specified.");Qi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Nu;return function Jz(n,e,t){const r=new Ln;return n.asyncQueue.enqueue(C(function*(){try{yield e0(n,t),yield VM(n,e),r.resolve()}catch(i){const o=i;if(!Lz(o))throw o;Qi("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}(t,i,new Nz(i,r.cacheSizeBytes,e?.forceOwnership))}class Ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ac(Vn.fromBase64String(e))}catch(t){throw new Q(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ac(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class WM{constructor(e){this._methodName=e}}class KM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}const Gye=/^__.*__$/;class qye{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new _s(e,this.data,this.fieldMask,t,this.fieldTransforms):new vu(e,this.data,t,this.fieldTransforms)}}class e${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function t$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class o0{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new o0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return a0(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(t$(this.ca)&&Gye.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Wye{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jf(e)}ya(e,t,r,i=!1){return new o0({ca:e,methodName:t,ga:r,path:yn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lu(n){const e=n._freezeSettings(),t=Jf(n._databaseId);return new Wye(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QM(n,e,t,r,i,o={}){const s=n.ya(o.merge||o.mergeFields?2:0,e,t,i);XM("Data must be an object, but it was:",s,r);const a=s$(r,s);let c,l;if(o.merge)c=new Zr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=op(e,d,t);if(!s.contains(h))throw new Q(V.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);c$(u,h)||u.push(h)}c=new Zr(u),l=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=s.fieldTransforms;return new qye(new ur(a),c,l)}class ip extends WM{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ip}}function Mc(n,e){if(a$(n=Wt(n)))return XM("Unsupported field value:",e,n),s$(n,e);if(n instanceof WM)return function(t,r){if(!t$(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const s of t){let a=Mc(s,r.wa(o));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Wt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Y6(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=tn.fromDate(t);return{timestampValue:wu(r.serializer,i)}}if(t instanceof tn){const i=new tn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wu(r.serializer,i)}}if(t instanceof KM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ac)return{bytesValue:_j(r.serializer,t._byteString)};if(t instanceof bn){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:pA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${r0(t)}`)}(n,e)}function s$(n,e){const t={};return v6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(n,(r,i)=>{const o=Mc(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function a$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tn||n instanceof KM||n instanceof Ac||n instanceof bn||n instanceof WM)}function XM(n,e,t){if(!a$(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=r0(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function op(n,e,t){if((e=Wt(e))instanceof Fu)return e._internalPath;if("string"==typeof e)return s0(n,e);throw a0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Xye=new RegExp("[~\\*/\\[\\]]");function s0(n,e,t){if(e.search(Xye)>=0)throw a0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fu(...e.split("."))._internalPath}catch{throw a0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function a0(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Q(V.INVALID_ARGUMENT,a+n+c)}function c$(n,e){return n.some(t=>t.isEqual(e))}class JM{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(c0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jye extends JM{data(){return super.data()}}function c0(n,e){return"string"==typeof e?s0(n,e):e instanceof Fu?e._internalPath:e._delegate._internalPath}class ZM{}class Zye extends ZM{}function e0e(n,e,...t){let r=[];e instanceof ZM&&r.push(e),r=r.concat(t),function(i){const o=i.filter(a=>a instanceof Vu).length,s=i.filter(a=>a instanceof sp).length;if(o>1||o>0&&s>0)throw new Q(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class sp extends Zye{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sp(e,t,r)}_apply(e){const t=this._parse(e);return f$(e._query,t),new dr(e.firestore,e.converter,iA(e._query,t))}_parse(e){const t=Lu(e.firestore);return function(i,o,s,a,c,l,u){let d;if(c.isKeyField()){if("array-contains"===l||"array-contains-any"===l)throw new Q(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if("in"===l||"not-in"===l){h$(u,l);const h=[];for(const p of u)h.push(d$(a,i,p));d={arrayValue:{values:h}}}else d=d$(a,i,u)}else"in"!==l&&"not-in"!==l&&"array-contains-any"!==l||h$(u,l),d=function o$(n,e,t,r=!1){return Mc(t,n.ya(r?4:3,e))}(s,"where",u,"in"===l||"not-in"===l);return Qe.create(c,l,d)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function t0e(n,e,t){const r=e,i=c0("where",n);return sp._create(i,r,t)}class Vu extends ZM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vu(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:bt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)f$(o,a),o=iA(o,a)}(e._query,t),new dr(e.firestore,e.converter,iA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function d$(n,e,t){if("string"==typeof(t=Wt(t))){if(""===t)throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rA(e)&&-1!==t.indexOf("/"))throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(nt.fromString(t));if(!ne.isDocumentKey(r))throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mc(n,new ne(r))}if(t instanceof bn)return mc(n,t._key);throw new Q(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${r0(t)}.`)}function h$(n,e){if(!Array.isArray(n)||0===n.length)throw new Q(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f$(n,e){if(e.isInequality()){const r=Ay(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Q(V.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=nA(n);null!==o&&function p$(n,e,t){if(!t.isEqual(e))throw new Q(V.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,i,o)}const t=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Q(V.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class n0e{convertValue(e,t="none"){switch(sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ra(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new KM(cn(e.latitude),cn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Cy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const t=ia(e);return new tn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nt.fromString(e);fe(Dj(r));const i=new gc(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(t)||_n(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uu extends JM{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new h0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(c0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class h0 extends Uu{data(e={}){return super.data(e)}}class Bu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new h0(this._firestore,this._userDataWriter,r.key,r,new Sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>({type:"added",doc:new h0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Sc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||3!==s.type).map(s=>{const a=new h0(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Sc(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,l=-1;return 0!==s.type&&(c=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),1!==s.type&&(o=o.add(s.doc),l=o.indexOf(s.doc.key)),{type:i0e(s.type),doc:a,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function i0e(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}function o0e(n){n=Xe(n,bn);const e=Xe(n.firestore,zt);return function jz(n,e,t={}){const r=new Ln;return n.asyncQueue.enqueueAndForget(C(function*(){return function(i,o,s,a,c){const l=new Zy({next:d=>{o.enqueueAndForget(()=>cM(i,u));const h=d.docs.has(s);!h&&d.fromCache?c.reject(new Q(V.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?c.reject(new Q(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new dM(mu(s.path),l,{includeMetadataChanges:!0,Ku:!0});return sM(i,u)}(yield Ru(n),n.asyncQueue,e,t,r)})),r.promise}(An(e),n._key).then(t=>function nS(n,e,t){const r=t.docs.get(e._key),i=new ga(n);return new Uu(n,i,e._key,r,new Sc(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class ga extends n0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,t)}}function s0e(n){n=Xe(n,dr);const e=Xe(n.firestore,zt),t=An(e),r=new ga(e);return function l$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function zz(n,e,t={}){const r=new Ln;return n.asyncQueue.enqueueAndForget(C(function*(){return function(i,o,s,a,c){const l=new Zy({next:d=>{o.enqueueAndForget(()=>cM(i,u)),d.fromCache&&"server"===a.source?c.reject(new Q(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new dM(s,l,{includeMetadataChanges:!0,Ku:!0});return sM(i,u)}(yield Ru(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Bu(e,r,n,i))}function a0e(n,e,t){n=Xe(n,bn);const r=Xe(n.firestore,zt),i=function tS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return ap(r,[QM(Lu(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Kt.none())])}function c0e(n,e,t,...r){n=Xe(n,bn);const i=Xe(n.firestore,zt),o=Lu(i);let s;return s="string"==typeof(e=Wt(e))||e instanceof Fu?function i$(n,e,t,r,i,o){const s=n.ya(1,e,t),a=[op(e,r,t)],c=[i];if(o.length%2!=0)throw new Q(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(op(e,o[h])),c.push(o[h+1]);const l=[],u=ur.empty();for(let h=a.length-1;h>=0;--h)if(!c$(l,a[h])){const p=a[h];let b=c[h];b=Wt(b);const E=s.da(p);if(b instanceof ip)l.push(p);else{const M=Mc(b,E);null!=M&&(l.push(p),u.set(p,M))}}const d=new Zr(l);return new e$(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,r):function r$(n,e,t,r){const i=n.ya(1,e,t);XM("Data must be an object, but it was:",i,r);const o=[],s=ur.empty();ra(r,(c,l)=>{const u=s0(e,c,t);l=Wt(l);const d=i.da(u);if(l instanceof ip)o.push(u);else{const h=Mc(l,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new Zr(o);return new e$(s,a,i.fieldTransforms)}(o,"updateDoc",n._key,e),ap(i,[s.toMutation(n._key,Kt.exists(!0))])}function l0e(n){return ap(Xe(n.firestore,zt),[new bu(n._key,Kt.none())])}function ap(n,e){return function(t,r){const i=new Ln;return t.asyncQueue.enqueueAndForget(C(function*(){return function cye(n,e,t){return mM.apply(this,arguments)}(yield function $M(n){return t0(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(An(n),e)}!function(n,e=!0){uu=Hs,rr(new jn("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),s=new zt(new Uge(t.getProvider("auth-internal")),new zge(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(a.options.projectId,c)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),xt(t6,"3.13.0",n),xt(t6,"3.13.0","esm2017")}();class Je{constructor(e){return e}}const _$="firestore",rS=new le("angularfire2.firestore-instances");function x0e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Je(r)}}const E0e={provide:class w0e{constructor(){return kh(_$)}},deps:[[new Zt,rS]]},I0e={provide:Je,useFactory:function C0e(n,e){const t=Oh(_$,n,e);return t&&new Je(t)},deps:[[new Zt,rS],qs]};let T0e=(()=>{class n{constructor(){xt("angularfire",Xl.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({providers:[I0e,E0e]}),n})();function D0e(n,...e){return{ngModule:T0e,providers:[{provide:rS,useFactory:x0e(n),multi:!0,deps:[ft,mr,Nh,Rh,[new Zt,z_],[new Zt,Vh],...e]}]}}const ye=Fn(Uye,!0),ln=Fn(l0e,!0),Ce=Fn(Qz,!0),A0e=Fn($ye,!0),M0e=Fn(o0e,!0),de=Fn(s0e,!0),S0e=Fn(zye,!0),$t=Fn(e0e,!0),Xi=Fn(a0e,!0),Er=Fn(c0e,!0),kt=Fn(t0e,!0),P0e=[{path:"auth",component:V9,children:[{path:"login",component:(()=>{class n{constructor(t,r,i){this.auth=t,this.router=r,this.firestore=i,this.data=[],this.nid=1,this.getData()}getData(){const t=ye(this.firestore,"users");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}Signup(){this.router.navigate(["/auth/signup"])}Salir(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}handleLogin(t){var r=this;return C(function*(){let i;Mpe(r.auth,t.email,t.password).then(function(){var o=C(function*(s){r.current=s.user.email,i=s.user.email;const a=$t(ye(r.firestore,"users"),kt("email","==",i));console.log(r.auth.currentUser?.email),(yield de(a)).forEach(l=>{console.log(l.id," => ",l.data());let u=l.data();console.log(u.role),"Adminitrador"==u.role?r.router.navigate(["/admin"]):"Investigador"==u.role?r.router.navigate(["/user/projects"]):"Cliente"==u.role&&r.router.navigate(["/client/projects"])})});return function(s){return o.apply(this,arguments)}}()).catch(o=>{alert(o.message)})})()}}return n.\u0275fac=function(t){return new(t||n)(T(je),T(Ee),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-login"]],decls:20,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"claveText"],["name","password","ngModel","","placeholder","Password","id","password","type","password",1,"input-field"],[1,"boton"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"login works!"),g(),_(2,"button",0),H("click",function(){return r.Salir()}),g(),Z(3,"div",1),_(4,"span",2),w(5,"Iniciar Sesi\xf3n"),g(),Z(6,"div",3),_(7,"form",4,5),H("ngSubmit",function(){Ue(i);const s=xn(8);return Be(r.handleLogin(s.value))}),_(9,"div",6)(10,"div",7)(11,"span",8),w(12,"Email:"),g(),Z(13,"input",9),g(),_(14,"div",7)(15,"span",10),w(16,"Clave:"),g(),Z(17,"input",11),g(),_(18,"button",12),w(19,"Log In"),g()()()}},dependencies:[er,Kr,Di,Zn,hi,Rn],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:34%;height:27%;position:absolute;left:39.2%;top:38%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:10%;height:4%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:59.5%;top:59%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:40%;position:absolute;left:15%;top:35%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:37%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:43%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:45%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:60%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:55%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:20%;height:5%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:65%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]}),n})()},{path:"signup",component:(()=>{class n{constructor(t,r,i){this.auth=t,this.firestore=r,this.router=i,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData()}Login(){this.router.navigate(["/auth/login"])}handleRegister(t){Ape(this.auth,t.email,t.password).then(r=>{console.log(r.user)}).catch(r=>{alert(r.message)}),this.addData(t)}addData(t){const r=Ce(this.firestore,"users",t.email);t.password==t.confirmpassword?"Invetigador"==t.role||"Cliente"==t.role?Xi(r,{email:t.email,role:t.role,password:t.password}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}):alert("Rol no reconocido"):alert("Claves No Iguales")}getData(){const t=ye(this.firestore,"users");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}Salir(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}}return n.\u0275fac=function(t){return new(t||n)(T(je),T(Je),T(Ee))},n.\u0275cmp=Ve({type:n,selectors:[["app-signup"]],decls:31,vars:0,consts:[[1,"salir",3,"click"],[1,"loginBox"],[1,"loginTile"],[1,"lineBlack"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"userText"],["name","email","ngModel","","placeholder","Email","id","email","type","email",1,"input-field"],[1,"roleText"],["list","roles","name","role","ngModel","","placeholder","Roles","id","role","type","role",1,"input-field"],["id","roles"],["value","Investigador"],["value","Cliente"],[1,"claveText"],["name","password","ngModel","","placeholder","Clave","id","password","type","password",1,"input-field"],[1,"clave2Text"],["name","confirmpassword","ngModel","","placeholder","Confirmar Clave","id","confirmpassword","type","password",1,"input-field"],[1,"boton"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"signup works!"),g(),_(2,"button",0),H("click",function(){return r.Salir()}),g(),Z(3,"div",1),_(4,"span",2),w(5,"Registrar"),g(),Z(6,"div",3),_(7,"form",4,5),H("ngSubmit",function(){Ue(i);const s=xn(8);return Be(r.handleRegister(s.value))}),_(9,"div",6)(10,"div",7)(11,"span",8),w(12,"Email:"),g(),Z(13,"input",9),g(),_(14,"div",7)(15,"span",10),w(16,"Roles:"),g(),Z(17,"input",11),_(18,"datalist",12),Z(19,"option",13)(20,"option",14),g()(),_(21,"div",7)(22,"span",15),w(23,"Clave:"),g(),Z(24,"input",16),g(),_(25,"div",7)(26,"span",17),w(27,"Confirmar Clave:"),g(),Z(28,"input",18),g(),_(29,"button",19),w(30,"Sign Up"),g()()()}},dependencies:[er,ih,oh,Kr,Di,Zn,hi,Rn],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:39%;height:40%;position:absolute;left:33.5%;top:37%}.loginTile[_ngcontent-%COMP%]{color:#000;width:39%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:33.5%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:38.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:33.5%;top:45%}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#role[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.roleText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.5%;top:54%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:58.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:59%}#confirmpassword[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:63.5%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:36.2%;top:64%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:10%;height:4%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:59.5%;top:69%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:69.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:60%;position:absolute;left:15%;top:25%}.loginTile[_ngcontent-%COMP%]{color:#000;width:75%;height:20%;position:absolute;font-family:Arial;text-align:center;font-size:24px;letter-spacing:0;left:15%;top:26%}.lineBlack[_ngcontent-%COMP%]{width:75%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:15%;top:32%}#email[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:40%}.userText[_ngcontent-%COMP%]{color:#000;width:10%;height:5%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:35%}#role[_ngcontent-%COMP%]{width:30%;height:3%;position:absolute;left:20%;top:60%}.roleText[_ngcontent-%COMP%]{color:#000;width:15%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:20%;top:55%}#password[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:50%}.claveText[_ngcontent-%COMP%]{color:#000;width:10%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:45%}#confirmpassword[_ngcontent-%COMP%]{width:60%;height:3%;position:absolute;left:20%;top:70%}.clave2Text[_ngcontent-%COMP%]{color:#000;width:60%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:20%;top:65%}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;width:20%;height:5%;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:60%;top:75%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:14px;letter-spacing:0;left:60%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]}),n})()},{path:"select",component:(()=>{class n{constructor(t,r){this.auth=t,this.router=r}Login(){this.router.navigate(["/auth/login"])}Signup(){this.router.navigate(["/auth/signup"])}}return n.\u0275fac=function(t){return new(t||n)(T(je),T(Ee))},n.\u0275cmp=Ve({type:n,selectors:[["app-select"]],decls:15,vars:0,consts:[[1,"base"],["id","login",3,"click"],["id","signup",3,"click"],[1,"install"],["id","share","src","../../../../assets/share.png","alt","share"],["id","menu","src","../../../../assets/menu.png","alt","menu"]],template:function(t,r){1&t&&(_(0,"div",0)(1,"div")(2,"button",1),H("click",function(){return r.Login()}),w(3,"Log In"),g()(),Z(4,"div"),_(5,"div")(6,"button",2),H("click",function(){return r.Signup()}),w(7,"Sign Up"),g()(),_(8,"div",3)(9,"span"),w(10,"Para instalar en tu dispositivo m\xf3vil, pulsa el boton de inicio \u201cCompartir\u201d "),Z(11,"img",4),w(12," en IOS o el boton \u201cMen\xfa\u201d "),Z(13,"img",5),w(14," en Androi, y selecionar \u201cAgregar a inicio\u201d"),g()()())},styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:40%;height:15%;position:absolute;left:36%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:40%;height:15%;position:absolute;left:36%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:64px;letter-spacing:0}.install[_ngcontent-%COMP%]{color:#000;width:30%;height:30%;position:absolute;left:42%;top:77%;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:16px;height:21.647058486938477px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:20px;height:23.636362075805664px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}@media only screen and (max-width: 768px){.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;cursor:pointer}#login[_ngcontent-%COMP%]{top:20%;position:absolute}#signup[_ngcontent-%COMP%]{top:40%;position:absolute}#login[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;position:absolute;left:15%;top:25%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}#signup[_ngcontent-%COMP%]{background-color:#3ec28f;width:70%;height:15%;margin:0;position:absolute;left:15%;top:50%;border-radius:30px;border-width:0;color:#fff;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0}.install[_ngcontent-%COMP%]{color:#000;width:70%;height:10%;position:absolute;left:15%;top:75%;font-family:Arial;text-align:center;font-size:12px;letter-spacing:0;font-weight:700}.line[_ngcontent-%COMP%]{display:inline}#menu[_ngcontent-%COMP%]{width:10px;height:12px;background-repeat:no-repeat;background-size:cover;border-radius:5px}#share[_ngcontent-%COMP%]{width:12px;height:14px;background-repeat:no-repeat;background-size:cover;border-radius:5px}p[_ngcontent-%COMP%]{line-height:.5}}"]}),n})()}]}];let O0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[qi.forChild(P0e),qi]}),n})(),k0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[Xd,Fm,qi,O0e]}),n})(),N0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Ve({type:n,selectors:[["app-home"]],decls:2,vars:0,template:function(t,r){1&t&&(_(0,"p"),w(1,"home works!"),g())}}),n})();function R0e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td",14),w(2),g(),_(3,"td",14),w(4),g(),_(5,"td")(6,"button",15),H("click",function(){const o=Ue(t).$implicit;return Be(rn().updateData(o.id))}),w(7," Update "),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.email),z(2),ke(t.role)}}let F0e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){}getData(){const t=ye(this.firestore,"users");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"users",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"users",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}handleSignOut(){sr(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["admin"])}Projectos(){this.router.navigate(["admin"])}Muestras(){this.router.navigate(["admin"])}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-admin"]],decls:27,vars:1,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["contenteditable","true"],[3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"admin works!"),g(),_(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),g()(),Z(6,"div",3)(7,"div",4),_(8,"div",5)(9,"span",6),w(10,"Home"),g()()(),_(11,"button",7),H("click",function(){return r.Home()}),g(),_(12,"div",8),Z(13,"div",9),_(14,"div",10),H("click",function(){return r.handleSignOut()}),w(15,"CERRAR SESI\xd3N"),g()(),_(16,"h1",11),w(17,"Usuarios"),g(),_(18,"div",12)(19,"table")(20,"tr")(21,"th"),w(22," Email "),g(),_(23,"th"),w(24," Role "),g(),Z(25,"th"),g(),ui(26,R0e,8,2,"tr",13),g()()),2&t&&(z(26),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:33%;top:35%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;width:70%;height:10%;vertical-align:middle;line-height:250%;font-family:Verdana;text-align:center;font-size:48px;letter-spacing:0;left:20%;top:15%}.main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:92%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3EC28F;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;left:90%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3EC28F;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}button[_ngcontent-%COMP%]{border:none;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;height:10%;padding:10px;margin:5px;border-radius:30px}}"]}),n})(),L0e=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}canActivate(t,r){return this.checkLogin(r.url)}checkLogin(t){return!!this.auth.currentUser||(this.router.navigate(["/"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(ge(je),ge(Ee))},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y$=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.title="gestion-muestras"}handleSignOut(){sr(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["user/projects"])}Projectos(){this.router.navigate(["user/projects"])}Muestras(){this.router.navigate(["user/muestras-all"])}Clientes(){this.router.navigate(["user/clients"])}Unidades(){this.router.navigate(["user/unidad-produccion-all"])}}return n.\u0275fac=function(t){return new(t||n)(T(je),T(Ee))},n.\u0275cmp=Ve({type:n,selectors:[["app-user"]],decls:26,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"homeLogo"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","ClientesText",1,"navbar2Text",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"user works!"),g(),_(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),g()(),Z(6,"div",3)(7,"div",4),_(8,"div",5)(9,"span",6),w(10,"Home"),g(),Z(11,"div",7),g()(),_(12,"button",8),H("click",function(){return r.Home()}),g(),_(13,"div",9),Z(14,"div",10),_(15,"div",11),H("click",function(){return r.handleSignOut()}),w(16,"CERRAR SESI\xd3N"),g(),_(17,"div",12),H("click",function(){return r.Unidades()}),w(18,"UNIDADES"),g(),_(19,"div",13),H("click",function(){return r.Projectos()}),w(20,"PROYECTOS"),g(),_(21,"div",14),H("click",function(){return r.Muestras()}),w(22,"MUESTRAS"),g(),_(23,"div",15),H("click",function(){return r.Clientes()}),w(24,"CLIENTES"),g()(),Z(25,"router-outlet"))},dependencies:[jl],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:92%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3EC28F;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;left:90%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3EC28F;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]}),n})();var v$=R(6387);let V0e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o}ngOnInit(){this.route.params.subscribe(t=>{this.item=t,console.log(t),this.generateBarcode(t)})}generateBarcode(t){v$("#barcode",t.id,{format:"CODE128"}),window.print()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-print"]],decls:1,vars:0,consts:[["id","barcode"]],template:function(t,r){1&t&&(Rv(),Z(0,"svg",0))},styles:["#barcode[_ngcontent-%COMP%]{position:absolute;top:200px;left:200px}"]}),n})(),b$=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.title="gestion-muestras"}handleSignOut(){sr(this.auth).then(()=>{}).catch(t=>{console.log("here")}),this.router.navigate(["auth/select"])}Home(){this.router.navigate(["client/projects"])}Projectos(){this.router.navigate(["client/projects"])}Perfil(){this.router.navigate(["client/perfil-edit"])}Muestras(){this.router.navigate(["client/muestras-all"])}Unidad(){this.router.navigate(["client/unidad-produccion-all"])}}return n.\u0275fac=function(t){return new(t||n)(T(je),T(Ee))},n.\u0275cmp=Ve({type:n,selectors:[["app-client"]],decls:25,vars:0,consts:[[1,"navbar"],[1,"tituloBox"],[1,"tituloText"],[1,"logoCiens"],[1,"logoUcv"],[1,"homeBox"],[1,"homeText"],[1,"salir",3,"click"],[1,"navbar2"],[1,"navbar2Box"],["id","cerrarText",1,"navbar2Text",3,"click"],["id","usernameText",1,"navbar2Text",3,"click"],["id","ProyectosText",1,"navbar2Text",3,"click"],["id","MuestrasText",1,"navbar2Text",3,"click"],["id","UnidadText",1,"navbar2Text",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"client works!"),g(),_(2,"div",0)(3,"div",1)(4,"span",2),w(5,"Gestion de Muestras"),g()(),Z(6,"div",3)(7,"div",4),_(8,"div",5)(9,"span",6),w(10,"Home"),g()()(),_(11,"button",7),H("click",function(){return r.Home()}),g(),_(12,"div",8),Z(13,"div",9),_(14,"div",10),H("click",function(){return r.handleSignOut()}),w(15,"CERRAR SESI\xd3N"),g(),_(16,"div",11),H("click",function(){return r.Perfil()}),w(17,"USUARIO"),g(),_(18,"div",12),H("click",function(){return r.Projectos()}),w(19,"PROYECTOS"),g(),_(20,"div",13),H("click",function(){return r.Muestras()}),w(21,"MUESTRAS"),g(),_(22,"div",14),H("click",function(){return r.Unidad()}),w(23,"UNIDADES"),g()(),Z(24,"router-outlet"))},dependencies:[jl],styles:[".main[_ngcontent-%COMP%]{display:flex;height:100vh;justify-content:center;align-items:center;flex-direction:column}.input-fields[_ngcontent-%COMP%]{margin:10px}.input-field[_ngcontent-%COMP%]{width:300px;height:20px}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:4px solid white;width:20%;height:10%;position:absolute;left:0;top:0%;text-align:center}.homeText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:10%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;display:inline-block;vertical-align:middle;line-height:250%;font-family:Verdana;font-size:40px;letter-spacing:0}.logoCiens[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:92%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:69px;height:69px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:47px;background:#3EC28F;border-top:4px solid white;position:absolute;left:0%;top:10%}.navbar2Text[_ngcontent-%COMP%]{height:47px;color:#fff;font-size:20px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:240%;border-top:4px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:10%}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:10%;border-right:4px solid white}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:10%;border-right:4px solid white}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:10%;border-right:4px solid white}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:10%;border-right:4px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.homeBox[_ngcontent-%COMP%]{background-color:#3ec28f;border-right:2px solid white;width:20%;height:15%;position:absolute;left:0;top:0%}.homeText[_ngcontent-%COMP%]{display:none}.homeLogo[_ngcontent-%COMP%]{position:relative;top:30%;left:25%;width:36px;height:36px;text-align:center;background-image:url(home.a5ce65d54c28e165.png);background-repeat:no-repeat;background-size:cover}.tituloBox[_ngcontent-%COMP%]{background-color:#3ec28f;width:80%;height:15%;position:absolute;left:20%;top:0%;text-align:center}.tituloText[_ngcontent-%COMP%]{color:#fff;line-height:1.6;display:inline-block;vertical-align:middle;font-family:Verdana;font-size:32px;letter-spacing:0px}.logoCiens[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;left:90%;top:1.5%;background-image:url(image_7.2e20c6c16e8ce206.png);background-repeat:no-repeat;background-size:cover}.logoUcv[_ngcontent-%COMP%]{width:31px;height:31px;position:absolute;left:22%;top:1.5%;background-image:url(logo_ucv_bg2_1.32a61806277cba42.png);background-repeat:no-repeat;background-size:cover}.navbar2Box[_ngcontent-%COMP%]{width:100%;height:5%;background:#3EC28F;border-top:2px solid white;position:absolute;left:0%;top:15%}.navbar2Text[_ngcontent-%COMP%]{height:5%;color:#fff;font-size:10px;font-family:Verdana;font-weight:600;word-wrap:break-word;text-align:center;display:inline-block;vertical-align:middle;line-height:1.6;border-top:2px solid white}#usernameText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#UnidadText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:40%;top:15%;border-right:2px solid white;padding-top:7px}#ProyectosText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:20%;top:15%;border-right:2px solid white;padding-top:7px}#MuestrasText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:60%;top:15%;border-right:2px solid white;padding-top:7px}#ClientesText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:80%;top:15%;padding-top:7px}#cerrarText[_ngcontent-%COMP%]{cursor:pointer;width:20%;position:absolute;left:0%;top:15%;border-right:2px solid white}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:15%;left:0%;top:0%}}"]}),n})();const U0e=[{path:"",redirectTo:"auth/select",pathMatch:"full"},{path:"home",component:N0e},{path:"admin",component:F0e,canActivate:[L0e]},{path:"auth",component:V9},{path:"user",component:y$},{path:"client",component:b$},{path:"print/:id",component:V0e}];let w$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[qi.forRoot(U0e),qi]}),n})(),B0e=(()=>{class n{constructor(t,r,i){this.auth=t,this.router=r,this.title="gestion-muestras"}handleSignOut(){sr(this.auth).then(()=>{}).catch(t=>{console.log("here")})}}return n.\u0275fac=function(t){return new(t||n)(T(je),T(Ee),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&Z(0,"router-outlet")},dependencies:[jl]}),n})();const j0e_firebase={projectId:"gestion-de-muestras-de-campo",appId:"1:956362829056:web:235ab7e9c2cbd05ffe97e5",databaseURL:"https://gestion-de-muestras-de-campo-default-rtdb.firebaseio.com",storageBucket:"gestion-de-muestras-de-campo.appspot.com",apiKey:"AIzaSyDeImqmNn3CZpIAB1A9_q78bnqPVNM1ji8",authDomain:"gestion-de-muestras-de-campo.firebaseapp.com",messagingSenderId:"956362829056",measurementId:"G-T5SRLVHLR3"},C$="@firebase/database";let iS="";class $0e{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),nr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Eh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class H0e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ns(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const E$=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $0e(e)}}catch{}return new H0e},Pc=E$("localStorage"),oS=E$("sessionStorage"),ju=new Xa("@firebase/database"),I$=function(){let n=1;return function(){return n++}}(),T$=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,re(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new dse;t.update(e);const r=t.digest();return t_.encodeByteArray(r)},cp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=cp.apply(null,r):e+="object"==typeof r?nr(r):r,e+=" "}return e};let Oc=null,D$=!0;const Qn=function(...n){if(!0===D$&&(D$=!1,null===Oc&&!0===oS.get("logging_enabled")&&function(n,e){re(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ju.logLevel=Ye.VERBOSE,Oc=ju.log.bind(ju),e&&oS.set("logging_enabled",!0)):"function"==typeof n?Oc=n:(Oc=null,oS.remove("logging_enabled"))}(!0)),Oc){const e=cp.apply(null,n);Oc(e)}},lp=function(n){return function(...e){Qn(n,...e)}},sS=function(...n){const e="FIREBASE INTERNAL ERROR: "+cp(...n);ju.error(e)},Oo=function(...n){const e=`FIREBASE FATAL ERROR: ${cp(...n)}`;throw ju.error(e),new Error(e)},Ir=function(...n){const e="FIREBASE WARNING: "+cp(...n);ju.warn(e)},p0=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ma="[MIN_NAME]",bs="[MAX_NAME]",kc=function(n,e){if(n===e)return 0;if(n===ma||e===bs)return-1;if(e===ma||n===bs)return 1;{const t=P$(n),r=P$(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},W0e=function(n,e){return n===e?0:n<e?-1:1},up=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+nr(e))},aS=function(n){if("object"!=typeof n||null===n)return nr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=nr(e[r]),t+=":",t+=aS(n[e[r]]);return t+="}",t},M$=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const S$=function(n){re(!p0(n),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===n?(o=0,s=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=a+r,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},X0e=new RegExp("^-?(0*)\\d{1,10}$"),P$=function(n){if(X0e.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},zu=function(n){try{n()}catch(e){setTimeout(()=>{throw Ir("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},dp=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class tve{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ir(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class nve{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ir(e)}}let hp=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const F$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,U$="websocket",B$="long_polling";class lS{constructor(e,t,r,i,o=!1,s="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function j$(n,e,t){let r;if(re("string"==typeof e,"typeof type must == string"),re("object"==typeof t,"typeof params must == object"),e===U$)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==B$)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function rve(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Yn(t,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class ive{constructor(){this.counters_={}}incrementCounter(e,t=1){ns(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Xoe(this.counters_)}}const uS={},dS={};function hS(n){const e=n.toString();return uS[e]||(uS[e]=new ive),uS[e]}class sve{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class _a{constructor(e,t,r,i,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lp(e),this.stats_=hS(t),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),j$(t,B$,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new sve(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fS((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&F$.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){_a.forceAllow_=!0}static forceDisallow(){_a.forceDisallow_=!0}static isAvailable(){return!(!_a.forceAllow_&&(_a.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=nr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=RV(t),i=M$(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=nr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class fS{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=I$(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=fS.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Qn("frame writing exception"),a.stack&&Qn(a.stack),Qn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Qn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Qn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let m0=null;typeof MozWebSocket<"u"?m0=MozWebSocket:typeof WebSocket<"u"&&(m0=WebSocket);let $u=(()=>{class n{constructor(t,r,i,o,s,a,c){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lp(this.connId),this.stats_=hS(r),this.connURL=n.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&F$.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),j$(t,U$,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pc.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new m0(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==m0&&!n.forceDisallow_}static previouslyFailed(){return Pc.isInMemoryStorage||!0===Pc.get("previous_websocket_failure")}markConnectionHealthy(){Pc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Eh(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(re(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=nr(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=M$(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),K$=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[_a,$u]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=$u&&$u.isAvailable();let i=r&&!$u.previouslyFailed();if(t.webSocketOnly&&(r||Ir("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[$u];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class t7{constructor(e,t,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lp("c:"+this.id+":"),this.transportManager_=new K$(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=dp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=up("t",e),r=up("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=up("t",e),r=up("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=up("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?sS("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):sS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ir("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),dp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class n7{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class r7{constructor(e){this.allowedEvents_=e,this.listeners_={},re(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){re(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class _0 extends r7{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!f1()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _0}getInitialEvent(e){return re("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class pt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function st(){return new pt("")}function $e(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ya(n){return n.pieces_.length-n.pieceNum_}function At(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new pt(n.pieces_,e)}function gS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function fp(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function s7(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new pt(e,0)}function Qt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof pt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new pt(t,0)}function He(n){return n.pieceNum_>=n.pieces_.length}function Fr(n,e){const t=$e(n),r=$e(e);if(null===t)return e;if(t===r)return Fr(At(n),At(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function mS(n,e){if(ya(n)!==ya(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Pi(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(ya(n)>ya(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Mve{constructor(e,t){this.errorPrefix_=t,this.parts_=fp(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=l_(this.parts_[r]);a7(this)}}function a7(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Nc(n))}function Nc(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class _S extends r7{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new _S}getInitialEvent(e){return re("visible"===e,"Unknown event type: "+e),[this.visible_]}}const pp=1e3;let v0,Rc=(()=>{class n extends n7{constructor(t,r,i,o,s,a,c,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=lp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_S.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&_0.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const o=++this.requestNumber_,s={r:o,a:t,b:r};this.log_(nr(s)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();const r=new Wl,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),re(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,o),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&ns(t,"w")){const i=Kl(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ir(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=o_(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=o_(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),re(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);const s={p:t};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+nr(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):sS("Unrecognized action received from server: "+nr(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pp,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=pp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=pp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return C(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};t.realtime_={close:u,sendRequest:function(p){re(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[p,b]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);c?Qn("getToken() completed but was canceled"):(Qn("getToken() completed. Creating connection."),t.authToken_=p&&p.accessToken,t.appCheckToken_=b&&b.token,l=new t7(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,o,E=>{Ir(E+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(p){t.log_("Failed to get token: "+p),c||(t.repoInfo_.nodeAdmin&&Ir(p),u())}}})()}interrupt(t){Qn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Qn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],m1(this.interruptReasons_)&&(this.reconnectDelay_=pp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(s=>aS(s)).join("$"):"default";const o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){const i=new pt(t).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){Qn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Qn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+iS.replace(/\./g,"-")]=1,f1()?t["framework.cordova"]=1:jV()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=_0.getInstance().currentlyOnline();return m1(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ge{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ge(e,t)}}class y0{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ge(ma,e),i=new Ge(ma,t);return 0!==this.compare(r,i)}minPost(){return Ge.MIN}}class u7 extends y0{static get __EMPTY_NODE(){return v0}static set __EMPTY_NODE(e){v0=e}compare(e,t){return kc(e.name,t.name)}isDefinedOn(e){throw ql("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ge.MIN}maxPost(){return new Ge(bs,v0)}makePost(e,t){return re("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ge(e,v0)}toString(){return".key"}}const ko=new u7;class b0{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let vS,Ji=(()=>{class n{constructor(t,r,i,o,s){this.key=t,this.value=r,this.color=i??n.RED,this.left=o??ti.EMPTY_NODE,this.right=s??ti.EMPTY_NODE}copy(t,r,i,o,s){return new n(t??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this;const s=i(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ti.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return ti.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ti{constructor(e,t=ti.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ti(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ji.BLACK,null,null))}remove(e){return new ti(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ji.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new b0(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new b0(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new b0(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new b0(this.root_,null,this.comparator_,!0,e)}}function Lve(n,e){return kc(n.name,e.name)}function yS(n,e){return kc(n,e)}ti.EMPTY_NODE=new class Fve{copy(e,t,r,i,o){return this}insert(e,t,r){return new Ji(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const d7=function(n){return"number"==typeof n?"number:"+S$(n):"string:"+n},h7=function(n){if(n.isLeafNode()){const e=n.val();re("string"==typeof e||"number"==typeof e||"object"==typeof e&&ns(e,".sv"),"Priority must be a string or number.")}else re(n===vS||n.isEmpty(),"priority of unexpected type.");re(n===vS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let f7,p7,g7,Hu=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,re(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),h7(this.priorityNode_)}static set __childrenNodeConstructor(t){f7=t}static get __childrenNodeConstructor(){return f7}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return He(t)?this:".priority"===$e(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=$e(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(re(".priority"!==i||1===ya(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(At(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+d7(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?S$(this.value_):this.value_,this.lazyHash_=T$(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(re(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),s=n.VALUE_TYPE_ORDER.indexOf(i);return re(o>=0,"Unknown leaf type: "+r),re(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Nt=new class jve extends y0{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return 0===o?kc(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ge.MIN}maxPost(){return new Ge(bs,new Hu("[PRIORITY-POST]",g7))}makePost(e,t){const r=p7(e);return new Ge(t,new Hu("[PRIORITY-POST]",r))}toString(){return".priority"}},zve=Math.log(2);class $ve{constructor(e){this.count=parseInt(Math.log(e+1)/zve,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const w0=function(n,e,t,r){n.sort(e);const i=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=n[c],h=t?t(d):d,new Ji(h,d.node,Ji.BLACK,null,null);{const p=parseInt(u/2,10)+c,b=i(c,p),E=i(p+1,l);return d=n[p],h=t?t(d):d,new Ji(h,d.node,Ji.BLACK,b,E)}},a=function(c){let l=null,u=null,d=n.length;const h=function(b,E){const M=d-b,k=d;d-=b;const S=i(M+1,k),$=n[M],J=t?t($):$;p(new Ji(J,$.node,E,null,S))},p=function(b){l?(l.left=b,l=b):(u=b,l=b)};for(let b=0;b<c.count;++b){const E=c.nextBitIsOne(),M=Math.pow(2,c.count-(b+1));E?h(M,Ji.BLACK):(h(M,Ji.BLACK),h(M,Ji.RED))}return u}(new $ve(n.length));return new ti(r||e,a)};let bS;const Gu={};class ws{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return re(Gu&&Nt,"ChildrenNode.ts has not been loaded"),bS=bS||new ws({".priority":Gu},{".priority":Nt}),bS}get(e){const t=Kl(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ti?t:null}hasIndex(e){return ns(this.indexSet_,e.toString())}addIndex(e,t){re(e!==ko,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(Ge.Wrap);let a,s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?w0(r,e.getCompare()):Gu;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new ws(u,l)}addToIndexes(e,t){const r=s_(this.indexes_,(i,o)=>{const s=Kl(this.indexSet_,o);if(re(s,"Missing index implementation for "+o),i===Gu){if(s.isDefinedOn(e.node)){const a=[],c=t.getIterator(Ge.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),w0(a,s.getCompare())}return Gu}{const a=t.get(e.name);let c=i;return a&&(c=c.remove(new Ge(e.name,a))),c.insert(e,e.node)}});return new ws(r,this.indexSet_)}removeFromIndexes(e,t){const r=s_(this.indexes_,i=>{if(i===Gu)return i;{const o=t.get(e.name);return o?i.remove(new Ge(e.name,o)):i}});return new ws(r,this.indexSet_)}}let gp,Ne=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&h7(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return gp||(gp=new n(new ti(yS),null,ws.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||gp}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?gp:r}}getChild(t){const r=$e(t);return null===r?this:this.getImmediateChild(r).getChild(At(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(re(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Ge(t,r);let o,s;r.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?gp:this.priorityNode_;return new n(o,a,s)}}updateChild(t,r){const i=$e(t);if(null===i)return r;{re(".priority"!==$e(t)||1===ya(t),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(At(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Nt,(a,c)=>{r[a]=c.val(t),i++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+d7(this.getPriority().val())+":"),this.forEachChild(Nt,(r,i)=>{const o=i.hash();""!==o&&(t+=":"+r+":"+o)}),this.lazyHash_=""===t?"":T$(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new Ge(t,r));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ge(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ge(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Ge.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Ge.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===mp?-1:0}withIndex(t){if(t===ko||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ko||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Nt),o=r.getIterator(Nt);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===ko?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const mp=new class Hve extends Ne{constructor(){super(new ti(yS),Ne.EMPTY_NODE,ws.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ne.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ge,{MIN:{value:new Ge(ma,Ne.EMPTY_NODE)},MAX:{value:new Ge(bs,mp)}}),u7.__EMPTY_NODE=Ne.EMPTY_NODE,Hu.__childrenNodeConstructor=Ne,function Vve(n){vS=n}(mp),function Bve(n){g7=n}(mp);const Gve=!0;function nn(n,e=null){if(null===n)return Ne.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),re(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Hu(n,nn(e));if(n instanceof Array||!Gve){let t=Ne.EMPTY_NODE;return Yn(n,(r,i)=>{if(ns(n,r)&&"."!==r.substring(0,1)){const o=nn(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(nn(e))}{const t=[];let r=!1;if(Yn(n,(s,a)=>{if("."!==s.substring(0,1)){const c=nn(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new Ge(s,c)))}}),0===t.length)return Ne.EMPTY_NODE;const o=w0(t,Lve,s=>s.name,yS);if(r){const s=w0(t,Nt.getCompare());return new Ne(o,nn(e),new ws({".priority":s},{".priority":Nt}))}return new Ne(o,nn(e),ws.Default)}}!function Uve(n){p7=n}(nn);class wS extends y0{constructor(e){super(),this.indexPath_=e,re(!He(e)&&".priority"!==$e(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return 0===o?kc(e.name,t.name):o}makePost(e,t){const r=nn(e),i=Ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ge(t,i)}maxPost(){const e=Ne.EMPTY_NODE.updateChild(this.indexPath_,mp);return new Ge(bs,e)}toString(){return fp(this.indexPath_,0).join("/")}}const CS=new class qve extends y0{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?kc(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ge.MIN}maxPost(){return Ge.MAX}makePost(e,t){const r=nn(e);return new Ge(t,r)}toString(){return".value"}};function yp(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class ES{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ma}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nt}copy(){const e=new ES;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _7(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Nt?t="$priority":n.index_===CS?t="$value":n.index_===ko?t="$key":(re(n.index_ instanceof wS,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=nr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=nr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+nr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=nr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+nr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function y7(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Nt&&(e.i=n.index_.toString()),e}class x0 extends n7{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(re(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=x0.getListenId_(e,r),a={};this.listens_[s]=a;const c=_7(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,r),Kl(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(h,null)}})}unlisten(e,t){const r=x0.getListenId_(e,t);delete this.listens_[r]}get(e){const t=_7(e._queryParams),r=e._path.toString(),i=new Wl;return this.restRequest_(r+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ih(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Eh(a.responseText)}catch{Ir("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&Ir("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class ebe{constructor(){this.rootNode_=Ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function E0(){return{value:null,children:new Map}}function Wu(n,e,t){if(He(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=$e(e);n.children.has(r)||n.children.set(r,E0()),Wu(n.children.get(r),e=At(e),t)}}function AS(n,e,t){null!==n.value?t(e,n.value):function tbe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{AS(i,new pt(e.toString()+"/"+r),t)})}class nbe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Yn(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class obe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new nbe(e);const r=1e4+2e4*Math.random();dp(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Yn(e,(i,o)=>{o>0&&ns(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),dp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var No=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(No||{});function PS(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class I0{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=No.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(He(this.path)){if(null!=this.affectedTree.value)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new pt(e));return new I0(st(),t,this.revert)}}return re($e(this.path)===e,"operationForChild called for unrelated child."),new I0(At(this.path),this.affectedTree,this.revert)}}class Fc{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=No.OVERWRITE}operationForChild(e){return He(this.path)?new Fc(this.source,st(),this.snap.getImmediateChild(e)):new Fc(this.source,At(this.path),this.snap)}}class Ku{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=No.MERGE}operationForChild(e){if(He(this.path)){const t=this.children.subtree(new pt(e));return t.isEmpty()?null:t.value?new Fc(this.source,st(),t.value):new Ku(this.source,st(),t)}return re($e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ku(this.source,At(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class va{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(He(e))return this.isFullyInitialized()&&!this.filtered_;const t=$e(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function wp(n,e,t,r,i,o){const s=r.filter(a=>a.type===t);s.sort((a,c)=>function lbe(n,e,t){if(null==e.childName||null==t.childName)throw ql("Should only compare child_ events.");const r=new Ge(e.childName,e.snapshotNode),i=new Ge(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,c)),s.forEach(a=>{const c=function cbe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,n.query_))})})}function T0(n,e){return{eventCache:n,serverCache:e}}function Cp(n,e,t,r){return T0(new va(e,t,r),n.serverCache)}function b7(n,e,t,r){return T0(n.eventCache,new va(e,t,r))}function D0(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Lc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let OS;class Rt{constructor(e,t=(()=>(OS||(OS=new ti(W0e)),OS))()){this.value=e,this.children=t}static fromObject(e){let t=new Rt(null);return Yn(e,(r,i)=>{t=t.set(new pt(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:st(),value:this.value};if(He(e))return null;{const r=$e(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(At(e),t);return null!=o?{path:Qt(new pt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(He(e))return this;{const t=$e(e),r=this.children.get(t);return null!==r?r.subtree(At(e)):new Rt(null)}}set(e,t){if(He(e))return new Rt(t,this.children);{const r=$e(e),o=(this.children.get(r)||new Rt(null)).set(At(e),t),s=this.children.insert(r,o);return new Rt(this.value,s)}}remove(e){if(He(e))return this.children.isEmpty()?new Rt(null):new Rt(null,this.children);{const t=$e(e),r=this.children.get(t);if(r){const i=r.remove(At(e));let o;return o=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&o.isEmpty()?new Rt(null):new Rt(this.value,o)}return this}}get(e){if(He(e))return this.value;{const t=$e(e),r=this.children.get(t);return r?r.get(At(e)):null}}setTree(e,t){if(He(e))return t;{const r=$e(e),o=(this.children.get(r)||new Rt(null)).setTree(At(e),t);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Rt(this.value,s)}}fold(e){return this.fold_(st(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Qt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,st(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(He(e))return null;{const o=$e(e),s=this.children.get(o);return s?s.findOnPath_(At(e),Qt(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,st(),t)}foreachOnPath_(e,t,r){if(He(e))return this;{this.value&&r(t,this.value);const i=$e(e),o=this.children.get(i);return o?o.foreachOnPath_(At(e),Qt(t,i),r):new Rt(null)}}foreach(e){this.foreach_(st(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Qt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Zi{constructor(e){this.writeTree_=e}static empty(){return new Zi(new Rt(null))}}function xp(n,e,t){if(He(e))return new Zi(new Rt(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const s=Fr(i,e);return o=o.updateChild(s,t),new Zi(n.writeTree_.set(i,o))}{const i=new Rt(t),o=n.writeTree_.setTree(e,i);return new Zi(o)}}}function kS(n,e,t){let r=n;return Yn(t,(i,o)=>{r=xp(r,Qt(e,i),o)}),r}function w7(n,e){if(He(e))return Zi.empty();{const t=n.writeTree_.setTree(e,new Rt(null));return new Zi(t)}}function NS(n,e){return null!=Vc(n,e)}function Vc(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Fr(t.path,e)):null}function C7(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Nt,(r,i)=>{e.push(new Ge(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Ge(r,i.value))}),e}function ba(n,e){if(He(e))return n;{const t=Vc(n,e);return new Zi(null!=t?new Rt(t):n.writeTree_.subtree(e))}}function RS(n){return n.writeTree_.isEmpty()}function Qu(n,e){return x7(st(),n.writeTree_,e)}function x7(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?(re(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):t=x7(Qt(n,i),o,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Qt(n,".priority"),r)),t}}function A0(n,e){return A7(e,n)}function gbe(n,e){if(n.snap)return Pi(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Pi(Qt(n.path,t),e))return!0;return!1}function _be(n){return n.visible}function E7(n,e,t){let r=Zi.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const s=o.path;let a;if(o.snap)Pi(t,s)?(a=Fr(t,s),r=xp(r,a,o.snap)):Pi(s,t)&&(a=Fr(s,t),r=xp(r,st(),o.snap.getChild(a)));else{if(!o.children)throw ql("WriteRecord should have .snap or .children");if(Pi(t,s))a=Fr(t,s),r=kS(r,a,o.children);else if(Pi(s,t))if(a=Fr(s,t),He(a))r=kS(r,st(),o.children);else{const c=Kl(o.children,$e(a));if(c){const l=c.getChild(At(a));r=xp(r,st(),l)}}}}}return r}function I7(n,e,t,r,i){if(r||i){const o=ba(n.visibleWrites,e);return!i&&RS(o)?t:i||null!=t||NS(o,st())?Qu(E7(n.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Pi(l.path,e)||Pi(e,l.path))},e),t||Ne.EMPTY_NODE):null}{const o=Vc(n.visibleWrites,e);if(null!=o)return o;{const s=ba(n.visibleWrites,e);return RS(s)?t:null!=t||NS(s,st())?Qu(s,t||Ne.EMPTY_NODE):null}}}function M0(n,e,t,r){return I7(n.writeTree,n.treePath,e,t,r)}function FS(n,e){return function ybe(n,e,t){let r=Ne.EMPTY_NODE;const i=Vc(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Nt,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(t){const o=ba(n.visibleWrites,e);return t.forEachChild(Nt,(s,a)=>{const c=Qu(ba(o,new pt(s)),a);r=r.updateImmediateChild(s,c)}),C7(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return C7(ba(n.visibleWrites,e)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(n.writeTree,n.treePath,e)}function T7(n,e,t,r){return function vbe(n,e,t,r,i){re(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Qt(e,t);if(NS(n.visibleWrites,o))return null;{const s=ba(n.visibleWrites,o);return RS(s)?i.getChild(t):Qu(s,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function S0(n,e){return function wbe(n,e){return Vc(n.visibleWrites,e)}(n.writeTree,Qt(n.treePath,e))}function LS(n,e,t){return function bbe(n,e,t,r){const i=Qt(e,t),o=Vc(n.visibleWrites,i);return null!=o?o:r.isCompleteForChild(t)?Qu(ba(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function D7(n,e){return A7(Qt(n.treePath,e),n.writeTree)}function A7(n,e){return{treePath:n,writeTree:e}}class Ibe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;re("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),re(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,yp(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,function _p(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,function qu(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw ql("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,yp(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const M7=new class Tbe{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class VS{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new va(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return LS(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Lc(this.viewCache_),o=function Ebe(n,e,t,r,i,o){return function Cbe(n,e,t,r,i,o,s){let a;const c=ba(n.visibleWrites,e),l=Vc(c,st());if(null!=l)a=l;else{if(null==t)return[];a=Qu(c,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&u.length<i;)0!==d(p,r)&&u.push(p),p=h.getNext();return u}}(n.writeTree,n.treePath,e,t,r,i,o)}(this.writes_,i,t,1,r,e);return 0===o.length?null:o[0]}}function S7(n,e,t,r,i,o){const s=e.eventCache;if(null!=S0(r,t))return e;{let a,c;if(He(t))if(re(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Lc(e),d=FS(r,l instanceof Ne?l:Ne.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const l=M0(r,Lc(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{const l=$e(t);if(".priority"===l){re(1===ya(t),"Can't have a priority with additional path components");const u=s.getNode();c=e.serverCache.getNode();const d=T7(r,t,u,c);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=At(t);let d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();const h=T7(r,t,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=LS(r,l,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),l,d,u,i,o):s.getNode()}}return Cp(e,a,s.isFullyInitialized()||He(t),n.filter.filtersNodes())}}function P0(n,e,t,r,i,o,s,a){const c=e.serverCache;let l;const u=s?n.filter:n.filter.getIndexedFilter();if(He(t))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const p=c.getNode().updateChild(t,r);l=u.updateFullNode(c.getNode(),p,null)}else{const p=$e(t);if(!c.isCompleteForPath(t)&&ya(t)>1)return e;const b=At(t),M=c.getNode().getImmediateChild(p).updateChild(b,r);l=".priority"===p?u.updatePriority(c.getNode(),M):u.updateChild(c.getNode(),p,M,b,M7,null)}const d=b7(e,l,c.isFullyInitialized()||He(t),u.filtersNodes());return S7(n,d,t,i,new VS(i,d,o),a)}function US(n,e,t,r,i,o,s){const a=e.eventCache;let c,l;const u=new VS(i,e,o);if(He(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Cp(e,l,!0,n.filter.filtersNodes());else{const d=$e(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),r),c=Cp(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=At(t),p=a.getNode().getImmediateChild(d);let b;if(He(h))b=r;else{const E=u.getCompleteChild(d);b=null!=E?".priority"===gS(h)&&E.getChild(s7(h)).isEmpty()?E:E.updateChild(h,r):Ne.EMPTY_NODE}c=p.equals(b)?e:Cp(e,n.filter.updateChild(a.getNode(),d,b,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return c}function P7(n,e){return n.eventCache.isCompleteForChild(e)}function O7(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function BS(n,e,t,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=He(t)?r:new Rt(null).setTree(t,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const b=O7(0,e.serverCache.getNode().getImmediateChild(d),h);c=P0(n,c,new pt(d),b,i,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!p){const E=O7(0,e.serverCache.getNode().getImmediateChild(d),h);c=P0(n,c,new pt(d),E,i,o,s,a)}}),c}function Vbe(n,e){const t=Lc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!He(e)&&!t.getImmediateChild($e(e)).isEmpty())?t.getChild(e):null}function R7(n,e,t,r){e.type===No.MERGE&&null!==e.source.queryId&&(re(Lc(n.viewCache_),"We should always have a full cache before handling merges"),re(D0(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=function Mbe(n,e,t,r,i){const o=new Ibe;let s,a;if(t.type===No.OVERWRITE){const l=t;l.source.fromUser?s=US(n,e,l.path,l.snap,r,i,o):(re(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!He(l.path),s=P0(n,e,l.path,l.snap,r,i,a,o))}else if(t.type===No.MERGE){const l=t;l.source.fromUser?s=function Pbe(n,e,t,r,i,o,s){let a=e;return r.foreach((c,l)=>{const u=Qt(t,c);P7(e,$e(u))&&(a=US(n,a,u,l,i,o,s))}),r.foreach((c,l)=>{const u=Qt(t,c);P7(e,$e(u))||(a=US(n,a,u,l,i,o,s))}),a}(n,e,l.path,l.children,r,i,o):(re(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=BS(n,e,l.path,l.children,r,i,a,o))}else if(t.type===No.ACK_USER_WRITE){const l=t;s=l.revert?function Nbe(n,e,t,r,i,o){let s;if(null!=S0(r,t))return e;{const a=new VS(r,e,i),c=e.eventCache.getNode();let l;if(He(t)||".priority"===$e(t)){let u;if(e.serverCache.isFullyInitialized())u=M0(r,Lc(e));else{const d=e.serverCache.getNode();re(d instanceof Ne,"serverChildren would be complete if leaf node"),u=FS(r,d)}l=n.filter.updateFullNode(c,u,o)}else{const u=$e(t);let d=LS(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?n.filter.updateChild(c,u,d,At(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(c,u,Ne.EMPTY_NODE,At(t),a,o):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=M0(r,Lc(e)),s.isLeafNode()&&(l=n.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=S0(r,st()),Cp(e,l,s,n.filter.filtersNodes())}}(n,e,l.path,r,i,o):function Obe(n,e,t,r,i,o,s){if(null!=S0(i,t))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(He(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return P0(n,e,t,c.getNode().getChild(t),i,o,a,s);if(He(t)){let l=new Rt(null);return c.getNode().forEachChild(ko,(u,d)=>{l=l.set(new pt(u),d)}),BS(n,e,t,l,i,o,a,s)}return e}{let l=new Rt(null);return r.foreach((u,d)=>{const h=Qt(t,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),BS(n,e,t,l,i,o,a,s)}}(n,e,l.path,l.affectedTree,r,i,o)}else{if(t.type!==No.LISTEN_COMPLETE)throw ql("Unknown operation type: "+t.type);s=function kbe(n,e,t,r,i){const o=e.serverCache;return S7(n,b7(e,o.getNode(),o.isFullyInitialized()||He(t),o.isFiltered()),t,r,M7,i)}(n,e,t.path,r,o)}const c=o.getChanges();return function Sbe(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=D0(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(function m7(n){return{type:"value",snapshotNode:n}}(D0(e)))}}(e,s,c),{viewCache:s,changes:c}}(n.processor_,i,e,t,r);return function Abe(n,e){re(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),re(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),re(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function F7(n,e,t,r){return function abe(n,e,t,r){const i=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Wve(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),wp(n,i,"child_removed",e,r,t),wp(n,i,"child_added",e,r,t),wp(n,i,"child_moved",o,r,t),wp(n,i,"child_changed",e,r,t),wp(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let O0,N0;function jS(n,e,t,r){const i=e.source.queryId;if(null!==i){const o=n.views.get(i);return re(null!=o,"SyncTree gave us an op for an invalid query."),R7(o,e,t,r)}{let o=[];for(const s of n.views.values())o=o.concat(R7(s,e,t,r));return o}}function wa(n,e){let t=null;for(const r of n.views.values())t=t||Vbe(r,e);return t}class z7{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rt(null),this.pendingWriteTree_=function xbe(){return{visibleWrites:Zi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zS(n,e,t,r,i){return function dbe(n,e,t,r,i){re(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=xp(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Yu(n,new Fc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function xa(n,e,t=!1){const r=function fbe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function pbe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);re(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,s=n.allWrites.length-1;for(;i&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&gbe(a,r.path)?i=!1:Pi(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function mbe(n){n.visibleWrites=E7(n.allWrites,_be,st()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=w7(n.visibleWrites,r.path):Yn(r.children,c=>{n.visibleWrites=w7(n.visibleWrites,Qt(r.path,c))}),!0))}(n.pendingWriteTree_,e)){let o=new Rt(null);return null!=r.snap?o=o.set(st(),!0):Yn(r.children,s=>{o=o.set(new pt(s),!0)}),Yu(n,new I0(r.path,o,t))}return[]}function Ep(n,e,t){return Yu(n,new Fc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function F0(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const l=wa(a,Fr(s,e));if(l)return l});return I7(i,e,o,t,!0)}function Yu(n,e){return H7(e,n.syncPointTree_,null,A0(n.pendingWriteTree_,st()))}function H7(n,e,t,r){if(He(n.path))return G7(n,e,t,r);{const i=e.get(st());null==t&&null!=i&&(t=wa(i,st()));let o=[];const s=$e(n.path),a=n.operationForChild(s),c=e.children.get(s);if(c&&a){const l=t?t.getImmediateChild(s):null,u=D7(r,s);o=o.concat(H7(a,c,l,u))}return i&&(o=o.concat(jS(i,n,r,t))),o}}function G7(n,e,t,r){const i=e.get(st());null==t&&null!=i&&(t=wa(i,st()));let o=[];return e.children.inorderTraversal((s,a)=>{const c=t?t.getImmediateChild(s):null,l=D7(r,s),u=n.operationForChild(s);u&&(o=o.concat(G7(u,a,c,l)))}),i&&(o=o.concat(jS(i,n,r,t))),o}function HS(n,e){return n.tagToQueryMap.get(e)}function GS(n){const e=n.indexOf("$");return re(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new pt(n.substr(0,e))}}function qS(n,e,t){const r=n.syncPointTree_.get(e);return re(r,"Missing sync point for query tag that we're tracking"),jS(r,t,A0(n.pendingWriteTree_,e),null)}class WS{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new WS(t)}node(){return this.node_}}class KS{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Qt(this.path_,e);return new KS(this.syncTree_,t)}node(){return F0(this.syncTree_,this.path_)}}const owe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},W7=function(n,e,t){return n&&"object"==typeof n?(re(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?swe(n[".sv"],e,t):"object"==typeof n[".sv"]?awe(n[".sv"],e):void re(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},swe=function(n,e,t){if("timestamp"===n)return t.timestamp;re(!1,"Unexpected server value: "+n)},awe=function(n,e,t){n.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&re(!1,"Unexpected increment value: "+r);const i=e.node();if(re(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},K7=function(n,e,t,r){return YS(e,new KS(t,n),r)},QS=function(n,e,t){return YS(n,new WS(e),t)};function YS(n,e,t){const r=n.getPriority().val(),i=W7(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=W7(s.getValue(),e,t);return a!==s.getValue()||i!==s.getPriority().val()?new Hu(a,nn(i)):n}{const s=n;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Hu(i))),s.forEachChild(Nt,(a,c)=>{const l=YS(c,e.getImmediateChild(a),t);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class XS{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function V0(n,e){let t=e instanceof pt?e:new pt(e),r=n,i=$e(t);for(;null!==i;){const o=Kl(r.node.children,i)||{children:{},childCount:0};r=new XS(i,r,o),t=At(t),i=$e(t)}return r}function Uc(n){return n.node.value}function JS(n,e){n.node.value=e,ZS(n)}function Q7(n){return n.node.childCount>0}function U0(n,e){Yn(n.node.children,(t,r)=>{e(new XS(t,n,r))})}function Y7(n,e,t,r){t&&!r&&e(n),U0(n,i=>{Y7(i,e,!0,r)}),t&&r&&e(n)}function Dp(n){return new pt(null===n.parent?n.name:Dp(n.parent)+"/"+n.name)}function ZS(n){null!==n.parent&&function uwe(n,e,t){const r=function cwe(n){return void 0===Uc(n)&&!Q7(n)}(t),i=ns(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,ZS(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,ZS(n))}(n.parent,n.name,n)}const dwe=/[\[\].#$\/\u0000-\u001F\u007F]/,hwe=/[\[\].#$\u0000-\u001F\u007F]/,eP=10485760,B0=function(n){return"string"==typeof n&&0!==n.length&&!dwe.test(n)},Mp=function(n,e,t){const r=t instanceof pt?new Mve(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Nc(r));if("function"==typeof e)throw new Error(n+"contains a function "+Nc(r)+" with contents = "+e.toString());if(p0(e))throw new Error(n+"contains "+e.toString()+" "+Nc(r));if("string"==typeof e&&e.length>eP/3&&l_(e)>eP)throw new Error(n+"contains a string greater than "+eP+" utf8 bytes "+Nc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Yn(e,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!B0(s)))throw new Error(n+" contains an invalid key ("+s+") "+Nc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Sve(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=l_(e),a7(n)})(r,s),Mp(n,a,r),function Pve(n){const e=n.parts_.pop();n.byteLength_-=l_(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&o)throw new Error(n+' contains ".value" child '+Nc(r)+" in addition to actual children.")}},Z7=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!B0(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!hwe.test(n)}(n)}(t))throw new Error(function c_(n,e){return`${n} failed: ${e} argument `}(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class mwe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mi(n,e,t){(function j0(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==t&&!mS(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function t8(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(_we(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Pi(r,e)||Pi(e,r))}function _we(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Oc&&Qn("event: "+t.toString()),zu(r)}}}const ywe=25;class vwe{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mwe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=E0(),this.transactionQueueTree_=new XS,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function r8(n){const t=n.infoData_.getNode(new pt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Pp(n){return owe({timestamp:r8(n)})}function i8(n,e,t,r,i){n.dataUpdateCount++;const o=new pt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(i)if(r){const c=s_(t,l=>nn(l));s=function Zbe(n,e,t,r){const i=HS(n,r);if(i){const o=GS(i),s=o.path,a=o.queryId,c=Fr(s,e),l=Rt.fromObject(t);return qS(n,s,new Ku(PS(a),c,l))}return[]}(n.serverSyncTree_,o,c,i)}else{const c=nn(t);s=function $7(n,e,t,r){const i=HS(n,r);if(null!=i){const o=GS(i),s=o.path,a=o.queryId,c=Fr(s,e);return qS(n,s,new Fc(PS(a),c,t))}return[]}(n.serverSyncTree_,o,c,i)}else if(r){const c=s_(t,l=>nn(l));s=function Ybe(n,e,t){const r=Rt.fromObject(t);return Yu(n,new Ku({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,o,c)}else{const c=nn(t);s=Ep(n.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Ju(n,o)),mi(n.eventQueue_,a,s)}function o8(n,e){rP(n,"connected",e),!1===e&&function Ewe(n){Xu(n,"onDisconnectEvents");const e=Pp(n),t=E0();AS(n.onDisconnect_,st(),(i,o)=>{const s=K7(i,o,n.serverSyncTree_,e);Wu(t,i,s)});let r=[];AS(t,st(),(i,o)=>{r=r.concat(Ep(n.serverSyncTree_,i,o));const s=function aP(n,e){const t=Dp(c8(n,e)),r=V0(n.transactionQueueTree_,e);return function lwe(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{cP(n,i)}),cP(n,r),Y7(r,i=>{cP(n,i)}),t}(n,i);Ju(n,s)}),n.onDisconnect_=E0(),mi(n.eventQueue_,st(),r)}(n)}function rP(n,e,t){const r=new pt("/.info/"+e),i=nn(t);n.infoData_.updateSnapshot(r,i);const o=Ep(n.infoSyncTree_,r,i);mi(n.eventQueue_,r,o)}function z0(n){return n.nextWriteId_++}function Xu(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Qn(t,...e)}function sP(n,e,t){return F0(n.serverSyncTree_,e,t)||Ne.EMPTY_NODE}function $0(n,e=n.transactionQueueTree_){if(e||H0(n,e),Uc(e)){const t=l8(n,e);re(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Pwe(n,e,t){const r=t.map(l=>l.currentWriteId),i=sP(n,e,r);let o=i;const s=i.hash();for(let l=0;l<t.length;l++){const u=t[l];re(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Fr(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=e;n.server_.put(c.toString(),a,l=>{Xu(n,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(xa(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();H0(n,V0(n.transactionQueueTree_,e)),$0(n,n.transactionQueueTree_),mi(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)zu(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{Ir("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}Ju(n,e)}},s)}(n,Dp(e),t)}else Q7(e)&&U0(e,t=>{$0(n,t)})}function Ju(n,e){const t=c8(n,e),r=Dp(t);return function Owe(n,e,t){if(0===e.length)return;const r=[];let i=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=Fr(t,c.path);let d,u=!1;if(re(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(xa(n.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=ywe)u=!0,d="maxretry",i=i.concat(xa(n.serverSyncTree_,c.currentWriteId,!0));else{const h=sP(n,c.path,s);c.currentInputSnapshot=h;const p=e[a].update(h.val());if(void 0!==p){Mp("transaction failed: Data returned ",p,c.path);let b=nn(p);"object"==typeof p&&null!=p&&ns(p,".priority")||(b=b.updatePriority(h.getPriority()));const M=c.currentWriteId,k=Pp(n),S=QS(b,h,k);c.currentOutputSnapshotRaw=b,c.currentOutputSnapshotResolved=S,c.currentWriteId=z0(n),s.splice(s.indexOf(M),1),i=i.concat(zS(n.serverSyncTree_,c.path,S,c.currentWriteId,c.applyLocally)),i=i.concat(xa(n.serverSyncTree_,M,!0))}else u=!0,d="nodata",i=i.concat(xa(n.serverSyncTree_,c.currentWriteId,!0))}mi(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}H0(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)zu(r[a]);$0(n,n.transactionQueueTree_)}(n,l8(n,t),r),r}function c8(n,e){let t,r=n.transactionQueueTree_;for(t=$e(e);null!==t&&void 0===Uc(r);)r=V0(r,t),t=$e(e=At(e));return r}function l8(n,e){const t=[];return u8(n,e,t),t.sort((r,i)=>r.order-i.order),t}function u8(n,e,t){const r=Uc(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);U0(e,i=>{u8(n,i,t)})}function H0(n,e){const t=Uc(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,JS(e,t.length>0?t:void 0)}U0(e,r=>{H0(n,r)})}function cP(n,e){const t=Uc(e);if(t){const r=[];let i=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(re(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(re(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),i=i.concat(xa(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&r.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?JS(e,void 0):t.length=o+1,mi(n.eventQueue_,Dp(e),i);for(let s=0;s<r.length;s++)zu(r[s])}}const lP=function(n,e){const t=Rwe(n),r=t.namespace;return"firebase.com"===t.domain&&Oo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Oo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ir("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lS(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new pt(t.pathString)}},Rwe=function(n){let e="",t="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=function kwe(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(u,d)));const h=function Nwe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ir(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const p=e.slice(0,l);if("localhost"===p.toLowerCase())t="localhost";else if(p.split(".").length<=2)t=p;else{const b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),t=e.substring(b+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class _i{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return He(this._path)?null:gS(this._path)}get ref(){return new eo(this._repo,this._path)}get _queryIdentifier(){const e=y7(this._queryParams),t=aS(e);return"{}"===t?"default":t}get _queryObject(){return y7(this._queryParams)}isEqual(e){if(!((e=Wt(e))instanceof _i))return!1;const t=this._repo===e._repo,r=mS(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Dve(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class eo extends _i{constructor(e,t){super(e,t,new ES,!1)}get parent(){const e=s7(this._path);return null===e?null:new eo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function jbe(n){re(!O0,"__referenceConstructor has already been defined"),O0=n})(eo),function qbe(n){re(!N0,"__referenceConstructor has already been defined"),N0=n}(eo);const dP={};class tCe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function bwe(n,e,t){if(n.stats_=hS(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new x0(n.repoInfo_,(r,i,o,s)=>{i8(n,r,i,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>o8(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Rc(n.repoInfo_,e,(r,i,o,s)=>{i8(n,r,i,o,s)},r=>{o8(n,r)},r=>{!function wwe(n,e){Yn(e,(t,r)=>{rP(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function ove(n,e){const t=n.toString();return dS[t]||(dS[t]=e()),dS[t]}(n.repoInfo_,()=>new obe(n.stats_,n.server_)),n.infoData_=new ebe,n.infoSyncTree_=new z7({startListening:(r,i,o,s)=>{let a=[];const c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=Ep(n.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),rP(n,"connected",!1),n.serverSyncTree_=new z7({startListening:(r,i,o,s)=>(n.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);mi(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new eo(this._repo,st())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Jwe(n,e){const t=dP[e];(!t||t[n.key]!==n)&&Oo(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function a8(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Oo("Cannot call "+e+" on a deleted database.")}}function nCe(n=Ah(),e){const t=$s(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=h1("database");r&&function rCe(n,e,t,r={}){(n=Wt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Oo("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Oo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new hp(hp.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:BV(r.mockUserToken,n.app.options.projectId);o=new hp(s)}!function Ywe(n,e,t,r){n.repoInfo_=new lS(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,o)}(t,...r)}return t}Rc.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Rc.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function iCe(n){(function z0e(n){iS=n})(Hs),rr(new jn("database",(e,{instanceIdentifier:t})=>function Xwe(n,e,t,r,i){let o=r||n.options.databaseURL;void 0===o&&(n.options.projectId||Oo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Qn("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=lP(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=lP(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const u=i&&c?new hp(hp.OWNER):new nve(n.name,n.options,e);Z7("Invalid Firebase Database URL",s),He(s.path)||Oo("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Zwe(n,e,t,r){let i=dP[e.name];i||(i={},dP[e.name]=i);let o=i[n.toURLString()];return o&&Oo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new vwe(n,!1,t,r),i[n.toURLString()]=o,o}(a,n,u,new tve(n.name,t));return new tCe(d,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),xt(C$,"0.14.4",n),xt(C$,"0.14.4","esm2017")}();class hP{constructor(e){return e}}const v8="database",fP=new le("angularfire2.database-instances");function lCe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hP(r)}}const uCe={provide:class aCe{constructor(){return kh(v8)}},deps:[[new Zt,fP]]},dCe={provide:hP,useFactory:function cCe(n,e){const t=Oh(v8,n,e);return t&&new hP(t)},deps:[[new Zt,fP],qs]};let hCe=(()=>{class n{constructor(){xt("angularfire",Xl.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({providers:[dCe,uCe]}),n})();function fCe(n,...e){return{ngModule:hCe,providers:[{provide:fP,useFactory:lCe(n),multi:!0,deps:[ft,mr,Nh,Rh,[new Zt,z_],[new Zt,Vh],...e]}]}}const pCe=Fn(nCe,!0),gP="functions";class vCe{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return C(function*(){if(e.auth)try{const t=yield e.auth.getToken();return t?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return C(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var t=this;return C(function*(){if(t.appCheck){const r=e?yield t.appCheck.getLimitedUseToken():yield t.appCheck.getToken();return r.error?null:r.token}return null})()}getContext(e){var t=this;return C(function*(){return{authToken:yield t.getAuthToken(),messagingToken:yield t.getMessagingToken(),appCheckToken:yield t.getAppCheckToken(e)}})()}}const mP="us-central1";class wCe{constructor(e,t,r,i,o=mP,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new vCe(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(o);this.customDomain=a.origin,this.region=mP}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}const x8="@firebase/functions";function PCe(n=Ah(),e=mP){const r=$s(Wt(n),gP).getImmediate({identifier:e}),i=h1("functions");return i&&function OCe(n,e,t){!function CCe(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}(Wt(n),e,t)}(r,...i),r}!function SCe(n,e){rr(new jn(gP,(r,{instanceIdentifier:i})=>{const o=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),c=r.getProvider("app-check-internal");return new wCe(o,s,a,c,i,n)},"PUBLIC").setMultipleInstances(!0)),xt(x8,"0.10.0",e),xt(x8,"0.10.0","esm2017")}(fetch.bind(self));class vP{constructor(e){return e}}const I8="functions",bP=new le("angularfire2.functions-instances");function RCe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vP(r)}}const FCe={provide:class kCe{constructor(){return kh(I8)}},deps:[[new Zt,bP]]},LCe={provide:vP,useFactory:function NCe(n,e){const t=Oh(I8,n,e);return t&&new vP(t)},deps:[[new Zt,bP],qs]};let VCe=(()=>{class n{constructor(){xt("angularfire",Xl.full,"fn")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({providers:[LCe,FCe]}),n})();function UCe(n,...e){return{ngModule:VCe,providers:[{provide:bP,useFactory:RCe(n),multi:!0,deps:[ft,mr,Nh,Rh,[new Zt,z_],[new Zt,Vh],...e]}]}}const BCe=Fn(PCe,!0);function jCe(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td",4),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",7),H("click",function(){const o=Ue(t).$implicit;return Be(rn().Unidades(o.name))}),g(),_(11,"button",8),H("click",function(){const o=Ue(t).$implicit;return Be(rn().infoProject(o.name))}),g(),_(12,"button",9),H("click",function(){const o=Ue(t).$implicit;return Be(rn().editProyecto(o.name))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.name),z(2),ke(t.owner),z(2),ke(t.integrantes),z(2),ke(t.cliente)}}let zCe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.list=[],this.email="",this.MyQuery()}getData(){const t=ds();Xs(t,i=>{i&&i.email&&(this.email=i.email)});const r=ye(this.firestore,"projects");de(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const r=Ce(this.firestore,"projects",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"projects",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}infoProject(t){this.router.navigate(["user/project-info/"+t])}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Unidades(t){this.router.navigate(["user/unidad-produccion/"+t])}Muestras(t){this.router.navigate(["user/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return C(function*(){const r=ds();let i;i="",console.log(r),Xs(r,function(){var o=C(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=$t(ye(t.firestore,"projects"),kt("owner","==",i));de(a).then(c=>{t.data=[...c.docs.map(l=>({...l.data(),id:l.id}))]})}});return function(s){return o.apply(this,arguments)}}()),console.log("done")})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-projects"]],decls:22,vars:1,consts:[[1,"scanbutton"],[1,"scantext",3,"click"],[1,"subTituloText"],[1,"list"],[1,"integrantes"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"projects works!"),g(),_(2,"div",0)(3,"div",1),H("click",function(){return r.Scan()}),w(4,"SCAN"),g()(),_(5,"h1",2),w(6,"Proyectos"),g(),_(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Nombre "),g(),_(12,"th"),w(13," Due\xf1o "),g(),_(14,"th",4),w(15," Integrantes"),g(),_(16,"th"),w(17," Clientes "),g(),Z(18,"th"),g(),ui(19,jCe,13,4,"tr",5),g(),_(20,"button",6),H("click",function(){return r.newProject()}),w(21," Agregar "),g()()),2&t&&(z(19),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;margin:10px;left:30%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]}),n})();function $Ce(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",7),H("click",function(){const o=Ue(t).$implicit;return Be(rn().infoMuestra(o.codigo))}),g(),_(11,"button",8),H("click",function(){const o=Ue(t).$implicit;return Be(rn().editMuestra(o.codigo))}),g(),_(12,"button",9),H("click",function(){const o=Ue(t).$implicit;return Be(rn().Barcode(o.codigo))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.codigo),z(2),ke(t.fecha),z(2),ke(t.cultivo),z(2),ke(t.coordenadas)}}let HCe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,this.up=t.up,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"muestras",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"muestras",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(t){this.router.navigate(["user/muestras-new/"+t])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return C(function*(){let r=t.item;t.pid=r;let i=t.up;console.log(r);const o=$t(ye(t.firestore,"muestras"),kt("project","==",r),kt("unidad","==",i));de(o).then(a=>{t.data=[...a.docs.map(c=>({...c.data(),id:c.id}))]}),(yield de(o)).forEach(a=>{console.log(a.id," => ",a.data())})})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-muestras"]],decls:24,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"muestras works!"),g(),_(2,"h1",0),w(3,"Muestras"),g(),_(4,"div",1)(5,"div",2),H("click",function(){return r.Scan()}),w(6,"SCAN"),g()(),_(7,"div",3)(8,"div",4),H("click",function(){return r.infoUnidad(r.up)}),w(9,"Unidad de Produccion"),g(),_(10,"table")(11,"tr")(12,"th"),w(13," Codigo "),g(),_(14,"th"),w(15," Fecha "),g(),_(16,"th"),w(17," Cultivo"),g(),_(18,"th"),w(19," Coordenadas "),g(),Z(20,"th"),g(),ui(21,$Ce,13,4,"tr",5),g(),_(22,"button",6),H("click",function(){return r.newMuestra(r.pid)}),w(23," Agregar "),g()()),2&t&&(z(21),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})(),GCe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[]}ngOnInit(){let t;this.route.params.subscribe(r=>{this.item=r.id,t=r.id,console.log(r),console.log(r.id),this.generateBarcode(t)})}generateBarcode(t){var r=t;console.log(t),console.log(r),this.res=r,v$("#barcode",r,{format:"CODE128"})}toPrint(){this.router.navigate(["/print/"+this.res])}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-barcode"]],decls:5,vars:0,consts:[["onclick","window.print(this)","id","barcode"],[1,"print",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"barcode works!"),g(),Rv(),Z(2,"svg",0),function XO(){!function ZG(){xe.lFrame.currentNamespace=null}()}(),_(3,"button",1),H("click",function(){return r.toPrint()}),w(4,"Print"),g())},styles:[".main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:100%;left:5%;top:20%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.print[_ngcontent-%COMP%]{position:absolute;width:10%;left:45%;top:20%}svg[_ngcontent-%COMP%]{position:absolute;left:44%;top:35%}button[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:24px;font-weight:700;cursor:pointer;border-radius:30px}"]}),n})();const qCe=["div"];let WCe=(()=>{class n{constructor(t,r,i){this.auth=t,this.firestore=r,this.renderer=i,this.title="gestion-de-muestras-de-campo",this.data=[],this.getData(),this.index=1}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}handleRegister(t){this.addData(t)}addData(t){var r=this;return C(function*(){let o=r.randomCode(),s=t.integrantes.split(/[\s,]+/);const a=Ce(r.firestore,"projects",o);(yield M0e(a))?alert("Needs a Unique Code"):Xi(a,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:s}).then(()=>{alert("Data Sent")}).catch(l=>{alert(l.message)})})()}getData(){const t=ye(this.firestore,"projects");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}}return n.\u0275fac=function(t){return new(t||n)(T(je),T(Je),T(Vi))},n.\u0275cmp=Ve({type:n,selectors:[["app-project-new"]],viewQuery:function(t,r){if(1&t&&En(qCe,5),2&t){let i;hn(i=fn())&&(r.div=i.first)}},decls:32,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[2,"color","red"],[1,"input-fields"],[1,"Text"],["name","id","ngModel","","placeholder","ID","id","id","type","id",1,"input-field"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],[1,"boton"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"project-new works!"),g(),_(2,"h1",0),w(3,"Nuevo Proyecto"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"p",5),w(9," * Todo Projecto requiere un identificador \xfanico "),g(),_(10,"div",6)(11,"span",7),w(12,"ID:"),g(),Z(13,"input",8),g(),_(14,"div",6)(15,"span",7),w(16,"Name:"),g(),Z(17,"input",9),g(),_(18,"div",6)(19,"span",7),w(20,"Owner:"),g(),Z(21,"input",10),g(),_(22,"div",6)(23,"span",7),w(24,"Integrantes:"),g(),Z(25,"input",11),g(),_(26,"div",6)(27,"span",7),w(28,"Cliente:"),g(),Z(29,"input",12),g(),_(30,"button",13),w(31,"Crear Proyecto"),g()()()()}},dependencies:[er,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:45%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const KCe=["geo"];let QCe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const r=Ce(this.firestore,"clientes",t.codigo);Xi(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"clientes");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}}return n.text="",n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-muestras-new"]],viewQuery:function(t,r){if(1&t&&En(KCe,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:69,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopatogeno","id","fitopatogeno","type","fitopatogeno",1,"input-field"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","Sintomas","id","sintomas","rows","4","cols","50"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50"],[1,"boton"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"muestras-new works!"),g(),_(2,"h1",0),w(3,"Nueva Muestra"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),g(),Z(11,"input",7),g(),_(12,"div",5)(13,"span",6),w(14,"Cliente:"),g(),Z(15,"input",8),g(),_(16,"div",5)(17,"span",6),w(18,"Fecha:"),g(),Z(19,"input",9),g(),_(20,"div",5)(21,"span",6),w(22,"Cultivo:"),g(),Z(23,"input",10),g(),_(24,"div",5)(25,"span",6),w(26,"Tipo:"),g(),Z(27,"input",11),_(28,"datalist",12),Z(29,"option",13)(30,"option",14)(31,"option",15),g()(),_(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),g(),Z(35,"input",16),_(36,"datalist",17),Z(37,"option",18)(38,"option",19)(39,"option",20),g()(),_(40,"div",5)(41,"span",6),w(42,"Estado:"),g(),Z(43,"input",21),g(),_(44,"div",5)(45,"span",6),w(46,"Lote:"),g(),Z(47,"input",22),g(),_(48,"div",5)(49,"span",6),w(50,"Repetici\xf3n:"),g(),Z(51,"input",23),g(),_(52,"div",5)(53,"span",6),w(54,"Coordenadas:"),g(),_(55,"input",24),H("ngModelChange",function(s){return r.res=s}),g(),_(56,"div",25),H("click",function(){return r.getLocation()}),Z(57,"img",26),g()(),_(58,"div",5)(59,"span",6),w(60,"Sintomas:"),g(),Z(61,"textarea",27),g(),_(62,"div",5)(63,"span",6),w(64,"Comentarios:"),g(),_(65,"textarea",28),w(66," "),g()(),_(67,"button",29),w(68,"Crear Muestra"),g()()()()}2&t&&(z(55),ve("ngModel",r.res))},dependencies:[er,ih,oh,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:15%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();class Oi extends ri{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(e){const{hasError:t,_hasValue:r,_value:i,thrownError:o,isStopped:s,_isComplete:a}=this;t?e.error(o):(s||a)&&(r&&e.next(i),e.complete())}next(e){this.isStopped||(this._value=e,this._hasValue=!0)}complete(){const{_hasValue:e,_value:t,_isComplete:r}=this;r||(this._isComplete=!0,e&&super.next(t),super.complete())}}const YCe=["video"],XCe=["canvas"],JCe=["resultsPanel"],wP="assets/wasm/index.js",Np="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.6.4/wasm/index.js",T8={audio:!1,video:!0},CP={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},xP={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},Cs={src:"",fps:30,vibrate:300,decode:"utf-8",isBeep:!0,constraints:T8,canvasStyles:[CP,xP]};var Q0=()=>"zbarWasm"in window;const at=(n,e,t)=>{t?n.error(t):n.next(e),n.complete()},EP=(n=!1)=>{if(!1===n)return;const e=new Audio("data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV");e.oncanplaythrough=()=>{const t=e.play();t&&t.catch(r=>{})}},D8=(n,e,t,r)=>{let i,o,s=e.width,a=e.height,c=s/a,l=parseInt(getComputedStyle(e).width),u=parseInt(getComputedStyle(e).height),d=l/u;t.innerHTML="",c>d?(i=l/s,o=l/c/a):(o=u/a,i=u*c/s);for(let h=0;h<n.length;h++){const p=n[h];let b=document.createElement("canvas"),E=b.getContext("2d",{willReadFrequently:!0}),M={},k=[],S=[],$=0,J=0,ae=2===r.length&&r[1]?.font?.replace(/[^0-9]/g,"");ae&&/[0-9]/g.test(ae)&&($=parseFloat(ae),J=(i||1)*$,Number.isNaN(J)&&(J=$));const be=p.points;for(let Ht=0;Ht<be.length;Ht++){const Z0=be?.[Ht]?.x??0,ev=be?.[Ht]?.y??0;M[`x${Ht+1}`]=Z0,M[`y${Ht+1}`]=ev,k.push(Z0),S.push(ev)}let Ft=Math.max(...k),Mn=Math.min(...k),ki=Math.max(...S),Lo=Math.min(...S);b.setAttribute("class","qrcode-polygon"),c>d?(b.style.top=Lo*o+.5*(u-l/c)+"px",b.style.left=Mn*i+"px",b.width=(Ft-Mn)*i,b.height=(ki-Lo)*i):(b.style.top=Lo*o+"px",b.style.left=Mn*i+.5*(l-u*c)+"px",b.width=(Ft-Mn)*o,b.height=(ki-Lo)*o);for(const Ht in r[0])E[Ht]=r[0][Ht];const MP=[];for(let Ht=0;Ht<k.length;Ht++)MP.push((M[`x${Ht+1}`]-Mn)*o),MP.push((M[`y${Ht+1}`]-Lo)*i);const Fp=MP.slice(0);for(E.beginPath(),E.moveTo(Fp.shift(),Fp.shift());Fp.length;)E.lineTo(Fp.shift(),Fp.shift());if(E.closePath(),E.fill(),E.stroke(),$){const Ht=document.createElement("div");Ht.setAttribute("class","qrcode-tooltip-temp"),Ht.innerText=p.value,Ht.style.maxWidth=(s>window.innerWidth?.9*window.innerWidth:s)+"px",Ht.style.borderRadius=`clamp(1px, ${i*$-10}px, 3px)`,Ht.style.paddingBlock=`clamp(1px, ${i*$-10}px, 3px)`,Ht.style.paddingInline=`clamp(2.5px, ${i*$-6}px, 10px)`;const Z0=`<svg xmlns="http://www.w3.org/2000/svg" width="${J}" height="${J}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,ev=(new DOMParser).parseFromString(Z0,"application/xml"),SP=Ht.ownerDocument.importNode(ev.documentElement,!0);SP.style.marginLeft=`clamp(1px, ${i*$-10}px, 3px)`,Ht.appendChild(SP),SP.addEventListener("click",()=>window.navigator.clipboard.writeText(p.value)),Ht.addEventListener("click",()=>window.navigator.clipboard.writeText(p.value));const Da=document.createElement("div");Da.setAttribute("class","qrcode-tooltip"),Da.appendChild(Ht),o=u/a,i=u*c/s,Da.style.fontSize=i*$+"px",Da.style.top=Lo*o+"px",Da.style.left=Mn*i+.5*(l-u*c)+"px",Da.style.width=(Ft-Mn)*o+"px",Da.style.height=(ki-Lo)*o+"px";const jc=document.createElement("span");jc.innerText=p.value,jc.style.top=Lo*o+-20*o+"px",jc.style.left=Mn*i+.5*(l-u*c)+"px";const Dxe=r[1]?.font?.split(" ")?.[1];jc.style.fontFamily=Dxe,jc.style.fontSize=i*$+"px",jc.style.color=r?.[1]?.fillStyle,t?.appendChild(Da),t?.appendChild(jc)}t?.appendChild(b)}},A8=(n,e)=>new Promise((t,r)=>n.toBlob(i=>t(i),e)),M8=(n=[],e,t,r,i=new Oi)=>(S8(n,t,r).then(o=>{Promise.all(Object.assign([],n).map(s=>((n,e)=>{let t=e?.decode??Cs.decode,r=2===e?.canvasStyles?.length?e?.canvasStyles:[CP,xP],i=e?.isBeep??Cs.isBeep;return new Promise((o,s)=>{const a=new FileReader;a.onload=()=>{const c={name:n.name,file:n,url:URL.createObjectURL(n)},l=new Image;l.setAttribute("crossOrigin","anonymous"),l.onload=C(function*(){const u=document.createElement("canvas");u.width=l.naturalWidth||l.width,u.height=l.naturalHeight||l.height;const d=u.getContext("2d");d.drawImage(l,0,0,u.width,u.height);const h=d.getImageData(0,0,u.width,u.height);if(Q0()){const p=yield zbarWasm.scanImageData(h);if(p?.length){p.forEach(k=>k.value=k.decode(t?.toLocaleLowerCase())),((n,e,t)=>{let r=e.getContext("2d",{willReadFrequently:!0});for(let i=0;i<n.length;i++){const o=n[i];let s={},a=[],c=[],l=0,d=t[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");d&&/[0-9]/g.test(d)&&(l=parseFloat(d));const h=o.points;for(let S=0;S<h.length;S++){const $=h?.[S]?.x??0,J=h?.[S]?.y??0;s[`x${S+1}`]=$,s[`y${S+1}`]=J,a.push($),c.push(J)}let p=Math.min(...a),b=Math.min(...c);const E=()=>{for(const J in t[0])r[J]=t[0][J];const S=[];for(let J=0;J<a.length;J++)S.push(s[`x${J+1}`]),S.push(s[`y${J+1}`]);const $=S.slice(0);for(r.beginPath(),r.moveTo($.shift(),$.shift());$.length;)r.lineTo($.shift(),$.shift());r.closePath(),r.fill(),r.stroke()};let M=document.createElement("canvas");const k=()=>{const S=t[1]?.font?.split(" ")?.[1];M.height=e.height,M.width=e.width;let $=M.getContext("2d",{willReadFrequently:!0});$.font=l+"px "+S;for(const J in t[1])$[J]=t[1][J];o1e($,o.value,p,b-5)};E(),k(),r.drawImage(M,0,0)}})(p,u,r);const b=yield A8(u),E=URL.createObjectURL(b);o(Object.assign({},c,{data:p,url:E,canvas:u,file:(k=b,S=c.name,new File([k],S,{lastModified:(new Date).getTime(),type:k.type}))})),EP(i)}else o(Object.assign({},c,{data:p,canvas:u}))}var k,S}),l.src=c.url},a.onerror=c=>s(c),a.readAsDataURL(n)})})(s,e))).then(s=>{at(i,s)}).catch(s=>at(i,null,s))}),i),o1e=(n,e,t,r)=>{let i=1.2*n.measureText("M").width,o=e.split("\n");for(var s=0;s<o.length;++s)n.fillText(o[s],t,r),n.strokeText(o[s],t,r),r+=i},S8=function(){var n=C(function*(e=[],t=.5,r="image/jpeg"){if(!e.length||1===t)return e;const i=function(){var s=C(function*(a){const c=yield createImageBitmap(a),l=document.createElement("canvas");l.width=c.width,l.height=c.height,l.getContext("2d").drawImage(c,0,0);const d=yield new Promise(h=>l.toBlob(h,r,t));return new File([d],a.name,{type:d.type})});return function(c){return s.apply(this,arguments)}}(),o=new DataTransfer;return yield C(function*(){for(const s of e){if(!s.type.startsWith("image")){o.items.add(s);continue}const a=yield i(s);o.items.add(a)}})(),o.files});return function(){return n.apply(this,arguments)}}(),P8=n=>{Object.assign([],n.childNodes).forEach(e=>n.removeChild(e))},IP=(n,e)=>{n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"},O8=(n=300)=>{n&&a1e()&&window?.navigator?.vibrate(n)},a1e=()=>{const n=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4))||/^((?!chrome|android).)*safari/i.test(n))};let k8=(()=>{class n{loadFiles(t=[],r,i){const o=new Oi;return S8(t,r,i).then(s=>{Promise.all(Object.assign([],t).map(a=>this.readAsDataURL(a))).then(a=>at(o,a)).catch(a=>at(o,null,a))}),o}loadFilesToScan(t=[],r,i,o){return M8(t,r,i,o)}readAsDataURL(t){return new Promise((r,i)=>{const o=new FileReader;o.onload=()=>{const s={name:t.name,file:t,url:URL.createObjectURL(t)};r(s)},o.onerror=s=>i(s),o.readAsDataURL(t)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=_e({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y0=(n=new Oi,e)=>{let t=0;const r=(i=!1)=>{const o=()=>{let c;try{const l=()=>{clearTimeout(c),Q0()?setTimeout(()=>at(n,!0)):c=setTimeout(()=>l())};setTimeout(()=>l()),setTimeout(()=>clearTimeout(c),3e3)}catch{clearTimeout(c)}},s=document.querySelectorAll(`script[src="${Np}"]`),a=document.querySelectorAll('script[src="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js"]');if(s.length||a.length)o();else{const c=document.querySelectorAll(`script[src="${wP}"]`);if(1===c.length)o();else if(c.forEach(l=>l.remove()),e){const l=e.createElement("script");e.setAttribute(l,"src",i?Np:wP),e.setAttribute(l,"type","text/javascript"),e.setAttribute(l,"async",""),e.appendChild(document.head,l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),r(!0)):at(n,!1,Np)},t+=1}else{const l=document.createElement("script");l.setAttribute("src",i?Np:wP),l.setAttribute("type","text/javascript"),l.setAttribute("async",""),document.head.appendChild(l),l.onload=()=>o(),l.onerror=()=>{t<2?(document.head.removeChild(l),r(!0)):at(n,!1,Np)},t+=1}}};return r(),n};let c1e=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r,this.event=new We,this.src=Cs.src,this.fps=Cs.fps,this.vibrate=Cs.vibrate,this.decode=Cs.decode,this.isBeep=Cs.isBeep,this.config=Cs,this.constraints=Cs.constraints,this.canvasStyles=[CP,xP],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new Vr([]),this.devices=new Vr([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new Oi,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),Y0(this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(t){const r=new Oi;return this.isStart?at(r,!1):this.safariWebRTC(r,t),r}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();const t=new Oi;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(r=>{r.stop(),at(t,!0)}),this.dataForResize=[],(n=>{n.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,n.width,n.height)})(this.canvas.nativeElement),P8(this.resultsPanel.nativeElement)}catch(r){at(t,!1,r)}return t}play(){const t=new Oi;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),at(t,!0)):at(t,!1),t}pause(){const t=new Oi;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),at(t,!0)):at(t,!1),t}playDevice(t,r=new Oi){const i=this.getConstraints();switch(!0){case"null"===t||"undefined"===t||!t:stop(),this.stop(),at(r,!1);break;case t&&(!this.isStart||!i||i.deviceId!==t):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(a=>a.deviceId===t);const s={...this.constraints,audio:!1,video:{deviceId:t,...this.constraints.video}};navigator.mediaDevices.getUserMedia(s).then(a=>{this.video.nativeElement.srcObject=a,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),at(r,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(a=>{this.eventEmit(!1),at(r,!1,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:at(r,!1),this.STATUS.loadingOFF()}return r}loadImage(t){const r=new Oi;this.STATUS.startOFF(),this.STATUS.loadingON();const i=new Image;return i.setAttribute("crossOrigin","anonymous"),i.onload=()=>{Q0()&&this.drawImage(i,o=>{at(r,o),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},i.src=t,r}torcher(){const t=this.applyConstraints({advanced:[{torch:this.isTorch}]});return t.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),t}applyConstraints(t,r=0){var i=this;const o=new Oi;if(this.isStart){const s=this.video.nativeElement.srcObject;if(null===r&&void 0===r&&Number.isNaN(r))at(o,!1,"Please check again deviceIndex");else{const a=s.getVideoTracks()[r];new window.ImageCapture(a).getPhotoCapabilities().then(C(function*(){yield a.applyConstraints(t),IP(i.video.nativeElement,i.canvas.nativeElement),at(o,!0)})).catch(l=>{switch(l?.name){case"NotFoundError":case"DevicesNotFoundError":at(o,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":at(o,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":at(o,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":at(o,!1,"Permission denied in browser");break;case"TypeError":at(o,!1,"Empty constraints object");break;default:at(o,!1,l)}})}}else at(o,!1,"Please start the scanner");return o}getConstraints(t=0){return this.video.nativeElement.srcObject?.getVideoTracks()[t]?.getConstraints()}download(t=`ngx_scanner_qrcode_${Date.now()}.png`,r,i){var o=this;const s=new Oi;return C(function*(){const c=((n,e)=>new File([n],e,{lastModified:(new Date).getTime(),type:n.type}))(yield A8(o.canvas.nativeElement),t);M8([c],o.config,r,i,s).subscribe(l=>{l.forEach(u=>{if(u?.data?.length){const d=document.createElement("a");d.href=u.url,d.download=u.name,d.click(),d.remove()}})})})(),s}resize(){window.addEventListener("resize",()=>{D8(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),IP(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"constraints"in this.config&&(this.constraints=((n,e,t)=>{if(e&&Object.keys(e[n]).length){for(const r in t){const i=JSON.parse(JSON.stringify({...e[n],[r]:t[r]}));e[n]=e[n].hasOwnProperty(r)?e[n]:i}return e[n]}return t})("constraints",this.config,T8)),"canvasStyles"in this.config&&2===this.config?.canvasStyles?.length&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(t,r){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(i=>{i.getTracks().forEach(o=>o.stop()),this.loadAllDevices(t,r)}).catch(i=>{at(t,!1,i),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(t,r){navigator.mediaDevices.enumerateDevices().then(i=>{let o=i.filter(s=>"videoinput"==s.kind);this.devices.next(o),o?.length>0?(at(t,o),r?r(o):this.playDevice(o[0].deviceId)):(at(t,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(i=>{at(t,!1,i),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(t,r=(()=>{})){var i=this;return C(function*(){const o=i.canvas.nativeElement,s=o.getContext("2d",{willReadFrequently:!0});t instanceof HTMLImageElement&&(o.width=t.naturalWidth,o.height=t.naturalHeight,t.style.visibility="",i.video.nativeElement.style.visibility="hidden",i.renderer.setStyle(i.elementRef.nativeElement,"width",o.width+"px"),i.renderer.setStyle(i.elementRef.nativeElement,"maxWidth","100%"),i.renderer.setStyle(i.elementRef.nativeElement,"display","inline-block")),t instanceof HTMLVideoElement&&(o.width=t.videoWidth,o.height=t.videoHeight,t.style.visibility="",i.canvas.nativeElement.style.visibility="hidden"),IP(i.video.nativeElement,o),s.clearRect(0,0,o.width,o.height),s.drawImage(t,0,0,o.width,o.height);const a=s.getImageData(0,0,o.width,o.height),c=yield zbarWasm.scanImageData(a);if(c?.length){c.forEach(u=>u.value=u.decode(i.decode?.toLocaleLowerCase())),D8(c,Object.freeze(i.canvas.nativeElement),i.resultsPanel.nativeElement,i.canvasStyles);const l=()=>{i.eventEmit(c),i.dataForResize=c};t instanceof HTMLImageElement&&(r(!0),l(),O8(i.vibrate),EP(i.isBeep)),t instanceof HTMLVideoElement&&(l(),O8(i.vibrate),EP(i.isBeep))}else r(!1),P8(i.resultsPanel.nativeElement),i.dataForResize=[]})()}eventEmit(t=!1){!1!==t&&this.data.next(t||[]),!1!==t&&this.event.emit(t||[])}requestAnimationFrame(t=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(t=0,Q0()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(t))},t||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}}return n.\u0275fac=function(t){return new(t||n)(T(Vi),T(qr))},n.\u0275cmp=Ve({type:n,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(t,r){if(1&t&&(En(YCe,5),En(XCe,5),En(JCe,5)),2&t){let i;hn(i=fn())&&(r.video=i.first),hn(i=fn())&&(r.canvas=i.first),hn(i=fn())&&(r.resultsPanel=i.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",config:"config",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[[1,"origin-overlay"],["resultsPanel",""],[1,"origin-canvas"],["canvas",""],["playsinline","",1,"origin-video"],["video",""]],template:function(t,r){1&t&&Z(0,"div",0,1)(2,"canvas",2,3)(4,"video",4,5)},styles:[".ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}\n"],encapsulation:2}),n})(),DP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({providers:[k8]}),n})();const h1e=["action"];function f1e(n,e){1&n&&(_(0,"p"),w(1,"\u231b Loading..."),g())}let p1e=(()=>{class n{constructor(t,r,i,o,s){this.qrcode=t,this.router=r,this.route=i,this.auth=o,this.firestore=s,this.data=[],this.config={constraints:{video:{width:window.innerWidth}}},this.qrCodeResult=[],this.qrCodeResult2=[],this.getData()}ngAfterViewInit(){this.action.isReady.subscribe(t=>{})}onEvent(t,r){console.log(t[0].value),this.item=t[0].value,this.MyQuery()}handle(t,r){"start"===r?t[r](o=>{const s=o.find(a=>/back|rear|environment/gi.test(a.label));t.playDevice(s?s.deviceId:o[0].deviceId)}).subscribe(o=>console.log(r,o),alert):t[r]().subscribe(o=>console.log(r,o),alert)}onDowload(t){t.download().subscribe(console.log,alert)}onSelects(t){this.qrcode.loadFiles(t,.5).subscribe(r=>{this.qrCodeResult=r})}onSelects2(t){this.qrcode.loadFilesToScan(t,this.config,.5).subscribe(r=>{console.log(r),this.qrCodeResult2=r})}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}MyQuery(){var t=this;return C(function*(){let r=t.item;console.log(r);const i=$t(ye(t.firestore,"muestras"),kt("codigo","==",r));de(i).then(o=>{t.data=[...o.docs.map(s=>({...s.data(),id:s.id}))],0!=t.data.length&&(t.handle(t.action,"stop"),t.router.navigate(["user/muestras-info/"+r]))})})()}}return n.\u0275fac=function(t){return new(t||n)(T(k8),T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-scan"]],viewQuery:function(t,r){if(1&t&&En(h1e,5),2&t){let i;hn(i=fn())&&(r.action=i.first)}},decls:6,vars:8,consts:[[1,"container"],[1,"screen",3,"config","event"],["action","scanner"],[4,"ngIf"],[1,"btn",3,"disabled","click"],["width","30px",3,"src"]],template:function(t,r){if(1&t){const i=_t();_(0,"div",0)(1,"ngx-scanner-qrcode",1,2),H("event",function(s){Ue(i);const a=xn(2);return Be(r.onEvent(s,a))}),g(),ui(3,f1e,2,0,"p",3),_(4,"button",4),H("click",function(){Ue(i);const s=xn(2);return Be(r.handle(s,s.isStart?"stop":"start"))}),Z(5,"img",5),g()()}if(2&t){const i=xn(2);z(1),ve("config",r.config),z(2),ve("ngIf",i.isLoading),z(1),Vd("btn-info",!i.isStart)("btn-warning",i.isStart),ve("disabled",i.isLoading),z(1),ve("src",i.isStart?"https://id1945.github.io/images/svg/camera-off.svg":"https://id1945.github.io/images/svg/camera-on.svg",pb)}},dependencies:[YL,c1e],styles:["h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:antiquewhite;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:50%;width:50%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute;left:0%}@media only screen and (max-width: 768px){h1[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-weight:600;word-break:break-all;font-family:Courier New,Courier,monospace}div[_ngcontent-%COMP%]{text-align:center}div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:50%;height:60px;width:60px;margin:10px 4px 4px}div[_ngcontent-%COMP%]   buttondisabled[_ngcontent-%COMP%]{cursor:no-drop}div[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{background:antiquewhite;border-radius:5px}.origin-overlay[_ngcontent-%COMP%]   .qrcode-tooltip[_ngcontent-%COMP%]   .qrcode-tooltip-temp[_ngcontent-%COMP%]{padding:5px!important}.screen[_ngcontent-%COMP%]{display:block;height:80%;width:80%;margin-left:auto;margin-right:auto}.container[_ngcontent-%COMP%]{top:25%;width:100%;position:absolute}}"]}),n})();const g1e=["geo"];let m1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var r=this;return C(function*(){console.log(t);const i=Ce(r.firestore,"muestras",t.codigo);Er(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.x;const i=$t(ye(t.firestore,"muestras"),kt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const i=Ce(this.firestore,"muestras",this.x);ln(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}}return n.text="",n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-muestras-edit"]],viewQuery:function(t,r){if(1&t&&En(g1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:72,vars:12,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field",3,"ngModel","ngModelChange"],["name","lote","ngModel","","placeholder","Lote","id","lote","type","lote",1,"input-field",3,"ngModel","ngModelChange"],["name","repeticion","ngModel","","placeholder","Repeticion","id","repeticion","type","repeticion",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"],[1,"blank"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"muestras-edit works!"),g(),_(2,"h1",0),w(3,"Editar Muestra"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),g(),_(11,"input",7),H("ngModelChange",function(s){return r.item.codigo=s}),g()(),_(12,"div",5)(13,"span",6),w(14,"Cliente:"),g(),_(15,"input",8),H("ngModelChange",function(s){return r.item.cliente=s}),g()(),_(16,"div",5)(17,"span",6),w(18,"Fecha:"),g(),_(19,"input",9),H("ngModelChange",function(s){return r.item.fecha=s}),g()(),_(20,"div",5)(21,"span",6),w(22,"Cultivo:"),g(),_(23,"input",10),H("ngModelChange",function(s){return r.item.cultivo=s}),g()(),_(24,"div",5)(25,"span",6),w(26,"Tipo:"),g(),_(27,"input",11),H("ngModelChange",function(s){return r.item.tipo=s}),g(),_(28,"datalist",12),Z(29,"option",13)(30,"option",14)(31,"option",15),g()(),_(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),g(),_(35,"input",16),H("ngModelChange",function(s){return r.item.fitopatogeno=s}),g(),_(36,"datalist",17),Z(37,"option",18)(38,"option",19)(39,"option",20),g()(),_(40,"div",5)(41,"span",6),w(42,"Estado:"),g(),_(43,"input",21),H("ngModelChange",function(s){return r.item.estado=s}),g()(),_(44,"div",5)(45,"span",6),w(46,"Lote:"),g(),_(47,"input",22),H("ngModelChange",function(s){return r.item.lote=s}),g()(),_(48,"div",5)(49,"span",6),w(50,"Repetici\xf3n:"),g(),_(51,"input",23),H("ngModelChange",function(s){return r.item.repeticion=s}),g()(),_(52,"div",5)(53,"span",6),w(54,"Coordenadas:"),g(),_(55,"input",24),H("ngModelChange",function(s){return r.res=s}),g(),_(56,"div",25),H("click",function(){return r.getLocation()}),Z(57,"img",26),g()(),_(58,"div",5)(59,"span",6),w(60,"S\xedntomas:"),g(),_(61,"textarea",27),H("ngModelChange",function(s){return r.item.sintomas=s}),g()(),_(62,"div",5)(63,"span",6),w(64,"Comentarios:"),g(),_(65,"textarea",28),H("ngModelChange",function(s){return r.item.comentarios=s}),w(66," "),g()(),_(67,"button",29),w(68,"Editar Muestra"),g(),_(69,"button",30),H("click",function(){return r.deleteData(r.item.id)}),w(70," Delete "),g()(),Z(71,"div",31),g()()}2&t&&(z(11),ve("ngModel",r.item.codigo),z(4),ve("ngModel",r.item.cliente),z(4),ve("ngModel",r.item.fecha),z(4),ve("ngModel",r.item.cultivo),z(4),ve("ngModel",r.item.tipo),z(8),ve("ngModel",r.item.fitopatogeno),z(8),ve("ngModel",r.item.estado),z(4),ve("ngModel",r.item.lote),z(4),ve("ngModel",r.item.repeticion),z(4),ve("ngModel",r.res),z(6),ve("ngModel",r.item.sintomas),z(4),ve("ngModel",r.item.comentarios))},dependencies:[er,ih,oh,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:69%;flex-shrink:0;position:absolute;left:15%;top:24%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:0%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:39%;top:16%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{margin:2%;background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{margin:2%;background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 24px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:6px 6px 6px 22px;font-family:Arial;width:85%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:3%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:95%;height:85%;flex-shrink:0;position:absolute;left:2.5%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:105%;border:none;float:right;background-color:#3eb3c2;color:#fff;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:105%}.blank[_ngcontent-%COMP%]{width:100%;height:16px;position:absolute;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const _1e=["geo"];let y1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const r=Ce(this.firestore,"muestras",t.codigo);Xi(r,t).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.text;const i=$t(ye(t.firestore,"muestras"),kt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const r=Ce(this.firestore,"users",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-muestras-info"]],viewQuery:function(t,r){if(1&t&&En(_1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"muestras-info works!"),g(),_(2,"h1",0),w(3,"Datos de la Muestra"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),g(),_(11,"span",7),w(12),g()(),_(13,"div",5)(14,"span",6),w(15,"Cliente:"),g(),_(16,"span",7),w(17),g()(),_(18,"div",5)(19,"span",6),w(20,"Fecha:"),g(),_(21,"span",7),w(22),g()(),_(23,"div",5)(24,"span",6),w(25,"Cultivo:"),g(),_(26,"span",7),w(27),g()(),_(28,"div",5)(29,"span",6),w(30,"Tipo:"),g(),_(31,"span",7),w(32),g()(),_(33,"div",5)(34,"span",6),w(35,"Fitopat\xf3geno:"),g(),_(36,"span",7),w(37),g()(),_(38,"div",5)(39,"span",6),w(40,"Lote:"),g(),_(41,"span",7),w(42),g()(),_(43,"div",5)(44,"span",6),w(45,"Repetici\xf3n:"),g(),_(46,"span",7),w(47),g()(),_(48,"div",5)(49,"span",6),w(50,"S\xedntomas:"),g(),_(51,"span",7),w(52),g()(),_(53,"div",5)(54,"span",6),w(55,"Comentarios:"),g(),_(56,"span",7),w(57),g()()()()(),_(58,"button",8),H("click",function(){return r.editMuestra()}),w(59,"Editar Muestra"),g()}2&t&&(z(12),Le(" ",r.item.codigo,""),z(5),Le(" ",r.item.cliente,""),z(5),Le(" ",r.item.fecha,""),z(5),Le(" ",r.item.cultivo,""),z(5),Le(" ",r.item.tipo,""),z(5),Le(" ",r.item.fitopatogeno,""),z(5),Le(" ",r.item.lote,""),z(5),Le(" ",r.item.repeticion,""),z(5),Le(" ",r.item.sintomas,""),z(5),Le(" ",r.item.comentarios,""))},dependencies:[er,Zn,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:62%;flex-shrink:0;position:absolute;left:25%;top:28%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:2%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:92%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 10px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:2%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:55%;flex-shrink:0;position:absolute;left:5%;top:33%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const v1e=["geo"];let b1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let r=t.integrantes.split(/[\s,]+/);const i=Ce(this.firestore,"projects",this.pid);Xi(i,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:r}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"projects");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.text;const i=$t(ye(t.firestore,"projects"),kt("name","==",r));(yield de(i)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const r=Ce(this.firestore,"projects",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-project-edit"]],viewQuery:function(t,r){if(1&t&&En(v1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","name","ngModel","","placeholder","Name","id","name","type","name",1,"input-field",3,"ngModel","ngModelChange"],["name","owner","ngModel","","placeholder","Owner","id","owner","type","owner",1,"input-field",3,"ngModel","ngModelChange"],["name","integrantes","ngModel","","placeholder","Integrantes","id","integrantes","type","integrantes",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"project-edit works!"),g(),_(2,"h1",0),w(3,"Editar Projecto"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Nombre:"),g(),_(11,"input",7),H("ngModelChange",function(s){return r.item.name=s}),g()(),_(12,"div",5)(13,"span",6),w(14,"Owner:"),g(),_(15,"input",8),H("ngModelChange",function(s){return r.item.owner=s}),g()(),_(16,"div",5)(17,"span",6),w(18,"Integrantes:"),g(),_(19,"input",9),H("ngModelChange",function(s){return r.item.integrantes=s}),g()(),_(20,"div",5)(21,"span",6),w(22,"Cliente:"),g(),_(23,"input",10),H("ngModelChange",function(s){return r.item.cliente=s}),g()(),_(24,"button",11),w(25,"Editar Projecto"),g(),_(26,"button",12),H("click",function(){return r.deleteData(r.pid)}),w(27," Delete "),g()()()()}2&t&&(z(11),ve("ngModel",r.item.name),z(4),ve("ngModel",r.item.owner),z(4),ve("ngModel",r.item.integrantes),z(4),ve("ngModel",r.item.cliente))},dependencies:[er,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:35%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:85%;top:110%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();function w1e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",5),H("click",function(){const o=Ue(t).$implicit;return Be(rn().infoMuestra(o.codigo))}),g(),_(11,"button",6),H("click",function(){const o=Ue(t).$implicit;return Be(rn().editMuestra(o.codigo))}),g(),_(12,"button",7),H("click",function(){const o=Ue(t).$implicit;return Be(rn().Barcode(o.codigo))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.codigo),z(2),ke(t.fecha),z(2),ke(t.cultivo),z(2),ke(t.coordenadas)}}let C1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"muestras",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"muestras",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}Barcode(t){this.router.navigate(["user/barcode/"+t])}MyQuery(){var t=this;return C(function*(){let r=t.item;t.pid=r,console.log(r);const i=$t(ye(t.firestore,"muestras"),kt("project","==",r));de(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-muestras-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"],[1,"edit",3,"click"],[1,"imprimir",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"muestras-all works!"),g(),_(2,"h1",0),w(3,"Muestras"),g(),_(4,"div",1)(5,"div",2),H("click",function(){return r.Scan()}),w(6,"SCAN"),g()(),_(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),g(),_(12,"th"),w(13," Fecha "),g(),_(14,"th"),w(15," Cultivo"),g(),_(16,"th"),w(17," Coordenadas "),g(),Z(18,"th"),g(),ui(19,w1e,13,4,"tr",4),g()()),2&t&&(z(19),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const x1e=["geo"];let E1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}randomCode(){let t="";for(let o=0;o<20;o++)t+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return t}addData(t){let r=t.integrantes.split(/[\s,]+/);const i=Ce(this.firestore,"projects",this.pid);Xi(i,{name:t.name,cliente:t.cliente,owner:t.owner,integrantes:r}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"projects");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.text;const i=$t(ye(t.firestore,"projects"),kt("name","==",r));(yield de(i)).forEach(s=>{t.item=s.data(),t.pid=s.id,console.log(s.id," => ",s.data())})})()}deleteData(t){const r=Ce(this.firestore,"projects",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}editProyecto(){this.router.navigate(["user/project-edit/"+this.text])}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-project-info"]],viewQuery:function(t,r){if(1&t&&En(x1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:30,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"project-info works!"),g(),_(2,"h1",0),w(3,"Datos del Projecto"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Nombre:"),g(),_(11,"span",7),w(12),g()(),_(13,"div",5)(14,"span",6),w(15,"Owner:"),g(),_(16,"span",7),w(17),g()(),_(18,"div",5)(19,"span",6),w(20,"Integrantes:"),g(),_(21,"span",7),w(22),g()(),_(23,"div",5)(24,"span",6),w(25,"Cliente:"),g(),_(26,"span",7),w(27),g()()()()(),_(28,"button",8),H("click",function(){return r.editProyecto()}),w(29,"Editar Muestra"),g()}2&t&&(z(12),Le(" ",r.item.name,""),z(5),Le(" ",r.item.owner,""),z(5),Le(" ",r.item.integrantes,""),z(5),Le(" ",r.item.cliente,""))},dependencies:[er,Zn,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:25%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:5%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:60%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:110%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:75%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();function I1e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",7),H("click",function(){const o=Ue(t).$implicit,s=rn();return Be(s.Muestras(s.pid,o.codigo))}),g(),_(11,"button",8),H("click",function(){const o=Ue(t).$implicit;return Be(rn().infoUnidad(o.codigo))}),g(),_(12,"button",9),H("click",function(){const o=Ue(t).$implicit;return Be(rn().editUnidad(o.codigo))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.codigo),z(2),ke(t.cliente),z(2),ke(t.altitud),z(2),ke(t.coordenadas)}}let T1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[]}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=ye(this.firestore,"unidad-produccion");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"unidad-produccion",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"unidad-produccion",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,r){this.router.navigate(["user/muestras/"+t+"/"+r])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return C(function*(){let r=t.pid;console.log(r);const i=$t(ye(t.firestore,"unidad-produccion"),kt("project","==",r));de(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-unidad-produccion"]],decls:24,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[1,"projectBlock"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"unidad-produccion works!"),g(),_(2,"h1",0),w(3,"Unidades "),g(),_(4,"div",1)(5,"div",2),H("click",function(){return r.Scan()}),w(6,"SCAN"),g()(),_(7,"div",3)(8,"div",4),w(9,"Proyecto"),g(),_(10,"table")(11,"tr")(12,"th"),w(13," Codigo "),g(),_(14,"th"),w(15," Cliente "),g(),_(16,"th"),w(17," Altitud"),g(),_(18,"th"),w(19," Coordenadas "),g(),Z(20,"th"),g(),ui(21,I1e,13,4,"tr",5),g(),_(22,"button",6),H("click",function(){return r.newUnidad(r.pid)}),w(23," Agregar "),g()()),2&t&&(z(21),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:60%;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:40%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const D1e=["geo"];let A1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const r=Ce(this.firestore,"unidad-produccion",t.codigo);Xi(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"unidad-produccion");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}}return n.text="",n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-unidad-produccion-new"]],viewQuery:function(t,r){if(1&t&&En(D1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:52,vars:1,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","localidad","ngModel","","placeholder","Localidad","id","localidad","type","localidad",1,"input-field"],["name","municipio","ngModel","","placeholder","Municipio","id","municipio","type","municipio",1,"input-field"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field"],["name","altitud","ngModel","","placeholder","Altitud","id","altitud","type","altitud",1,"input-field"],["name","tempmax","ngModel","","placeholder","Temperaturas M\xe1ximas","id","tempmax","type","tempmax",1,"input-field"],["name","tempmin","ngModel","","placeholder","Temperaturas M\xednimas","id","tempmin","type","tempmin",1,"input-field"],["name","precipitacion","ngModel","","placeholder","Precipitaci\xf3n","id","precipitacion","type","precipitacion",1,"input-field"],[1,"boton"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"unidad-produccion-new works!"),g(),_(2,"h1",0),w(3,"Nueva Unidad"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),g(),Z(11,"input",7),g(),_(12,"div",5)(13,"span",6),w(14,"Cliente:"),g(),Z(15,"input",8),g(),_(16,"div",5)(17,"span",6),w(18,"Coordenadas:"),g(),_(19,"input",9),H("ngModelChange",function(s){return r.res=s}),g(),_(20,"div",10),H("click",function(){return r.getLocation()}),Z(21,"img",11),g()(),_(22,"div",5)(23,"span",6),w(24,"Localidad:"),g(),Z(25,"input",12),g(),_(26,"div",5)(27,"span",6),w(28,"Municipio:"),g(),Z(29,"input",13),g(),_(30,"div",5)(31,"span",6),w(32,"Estado:"),g(),Z(33,"input",14),g(),_(34,"div",5)(35,"span",6),w(36,"Altitud:"),g(),Z(37,"input",15),g(),_(38,"div",5)(39,"span",6),w(40,"Temperaturas M\xe1ximas:"),g(),Z(41,"input",16),g(),_(42,"div",5)(43,"span",6),w(44,"Temperaturas M\xednimas:"),g(),Z(45,"input",17),g(),_(46,"div",5)(47,"span",6),w(48,"Precipitaci\xf3n:"),g(),Z(49,"input",18),g(),_(50,"button",19),w(51,"Crear Unidad"),g()()()()}2&t&&(z(19),ve("ngModel",r.res))},dependencies:[er,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:15%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const M1e=["geo"];let S1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var r=this;return C(function*(){console.log(t);const i=Ce(r.firestore,"unidad-produccion",t.codigo);Er(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=ye(this.firestore,"unidad-produccion");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.x;const i=$t(ye(t.firestore,"unidad-produccion"),kt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const i=Ce(this.firestore,"unidad-produccion",this.x);ln(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/unidad-produccion/"+this.pid])}).catch(o=>{alert(o.message)})}}return n.text="",n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-unidad-produccion-edit"]],viewQuery:function(t,r){if(1&t&&En(M1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:63,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","codigo","ngModel","","placeholder","codigo","id","codigo","type","codigo",1,"input-field",3,"ngModel","ngModelChange"],["name","cliente","ngModel","","placeholder","Cliente","id","cliente","type","cliente",1,"input-field",3,"ngModel","ngModelChange"],["name","fecha","ngModel","","placeholder","Fecha","id","fecha","type","fecha",1,"input-field",3,"ngModel","ngModelChange"],["name","cultivo","ngModel","","placeholder","Cultivo","id","cultivo","type","cultivo",1,"input-field",3,"ngModel","ngModelChange"],["list","tipos","name","tipo","ngModel","","placeholder","Tipo","id","tipo","type","tipo",1,"input-field",3,"ngModel","ngModelChange"],["id","tipos"],["value","Hibrido"],["value","Variedad"],["value","Clone"],["list","fitopatogenos","name","fitopatogeno","ngModel","","placeholder","Fitopat\xf3geno","id","fitopatogeno","type","fitopatogeno",1,"input-field",3,"ngModel","ngModelChange"],["id","fitopatogenos"],["value","Hongos"],["value","Bacterias"],["value","Virus"],["name","estado","ngModel","","placeholder","Estado","id","estado","type","estado",1,"input-field",3,"ngModel","ngModelChange"],["name","coordenadas","ngModel","","placeholder","Coordenadas","id","coordenadas","type","coordenadas",1,"input-field",3,"ngModel","ngModelChange"],[1,"bUbicacion",3,"click"],["src","../../../../assets/Ubicacion.png","alt","U"],["name","sintomas","ngModel","","placeholder","S\xedntomas","id","sintomas","rows","4","cols","50",3,"ngModel","ngModelChange"],["name","comentarios","ngModel","","placeholder","Comentarios","id","comentarios","rows","4","cols","50",3,"ngModel","ngModelChange"],[1,"boton"],[1,"botonrojo",3,"click"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"unidad-produccion-edit works!"),g(),_(2,"h1",0),w(3,"Editar Unidad"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),g(),_(11,"input",7),H("ngModelChange",function(s){return r.item.codigo=s}),g()(),_(12,"div",5)(13,"span",6),w(14,"Cliente:"),g(),_(15,"input",8),H("ngModelChange",function(s){return r.item.cliente=s}),g()(),_(16,"div",5)(17,"span",6),w(18,"Fecha:"),g(),_(19,"input",9),H("ngModelChange",function(s){return r.item.fecha=s}),g()(),_(20,"div",5)(21,"span",6),w(22,"Cultivo:"),g(),_(23,"input",10),H("ngModelChange",function(s){return r.item.cultivo=s}),g()(),_(24,"div",5)(25,"span",6),w(26,"Tipo:"),g(),_(27,"input",11),H("ngModelChange",function(s){return r.item.tipo=s}),g(),_(28,"datalist",12),Z(29,"option",13)(30,"option",14)(31,"option",15),g()(),_(32,"div",5)(33,"span",6),w(34,"Fitopat\xf3geno:"),g(),_(35,"input",16),H("ngModelChange",function(s){return r.item.fitopatogeno=s}),g(),_(36,"datalist",17),Z(37,"option",18)(38,"option",19)(39,"option",20),g()(),_(40,"div",5)(41,"span",6),w(42,"Estado:"),g(),_(43,"input",21),H("ngModelChange",function(s){return r.item.estado=s}),g()(),_(44,"div",5)(45,"span",6),w(46,"Coordenadas:"),g(),_(47,"input",22),H("ngModelChange",function(s){return r.res=s}),g(),_(48,"div",23),H("click",function(){return r.getLocation()}),Z(49,"img",24),g()(),_(50,"div",5)(51,"span",6),w(52,"S\xedntomas:"),g(),_(53,"textarea",25),H("ngModelChange",function(s){return r.item.sintomas=s}),g()(),_(54,"div",5)(55,"span",6),w(56,"Comentarios:"),g(),_(57,"textarea",26),H("ngModelChange",function(s){return r.item.comentarios=s}),w(58," "),g()(),_(59,"button",27),w(60,"Editar Muestra"),g(),_(61,"button",28),H("click",function(){return r.deleteData(r.item.id)}),w(62," Delete "),g()()()()}2&t&&(z(11),ve("ngModel",r.item.codigo),z(4),ve("ngModel",r.item.cliente),z(4),ve("ngModel",r.item.fecha),z(4),ve("ngModel",r.item.cultivo),z(4),ve("ngModel",r.item.tipo),z(8),ve("ngModel",r.item.fitopatogeno),z(8),ve("ngModel",r.item.estado),z(4),ve("ngModel",r.res),z(6),ve("ngModel",r.item.sintomas),z(4),ve("ngModel",r.item.comentarios))},dependencies:[er,ih,oh,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:70%;flex-shrink:0;position:absolute;left:15%;top:25%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:17%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:90%;top:100%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 20px;height:20px;width:50%;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:25%;flex-shrink:0;position:absolute;left:5%;top:45%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:70%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:30%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const P1e=["geo"];let O1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const r=Ce(this.firestore,"unidad-produccion",t.codigo);Xi(r,t).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"unidad-produccion");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.text;const i=$t(ye(t.firestore,"unidad-produccion"),kt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const r=Ce(this.firestore,"users",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(t,r){if(1&t&&En(P1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:60,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"],[1,"boton",3,"click"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"unidad-produccion-info works!"),g(),_(2,"h1",0),w(3,"Datos de la Muestra"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),g(),_(11,"span",7),w(12),g()(),_(13,"div",5)(14,"span",6),w(15,"Cliente:"),g(),_(16,"span",7),w(17),g()(),_(18,"div",5)(19,"span",6),w(20,"Coordenadas:"),g(),_(21,"span",7),w(22),g()(),_(23,"div",5)(24,"span",6),w(25,"Localidad:"),g(),_(26,"span",7),w(27),g()(),_(28,"div",5)(29,"span",6),w(30,"Municipio:"),g(),_(31,"span",7),w(32),g()(),_(33,"div",5)(34,"span",6),w(35,"Estado:"),g(),_(36,"span",7),w(37),g()(),_(38,"div",5)(39,"span",6),w(40,"Altitud:"),g(),_(41,"span",7),w(42),g()(),_(43,"div",5)(44,"span",6),w(45,"Temperaturas M\xe1ximas:"),g(),_(46,"span",7),w(47),g()(),_(48,"div",5)(49,"span",6),w(50,"Temperaturas M\xednimas:"),g(),_(51,"span",7),w(52),g()(),_(53,"div",5)(54,"span",6),w(55,"Precipitaci\xf3n:"),g(),_(56,"span",7),w(57),g()()()()(),_(58,"button",8),H("click",function(){return r.editMuestra()}),w(59,"Editar Unidad"),g()}2&t&&(z(12),Le(" ",r.item.codigo,""),z(5),Le(" ",r.item.cliente,""),z(5),Le(" ",r.item.coordenadas,""),z(5),Le(" ",r.item.localidad,""),z(5),Le(" ",r.item.municipio,""),z(5),Le(" ",r.item.cliente,""),z(5),Le(" ",r.item.altitud,""),z(5),Le(" ",r.item.tempmax,""),z(5),Le(" ",r.item.tempmin,""),z(5),Le(" ",r.item.precipitacion,""))},dependencies:[er,Zn,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();function k1e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",4),H("click",function(){const o=Ue(t).$implicit;return Be(rn().editClients(o.email))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.email),z(2),ke(t.nombre),z(2),ke(t.telefono),z(2),ke(t.direccion)}}let N1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)})}getData(){const t=ye(this.firestore,"clientes");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"muestras",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"muestras",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newClients(){this.router.navigate(["user/clients-new"])}editClients(t){this.router.navigate(["user/clients-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return C(function*(){let r=t.item;t.pid=r,console.log(r);const i=$t(ye(t.firestore,"muestras"),kt("project","==",r));de(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-clients"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],["id","agregar",1,"boton",3,"click"],[1,"edit",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"clients works!"),g(),_(2,"h1",0),w(3,"Clientes"),g(),_(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Email "),g(),_(9,"th"),w(10," Nombre "),g(),_(11,"th"),w(12," Telefono"),g(),_(13,"th"),w(14," Direccion "),g(),Z(15,"th"),g(),ui(16,k1e,11,4,"tr",2),g(),_(17,"button",3),H("click",function(){return r.newClients()}),w(18," Agregar "),g()()),2&t&&(z(16),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;width:94%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const R1e=["geo"];let F1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id})}handleRegister(t){this.addData(t)}addData(t){const r=Ce(this.firestore,"muestras",t.codigo);Xi(r,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:this.pid}).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude,console.log(n.text)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}}return n.text="",n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-clients-new"]],viewQuery:function(t,r){if(1&t&&En(R1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:0,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field"],[1,"boton"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"clients-new works!"),g(),_(2,"h1",0),w(3,"Nuevo Cliente"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),g(),Z(11,"input",7),g(),_(12,"div",5)(13,"span",6),w(14,"Nombre:"),g(),Z(15,"input",8),g(),_(16,"div",5)(17,"span",6),w(18,"Telefono:"),g(),Z(19,"input",9),g(),_(20,"div",5)(21,"span",6),w(22,"Direccion:"),g(),Z(23,"input",10),g(),_(24,"button",11),w(25,"Crear Cliente"),g()()()()}},dependencies:[er,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:85%;height:50%;flex-shrink:0;position:absolute;left:7%;top:30%}.input-field[_ngcontent-%COMP%]{margin:10px 10px 10px 20px;width:85%;height:20px;left:92px}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:3%;top:3%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();function L1e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",5),H("click",function(){const o=Ue(t).$implicit,s=rn();return Be(s.Muestras(s.pid,o.codigo))}),g(),_(11,"button",6),H("click",function(){const o=Ue(t).$implicit;return Be(rn().infoUnidad(o.codigo))}),g(),_(12,"button",7),H("click",function(){const o=Ue(t).$implicit;return Be(rn().editUnidad(o.codigo))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.codigo),z(2),ke(t.cliente),z(2),ke(t.altitud),z(2),ke(t.coordenadas)}}let V1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.getData()}ngOnInit(){this.route.params.subscribe(t=>{this.pid=t.id,console.log(t),console.log(t.id)})}getData(){const t=ye(this.firestore,"unidad-produccion");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"unidad-produccion",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"unidad-produccion",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}Muestras(t,r){this.router.navigate(["user/muestras/"+t+"/"+r])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newUnidad(t){this.router.navigate(["user/unidad-produccion-new/"+t])}editUnidad(t){this.router.navigate(["user/unidad-produccion-edit/"+t])}infoProject(t){this.router.navigate(["user/project-info/"+t])}infoUnidad(t){this.router.navigate(["user/unidad-produccion-info/"+t])}MyQuery(){var t=this;return C(function*(){let r=t.pid;console.log(r);const i=$t(ye(t.firestore,"unidad-produccion"),kt("project","==",r));de(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-unidad-produccion-all"]],decls:20,vars:1,consts:[[1,"subTituloText"],[1,"scanbutton"],[1,"scantext",3,"click"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"],[1,"detalles",3,"click"],[1,"edit",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"unidad-produccion-all works!"),g(),_(2,"h1",0),w(3,"Unidades "),g(),_(4,"div",1)(5,"div",2),H("click",function(){return r.Scan()}),w(6,"SCAN"),g()(),_(7,"div",3)(8,"table")(9,"tr")(10,"th"),w(11," Codigo "),g(),_(12,"th"),w(13," Cliente "),g(),_(14,"th"),w(15," Altitud"),g(),_(16,"th"),w(17," Coordenadas "),g(),Z(18,"th"),g(),ui(19,L1e,13,4,"tr",4),g()()),2&t&&(z(19),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const U1e=["geo"];let B1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var r=this;return C(function*(){console.log(t);const i=Ce(r.firestore,"clientes",t.codigo);Er(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=ye(this.firestore,"clientes");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.x;const i=$t(ye(t.firestore,"clientes"),kt("email","==",r)),o=yield de(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const i=Ce(this.firestore,"clientes",this.x);ln(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}}return n.text="",n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-clients-edit"]],viewQuery:function(t,r){if(1&t&&En(U1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"clients-edit works!"),g(),_(2,"h1",0),w(3,"Nuevo Cliente"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),g(),_(11,"input",7),H("ngModelChange",function(s){return r.item.email=s}),g()(),_(12,"div",5)(13,"span",6),w(14,"Nombre:"),g(),_(15,"input",8),H("ngModelChange",function(s){return r.item.nombre=s}),g()(),_(16,"div",5)(17,"span",6),w(18,"Telefono:"),g(),_(19,"input",9),H("ngModelChange",function(s){return r.item.telefono=s}),g()(),_(20,"div",5)(21,"span",6),w(22,"Direccion:"),g(),_(23,"input",10),H("ngModelChange",function(s){return r.item.direccion=s}),g()(),_(24,"button",11),w(25,"Editar Cliente"),g()()()()}2&t&&(z(11),ve("ngModel",r.item.email),z(4),ve("ngModel",r.item.nombre),z(4),ve("ngModel",r.item.telefono),z(4),ve("ngModel",r.item.direccion))},dependencies:[er,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const j1e=["geo"],z1e=[{path:"user",component:y$,children:[{path:"projects",component:zCe},{path:"project-new",component:WCe},{path:"project-edit/:id",component:b1e},{path:"project-info/:id",component:E1e},{path:"barcode/:id",component:GCe},{path:"muestras/:id/:up",component:HCe},{path:"muestras-new/:id",component:QCe},{path:"muestras-edit/:id",component:m1e},{path:"muestras-info/:id",component:y1e},{path:"muestras-all",component:C1e},{path:"unidad-produccion/:id",component:T1e},{path:"unidad-produccion-new/:id",component:A1e},{path:"unidad-produccion-edit/:id",component:S1e},{path:"unidad-produccion-info/:id",component:O1e},{path:"unidad-produccion-all",component:V1e},{path:"clients",component:N1e},{path:"clients-new",component:F1e},{path:"clients-edit/:id",component:B1e},{path:"clients-info/:id",component:(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We,this.getData(),this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const r=Ce(this.firestore,"muestras",t.codigo);Xi(r,t).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.text;const i=$t(ye(t.firestore,"muestras"),kt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/muestras-edit/"+this.text])}deleteData(t){const r=Ce(this.firestore,"users",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-clients-info"]],viewQuery:function(t,r){if(1&t&&En(j1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:28,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"clients-info works!"),g(),_(2,"h1",0),w(3,"Informacion del Cliente"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),g(),_(11,"span",7),w(12),g()(),_(13,"div",5)(14,"span",6),w(15,"Nombre:"),g(),_(16,"span",7),w(17),g()(),_(18,"div",5)(19,"span",6),w(20,"Telefono:"),g(),_(21,"span",7),w(22),g()(),_(23,"div",5)(24,"span",6),w(25,"Direccion:"),g(),_(26,"span",7),w(27),g()()()()()}2&t&&(z(12),Le(" ",r.item.email,""),z(5),Le(" ",r.item.nombre,""),z(5),Le(" ",r.item.telefono,""),z(5),Le(" ",r.item.direccion,""))},dependencies:[er,Zn,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})()},{path:"scan",component:p1e}]}];let $1e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[qi.forChild(z1e),qi]}),n})();Y0().subscribe(n=>console.log("LOAD_WASM",n));let H1e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[Xd,$1e,Fm,DP]}),n})(),G1e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[Xd]}),n})();function q1e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td")(8,"button",3),H("click",function(){const o=Ue(t).$implicit;return Be(rn().Muestras(o.name))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.name),z(2),ke(t.owner),z(2),ke(t.integrantes)}}let W1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.list=[],this.email="",this.getData(),this.MyQuery()}getData(){const t=ds();Xs(t,i=>{i&&(console.log(i.email),i.email&&(this.email=i.email))});const r=ye(this.firestore,"projects");de(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}updateData(t){const r=Ce(this.firestore,"projects",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"projects",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}newProject(){this.router.navigate(["user/project-new"])}EditProject(){this.router.navigate(["user/project-new"])}Muestras(t){this.router.navigate(["client/muestras/"+t])}editProyecto(t){this.router.navigate(["user/project-edit/"+t])}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}MyQuery(){var t=this;return C(function*(){const r=ds();let i;i="",console.log(r),Xs(r,function(){var o=C(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=$t(ye(t.firestore,"projects"),kt("cliente","==",i));de(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].cliente)}});return function(s){return o.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-projects"]],decls:15,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"muestras",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"projects works!"),g(),_(2,"h1",0),w(3,"Proyectos"),g(),_(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Nombre "),g(),_(9,"th"),w(10," Due\xf1o "),g(),_(11,"th"),w(12," Integrantes"),g(),Z(13,"th"),g(),ui(14,q1e,9,3,"tr",2),g()()),2&t&&(z(14),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:25%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;margin:0;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}.scanbutton[_ngcontent-%COMP%]{cursor:pointer;width:153px;height:36px;left:30%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}}"]}),n})();function K1e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",4),H("click",function(){const o=Ue(t).$implicit;return Be(rn().infoMuestra(o.codigo))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.codigo),z(2),ke(t.fecha),z(2),ke(t.cultivo),z(2),ke(t.coordenadas)}}let F8=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.MyQuery()}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"muestras",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"muestras",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["client/projects"])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["client/muestras-info/"+t])}MyQuery(){var t=this;return C(function*(){let r=t.item;t.pid=r,console.log(r);const i=$t(ye(t.firestore,"muestras"),kt("project","==",r));de(i).then(s=>{t.data=[...s.docs.map(a=>({...a.data(),id:a.id}))]}),(yield de(i)).forEach(s=>{console.log(s.id," => ",s.data())})})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-muestras"]],decls:19,vars:1,consts:[[1,"subTituloText"],[1,"list"],[1,"projectBlock",3,"click"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"muestras works!"),g(),_(2,"h1",0),w(3,"Muestras"),g(),_(4,"div",1)(5,"div",2),H("click",function(){return r.infoProject(r.pid)}),w(6,"Proyecto"),g(),_(7,"table")(8,"tr")(9,"th"),w(10," Codigo "),g(),_(11,"th"),w(12," Fecha "),g(),_(13,"th"),w(14," Cultivo"),g(),_(15,"th"),w(16," Coordenadas "),g(),Z(17,"th"),g(),ui(18,K1e,11,4,"tr",3),g()()),2&t&&(z(18),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.projectBlock[_ngcontent-%COMP%]{width:60%;height:25px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:14px;font-weight:700;letter-spacing:0;cursor:pointer}.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();function Q1e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",3),H("click",function(){const o=Ue(t).$implicit;return Be(rn().infoMuestra(o.codigo))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.codigo),z(2),ke(t.fecha),z(2),ke(t.cultivo),z(2),ke(t.coordenadas)}}let Y1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=ye(this.firestore,"muestras");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"muestras",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"muestras",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoMuestra(t){this.router.navigate(["user/muestras-info/"+t])}MyQuery(){var t=this;return C(function*(){const r=ds();let i,o=[];i="",console.log(r),Xs(r,function(){var s=C(function*(a){if(a&&(console.log(a.email),a.email)){i=a.email;const d=$t(ye(t.firestore,"projects"),kt("cliente","==",i));de(d).then(b=>{t.dataTem=[...b.docs.map(E=>({...E.data(),id:E.id}))]}),(yield de(d)).forEach(b=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let p=t.dataTem.length;console.log(p);for(let b=0;b<p;b++)console.log(t.dataTem[b].name),o.push(t.dataTem[b].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=$t(ye(t.firestore,"muestras"),kt("project","in",o));de(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield de(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-muestras-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"muestras-all works!"),g(),_(2,"h1",0),w(3,"Muestras"),g(),_(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Codigo "),g(),_(9,"th"),w(10," Fecha "),g(),_(11,"th"),w(12," Cultivo"),g(),_(13,"th"),w(14," Coordenadas "),g(),Z(15,"th"),g(),ui(16,Q1e,11,4,"tr",2),g()()),2&t&&(z(16),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:5%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();function X1e(n,e){if(1&n){const t=_t();_(0,"tr")(1,"td"),w(2),g(),_(3,"td"),w(4),g(),_(5,"td"),w(6),g(),_(7,"td"),w(8),g(),_(9,"td")(10,"button",3),H("click",function(){const o=Ue(t).$implicit;return Be(rn().infoUnidad(o.codigo))}),g()()()}if(2&n){const t=e.$implicit;z(2),ke(t.codigo),z(2),ke(t.project),z(2),ke(t.altitud),z(2),ke(t.coordenadas)}}let J1e=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.data=[],this.arr=[]}ngOnInit(){this.route.params.subscribe(t=>{this.item=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}getData(){const t=ye(this.firestore,"unidad-produccion");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}updateData(t){const r=Ce(this.firestore,"unidad-produccion",t);Er(r,{}).then(()=>{alert("Data updated"),this.getData()}).catch(i=>{alert(i.message)})}deleteData(t){const r=Ce(this.firestore,"unidad-produccion",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}Scan(){this.router.navigate(["user/scan"])}Home(){this.router.navigate(["user/projects"])}logOut(){sr(this.auth).then(()=>{}).catch(t=>{}),this.router.navigate(["auth/select"])}newMuestra(){this.router.navigate(["user/muestras-new"])}editMuestra(t){this.router.navigate(["user/muestras-edit/"+t])}infoProject(t){this.router.navigate(["user/project-edit/"+t])}infoUnidad(t){this.router.navigate(["client/unidad-produccion-info/"+t])}MyQuery(){var t=this;return C(function*(){const r=ds();let i,o=[];i="",console.log(r),Xs(r,function(){var s=C(function*(a){if(a&&(console.log(a.email),a.email)){i=a.email;const d=$t(ye(t.firestore,"projects"),kt("cliente","==",i));de(d).then(b=>{t.dataTem=[...b.docs.map(E=>({...E.data(),id:E.id}))]}),(yield de(d)).forEach(b=>{}),console.log(t.dataTem.length),console.log(t.dataTem[0].name);let p=t.dataTem.length;console.log(p);for(let b=0;b<p;b++)console.log(t.dataTem[b].name),o.push(t.dataTem[b].name);console.log(o)}console.log("next"),console.log(o),t.pid=t.item;const l=$t(ye(t.firestore,"unidad-produccion"),kt("project","in",o));de(l).then(d=>{t.data=[...d.docs.map(h=>({...h.data(),id:h.id}))]}),(yield de(l)).forEach(d=>{console.log(d.id," => ",d.data())})});return function(a){return s.apply(this,arguments)}}())})()}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-unidad-produccion-all"]],decls:17,vars:1,consts:[[1,"subTituloText"],[1,"list"],[4,"ngFor","ngForOf"],[1,"detalles",3,"click"]],template:function(t,r){1&t&&(_(0,"p"),w(1,"unidad-produccion-all works!"),g(),_(2,"h1",0),w(3,"Unidades"),g(),_(4,"div",1)(5,"table")(6,"tr")(7,"th"),w(8," Codigo "),g(),_(9,"th"),w(10," Proyecto "),g(),_(11,"th"),w(12," Altitud"),g(),_(13,"th"),w(14," Coordenadas "),g(),Z(15,"th"),g(),ui(16,X1e,11,4,"tr",2),g()()),2&t&&(z(16),ve("ngForOf",r.data))},dependencies:[Ti],styles:[".list[_ngcontent-%COMP%]{position:absolute;left:38%;top:38%}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;padding:10px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:10px}table[_ngcontent-%COMP%]{border-collapse:collapse}.projectBlock[_ngcontent-%COMP%]{width:auto;height:35px;background:#3EC28F;color:#fff;padding-top:10px;font-family:Verdana;text-align:center;font-size:20px;font-weight:700;letter-spacing:0;cursor:pointer}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:153px;height:36px;left:49%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:126px;height:16px;left:50%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{border:none;float:right;background-color:#3eb3c2;color:#fff;margin:15px 0;padding:15px;text-align:center;text-decoration:none;font-size:16px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:300px;height:64px;font-family:Verdana;font-size:48px;letter-spacing:0;left:45%;top:20%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.imprimir[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;margin-left:2px;width:25px;height:25px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Imprimir.5707a7d8e20080ab.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.list[_ngcontent-%COMP%]{position:absolute;left:2%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{cursor:pointer;width:126px;margin-top:10px;margin-left:15px;height:16px;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:80%;top:100%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:10px;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;height:64px;font-family:Verdana;font-size:32px;letter-spacing:0;left:30%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const Z1e=["geo"];let exe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.text=t.id,console.log(t),console.log(t.id)}),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){const r=Ce(this.firestore,"unidad-produccion",t.codigo);Xi(r,t).then(()=>{alert("Data Sent")}).catch(i=>{alert(i.message)}),console.log(t.comentarios)}getData(){const t=ye(this.firestore,"unidad-produccion");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude)}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.text;const i=$t(ye(t.firestore,"unidad-produccion"),kt("codigo","==",r)),o=yield de(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data())})})()}editMuestra(){this.router.navigate(["user/unidad-produccion-edit/"+this.text])}deleteData(t){const r=Ce(this.firestore,"users",t);ln(r).then(()=>{alert("Data Deleted"),this.getData()}).catch(i=>{alert(i.message)})}}return n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-unidad-produccion-info"]],viewQuery:function(t,r){if(1&t&&En(Z1e,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:58,vars:10,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],[1,"input-field"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"unidad-produccion-info works!"),g(),_(2,"h1",0),w(3,"Datos de la Muestra"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Codigo:"),g(),_(11,"span",7),w(12),g()(),_(13,"div",5)(14,"span",6),w(15,"Cliente:"),g(),_(16,"span",7),w(17),g()(),_(18,"div",5)(19,"span",6),w(20,"Coordenadas:"),g(),_(21,"span",7),w(22),g()(),_(23,"div",5)(24,"span",6),w(25,"Localidad:"),g(),_(26,"span",7),w(27),g()(),_(28,"div",5)(29,"span",6),w(30,"Municipio:"),g(),_(31,"span",7),w(32),g()(),_(33,"div",5)(34,"span",6),w(35,"Estado:"),g(),_(36,"span",7),w(37),g()(),_(38,"div",5)(39,"span",6),w(40,"Altitud:"),g(),_(41,"span",7),w(42),g()(),_(43,"div",5)(44,"span",6),w(45,"Temperaturas M\xe1ximas:"),g(),_(46,"span",7),w(47),g()(),_(48,"div",5)(49,"span",6),w(50,"Temperaturas M\xednimas:"),g(),_(51,"span",7),w(52),g()(),_(53,"div",5)(54,"span",6),w(55,"Precipitaci\xf3n:"),g(),_(56,"span",7),w(57),g()()()()()}2&t&&(z(12),Le(" ",r.item.codigo,""),z(5),Le(" ",r.item.cliente,""),z(5),Le(" ",r.item.coordenadas,""),z(5),Le(" ",r.item.localidad,""),z(5),Le(" ",r.item.municipio,""),z(5),Le(" ",r.item.cliente,""),z(5),Le(" ",r.item.altitud,""),z(5),Le(" ",r.item.tempmax,""),z(5),Le(" ",r.item.tempmin,""),z(5),Le(" ",r.item.precipitacion,""))},dependencies:[er,Zn,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:65%;height:55%;flex-shrink:0;position:absolute;left:25%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:10%;top:7%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:12px 12px 12px 25px;height:20px;left:92px;color:#000;font-family:Arial;font-size:20px;letter-spacing:0}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:40%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;height:25px;font-family:Arial;font-size:20px;font-weight:700;letter-spacing:0}#email[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:48.5%}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:88%}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:0%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.input-field[_ngcontent-%COMP%]{margin:6px 6px 6px 15px;height:20px;left:92px;color:#000;font-family:Arial;font-size:16px;letter-spacing:0;text-overflow:ellipsis}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;left:5%;top:3%}.Text[_ngcontent-%COMP%]{color:#000;height:20px;font-family:Arial;font-size:16px;letter-spacing:0}.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:90%;height:53%;flex-shrink:0;position:absolute;left:5%;top:35%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:67%;top:90%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.botonrojo[_ngcontent-%COMP%]{background-color:#c23e3e;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:12px;left:0%;top:110%}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:25%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})();const txe=["geo"];let nxe=(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new We}ngOnInit(){this.route.params.subscribe(t=>{this.x=t.id,console.log(t),console.log(t.id)}),this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var r=this;return C(function*(){console.log(t);const i=Ce(r.firestore,"clientes",t.codigo);Er(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=ds();Xs(t,i=>{i&&i.email&&(this.email=i.email)});const r=ye(this.firestore,"clientes");de(r).then(i=>{this.data=[...i.docs.map(o=>({...o.data(),id:o.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){let r=t.email;const i=$t(ye(t.firestore,"clientes"),kt("email","==",r)),o=yield de(i);o.empty||o.forEach(s=>{t.item=s.data(),console.log(s.id," => ",s.data()),t.res=t.item.coordenadas,t.pid=t.item.project})})()}deleteData(t){const i=Ce(this.firestore,"clientes",this.x);ln(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}}return n.text="",n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-perfil"]],viewQuery:function(t,r){if(1&t&&En(txe,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:2,vars:0,template:function(t,r){1&t&&(_(0,"p"),w(1,"perfil works!"),g())}}),n})();const rxe=["geo"],ixe=[{path:"client",component:b$,children:[{path:"projects",component:W1e},{path:"muestras-all",component:Y1e},{path:"muestras/:id",component:F8},{path:"unidad-produccion-all",component:J1e},{path:"muestras-info/:id",component:F8},{path:"unidad-produccion-info/:id",component:exe},{path:"perfil",component:nxe},{path:"perfil-edit",component:(()=>{class n{constructor(t,r,i,o){this.router=t,this.route=r,this.auth=i,this.firestore=o,this.title="gestion-de-muestras-de-campo",this.data=[],this.res="",this.email="",this.somethingChange=new We,this.getData(),this.MyQuery()}handleRegister(t){this.addData(t)}addData(t){var r=this;return C(function*(){console.log(t);const i=Ce(r.firestore,"clientes",t.codigo);Er(i,{codigo:t.codigo,cliente:t.cliente,fecha:t.fecha,cultivo:t.cultivo,tipo:t.tipo,fitopatogeno:t.fitopatogeno,estado:t.estado,coordenadas:t.coordenadas,sintomas:t.sintomas,comentarios:t.comentarios,project:r.pid}).then(()=>{alert("Data Sent")}).catch(o=>{alert(o.message)}),console.log(r.pid)})()}getData(){const t=ye(this.firestore,"clientes");de(t).then(r=>{this.data=[...r.docs.map(i=>({...i.data(),id:i.id}))]})}showPosition(t){console.log(t.coords.latitude),console.log(t.coords.longitude),n.text=t.coords.latitude+", "+t.coords.longitude}getLocation(){var t=this;return C(function*(){t.res="...",navigator.geolocation?yield navigator.geolocation.getCurrentPosition(t.showPosition):console.log("error"),setTimeout(()=>{t.res=n.text,console.log(t.res)},1e3)})()}MyQuery(){var t=this;return C(function*(){const r=ds();let i;i="",console.log(r),Xs(r,function(){var o=C(function*(s){if(s&&(console.log(s.email),s.email)){i=s.email;const a=$t(ye(t.firestore,"clientes"),kt("email","==",i));de(a).then(l=>{t.data=[...l.docs.map(u=>({...u.data(),id:u.id}))]});const c=yield de(a);console.log(c),c.forEach(l=>{t.item=l.data(),t.pid=l.id,console.log(l.id," => ",l.data()),console.log("here2")}),console.log(t.data.length),console.log(t.data),console.log(t.data[0].email)}});return function(s){return o.apply(this,arguments)}}())})()}deleteData(t){const i=Ce(this.firestore,"clientes",this.x);ln(i).then(()=>{alert("Data Deleted"),this.router.navigate(["user/muestras/"+this.pid])}).catch(o=>{alert(o.message)})}}return n.text="",n.\u0275fac=function(t){return new(t||n)(T(Ee),T(tt),T(je),T(Je))},n.\u0275cmp=Ve({type:n,selectors:[["app-perfil-edit"]],viewQuery:function(t,r){if(1&t&&En(rxe,5),2&t){let i;hn(i=fn())&&(r.geo=i.first)}},inputs:{something:"something"},outputs:{somethingChange:"somethingChange"},decls:26,vars:4,consts:[[1,"subTituloText"],[1,"loginBox"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"main"],[1,"input-fields"],[1,"Text"],["name","email","ngModel","","placeholder","Email","id","emai","type","email",1,"input-field",3,"ngModel","ngModelChange"],["name","nombre","ngModel","","placeholder","Nombre","id","nombre","type","nombre",1,"input-field",3,"ngModel","ngModelChange"],["name","telefono","ngModel","","placeholder","Telefono","id","telefono","type","telefono",1,"input-field",3,"ngModel","ngModelChange"],["name","direccion","ngModel","","placeholder","Direccion","id","direccion","type","direccion",1,"input-field",3,"ngModel","ngModelChange"],[1,"boton"]],template:function(t,r){if(1&t){const i=_t();_(0,"p"),w(1,"perfil-edit works!"),g(),_(2,"h1",0),w(3," Editar Perfil"),g(),_(4,"div",1)(5,"form",2,3),H("ngSubmit",function(){Ue(i);const s=xn(6);return Be(r.handleRegister(s.value))}),_(7,"div",4)(8,"div",5)(9,"span",6),w(10,"Email:"),g(),_(11,"input",7),H("ngModelChange",function(s){return r.item.email=s}),g()(),_(12,"div",5)(13,"span",6),w(14,"Nombre:"),g(),_(15,"input",8),H("ngModelChange",function(s){return r.item.nombre=s}),g()(),_(16,"div",5)(17,"span",6),w(18,"Telefono:"),g(),_(19,"input",9),H("ngModelChange",function(s){return r.item.telefono=s}),g()(),_(20,"div",5)(21,"span",6),w(22,"Direccion:"),g(),_(23,"input",10),H("ngModelChange",function(s){return r.item.direccion=s}),g()(),_(24,"button",11),w(25,"Editar Cliente"),g()()()()}2&t&&(z(11),ve("ngModel",r.item.email),z(4),ve("ngModel",r.item.nombre),z(4),ve("ngModel",r.item.telefono),z(4),ve("ngModel",r.item.direccion))},dependencies:[er,Kr,Di,Zn,hi,Rn],styles:[".loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:30%;flex-shrink:0;position:absolute;left:15%;top:30%}.main[_ngcontent-%COMP%]{justify-content:center;flex-direction:column;position:absolute;width:90%;left:5%;top:3%}.input-fields[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}textarea[_ngcontent-%COMP%]{resize:none;left:92px;margin:10px;font-family:Arial;width:85%}.input-field[_ngcontent-%COMP%]{margin:10px;width:85%;height:20px;left:92px}#cordenadas[_ngcontent-%COMP%]{width:78%}button[_ngcontent-%COMP%]{width:100px;height:40px;margin:10px;cursor:pointer}#signup[_ngcontent-%COMP%]{top:20%;position:absolute}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;font-family:Verdana;font-size:48px;letter-spacing:0;left:35%;top:20%}.loginTile[_ngcontent-%COMP%]{color:#000;width:34%;height:28%;position:absolute;font-family:Arial;text-align:center;font-size:32px;letter-spacing:0;left:39.2%;top:39.5%}.lineBlack[_ngcontent-%COMP%]{width:33.9%;height:0px;position:absolute;border:1px solid rgba(0,0,0,1);left:39.2%;top:45%}.Text[_ngcontent-%COMP%]{color:#000;width:25%;height:25px;font-family:Arial;font-size:20px;letter-spacing:0}.userText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:center;font-size:20px;letter-spacing:0;left:43.7%;top:49%}#password[_ngcontent-%COMP%]{width:15%;height:3%;position:absolute;left:49%;top:53.5%}.claveText[_ngcontent-%COMP%]{color:#000;width:5%;height:3%;position:absolute;font-family:Arial;text-align:left;font-size:20px;letter-spacing:0;left:43.7%;top:54%}.bUbicacion[_ngcontent-%COMP%]{display:inline;width:28px;height:27px;flex-shrink:0;border-radius:4px;border:.5px solid #000;background:#A6A6A6;mix-blend-mode:color-burn;box-shadow:0 4px 4px #00000040;font-family:Arial;text-align:center;cursor:pointer}img[_ngcontent-%COMP%]{margin:1px;width:24px;height:24px}.boton[_ngcontent-%COMP%]{background-color:#3eb3c2;color:#fff;position:absolute;border-width:0;border-radius:30px;font-size:16px;left:80%;top:100%}.botonText[_ngcontent-%COMP%]{color:#fff;width:10%;height:1.5%;position:absolute;font-family:Arial;text-align:center;font-size:16px;letter-spacing:0;left:59.5%;top:59.8%}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}@media only screen and (max-width: 768px){.loginBox[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;background-color:#d9d9d9;width:75%;height:50%;flex-shrink:0;position:absolute;left:15%;top:30%}.list[_ngcontent-%COMP%]{position:absolute;left:1%;top:40%;text-overflow:ellipsis}td[_ngcontent-%COMP%]{border:1px solid #000;background:#D9D9D9;text-overflow:ellipsis;padding:2px;font-size:12px}th[_ngcontent-%COMP%]{border:1px solid #000;background:#AAAAAA;padding:2px;font-size:12px}table[_ngcontent-%COMP%]{border-collapse:collapse}.integrantes[_ngcontent-%COMP%]{display:none}.username[_ngcontent-%COMP%]{width:119px;height:17px;left:4%;top:17%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;text-decoration:underline;word-wrap:break-word}.logout[_ngcontent-%COMP%]{width:128px;height:23px;left:4%;top:23%;position:absolute;color:#4c9eff;font-size:16px;font-family:Inter;font-weight:400;word-wrap:break-word}.scanbutton[_ngcontent-%COMP%]{width:30%;height:36px;left:35%;top:30%;position:absolute;background:#4C9EFF;border-radius:30px}.scantext[_ngcontent-%COMP%]{width:30%;height:3%;left:35%;top:31%;position:absolute;text-align:center;color:#fff;font-size:16px;font-family:Verdana;font-weight:700;word-wrap:break-word}.boton[_ngcontent-%COMP%]{position:absolute;left:75%;top:110%;border:none;float:right;background-color:#3eb3c2;color:#fff;margin:10px 0;padding:0;text-align:center;text-decoration:none;font-size:12px;cursor:pointer;border-radius:30px}.subTituloText[_ngcontent-%COMP%]{color:#3ec28f;position:absolute;margin:0;width:100%;height:64px;font-family:Verdana;text-align:center;font-size:32px;letter-spacing:0;left:0%;top:22%}.edit[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(Edit.1c3b33dbc7a0ce7c.png)}.muestras[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(clipboard.008357a0b24034e8.png)}.detalles[_ngcontent-%COMP%]{border:none;background-color:#d9d9d9;width:14px;height:14px;background-size:contain;background-repeat:no-repeat;cursor:pointer;background-image:url(info.f631e6664ac6fa77.png)}.salir[_ngcontent-%COMP%]{cursor:pointer;border:none;background:none;position:absolute;width:20%;height:10%;left:0%;top:0%}}"]}),n})()}]}];let oxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[qi.forChild(ixe),qi]}),n})();Y0().subscribe(n=>console.log("LOAD_WASM",n));let sxe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({imports:[oxe,w$,Xd,Fm,DP,qi]}),n})();const axe=["addListener","removeListener"],cxe=["addEventListener","removeEventListener"],lxe=["on","off"];function X0(n,e,t,r){if(N(t)&&(r=t,t=void 0),r)return X0(n,e,t).pipe(bC(r));const[i,o]=function hxe(n){return N(n.addEventListener)&&N(n.removeEventListener)}(n)?cxe.map(s=>a=>n[s](e,a,t)):function uxe(n){return N(n.addListener)&&N(n.removeListener)}(n)?axe.map(L8(n,e)):function dxe(n){return N(n.on)&&N(n.off)}(n)?lxe.map(L8(n,e)):[];if(!i&&sv(n))return Sn(s=>X0(s,e,t))(Tr(n));if(!i)throw new TypeError("Invalid event target");return new Ct(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function L8(n,e){return t=>r=>n[t](e,r)}const Ta=new Ct(v),pxe={connector:()=>new ri};function V8(n,e=pxe){const{connector:t}=e;return wn((r,i)=>{const o=t();Tr(n(function fxe(n){return new Ct(e=>n.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function U8(n,e){return e?t=>sh(e.pipe(Qr(1),function _xe(){return wn((n,e)=>{n.subscribe(Cn(e,v))})}()),t.pipe(U8(n))):Sn((t,r)=>Tr(n(t,r)).pipe(Qr(1),O4(t)))}const Rp="Service workers are disabled or not supported by this browser";class J0{constructor(e){if(this.serviceWorker=e,e){const r=X0(e,"controllerchange").pipe(Ze(()=>e.controller)),o=sh(Vm(()=>we(e.controller)),r);this.worker=o.pipe(Yr(u=>!!u)),this.registration=this.worker.pipe(Ur(()=>e.getRegistration()));const l=X0(e,"message").pipe(Ze(u=>u.data)).pipe(Yr(u=>u&&u.type)).pipe(function mxe(n){return n?e=>V8(n)(e):e=>function gxe(n,e){const t=N(n)?n:()=>n;return N(e)?V8(e,{connector:t}):r=>new jC(r,t)}(new ri)(e)}());l.connect(),this.events=l}else this.worker=this.events=this.registration=function wxe(n){return Vm(()=>Ll(new Error(n)))}(Rp)}postMessage(e,t){return this.worker.pipe(Qr(1),tr(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Yr(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(Qr(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Yr(t=>t.nonce===e),Qr(1),Ze(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let B8=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new ri,!t.isEnabled)return this.messages=Ta,this.notificationClicks=Ta,void(this.subscription=Ta);this.messages=this.sw.eventsOfType("PUSH").pipe(Ze(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ze(i=>i.data)),this.pushManager=this.sw.registration.pipe(Ze(i=>i.pushManager));const r=this.pushManager.pipe(Ur(i=>i.getSubscription()));this.subscription=cv(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Rp));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(Ur(s=>s.subscribe(r)),Qr(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Qr(1),Ur(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Rp))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ge(J0))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})(),j8=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Ta,this.available=Ta,this.activated=Ta,void(this.unrecoverable=Ta);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Yr(r=>"VERSION_READY"===r.type),Ze(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ge(J0))},n.\u0275prov=_e({token:n,factory:n.\u0275fac}),n})();const z8=new le("NGSW_REGISTER_SCRIPT");function Cxe(n,e,t,r){return()=>{if(!t3(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=we(null);break;case"registerWithDelay":i=$8(+a[0]||0);break;case"registerWhenStable":i=a[0]?cv(H8(n),$8(+a[0])):H8(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ft).runOutsideAngular(()=>i.pipe(Qr(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function $8(n){return we(null).pipe(function bxe(n,e=bE){const t=function vxe(n=0,e,t=Oue){let r=-1;return null!=e&&(WP(e)?t=e:r=e),new Ct(i=>{let o=function yxe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}(n,e);return U8(()=>t)}(n))}function H8(n){return n.get(ja).isStable.pipe(Yr(t=>t))}function xxe(n,e){return new J0(t3(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class AP{}function Exe(n,e={}){return function gb(n){return{\u0275providers:n}}([B8,j8,{provide:z8,useValue:n},{provide:AP,useValue:e},{provide:J0,useFactory:xxe,deps:[AP,lo]},{provide:om,useFactory:Cxe,deps:[mr,z8,AP,lo],multi:!0}])}let Ixe=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[Exe(t,r)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n}),n.\u0275inj=Lt({providers:[B8,j8]}),n})();Y0().subscribe(n=>console.log("LOAD_WASM",n));let Txe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gt({type:n,bootstrap:[B0e]}),n.\u0275inj=Lt({providers:[{provide:Rs,useClass:LL}],imports:[qi,vne,w$,Fm,k0e,$ue(()=>Hue(j0e_firebase)),Dpe(()=>ds()),fCe(()=>pCe()),D0e(()=>{const e=S0e();return A0e(e),e}),UCe(()=>BCe()),H1e,G1e,sxe,DP,Ixe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]}),n})();_ne().bootstrapModule(Txe).catch(n=>console.error(n))},6387:(me,D,R)=>{var B=te(R(4168)),F=te(R(6017)),q=te(R(1301)),G=te(R(7164)),f=te(R(8619)),v=te(R(4866)),x=te(R(3057)),A=R(723),K=te(R(530));function te(Ke){return Ke&&Ke.__esModule?Ke:{default:Ke}}var ce=function(){},Et=function(It,Yt,wt){var it=new ce;if(typeof It>"u")throw Error("No element to render on was provided.");return it._renderProperties=(0,f.default)(It),it._encodings=[],it._options=K.default,it._errorHandler=new x.default(it),typeof Yt<"u"&&((wt=wt||{}).format||(wt.format=xs()),it.options(wt)[wt.format](Yt,wt).render()),it};for(var ni in Et.getModule=function(Ke){return B.default[Ke]},B.default)B.default.hasOwnProperty(ni)&&yi(B.default,ni);function yi(Ke,It){ce.prototype[It]=ce.prototype[It.toUpperCase()]=ce.prototype[It.toLowerCase()]=function(Yt,wt){var it=this;return it._errorHandler.wrapBarcodeCall(function(){wt.text=typeof wt.text>"u"?void 0:""+wt.text;var Lr=(0,F.default)(it._options,wt);Lr=(0,v.default)(Lr);var Ct=Aa(Yt,Ke[It],Lr);return it._encodings.push(Ct),it})}}function Aa(Ke,It,Yt){var wt=new It(Ke=""+Ke,Yt);if(!wt.valid())throw new A.InvalidInputException(wt.constructor.name,Ke);var it=wt.encode();it=(0,q.default)(it);for(var Lr=0;Lr<it.length;Lr++)it[Lr].options=(0,F.default)(Yt,it[Lr].options);return it}function xs(){return B.default.CODE128?"CODE128":Object.keys(B.default)[0]}function Es(Ke,It,Yt){It=(0,q.default)(It);for(var wt=0;wt<It.length;wt++)It[wt].options=(0,F.default)(Yt,It[wt].options),(0,G.default)(It[wt].options);(0,G.default)(Yt),new(0,Ke.renderer)(Ke.element,It,Yt).render(),Ke.afterRender&&Ke.afterRender()}ce.prototype.options=function(Ke){return this._options=(0,F.default)(this._options,Ke),this},ce.prototype.blank=function(Ke){var It=new Array(Ke+1).join("0");return this._encodings.push({data:It}),this},ce.prototype.init=function(){var Ke;if(this._renderProperties)for(var It in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var Yt=(0,F.default)(this._options,(Ke=this._renderProperties[It]).options);"auto"==Yt.format&&(Yt.format=xs()),this._errorHandler.wrapBarcodeCall(function(){var Lr=Aa(Yt.value,B.default[Yt.format.toUpperCase()],Yt);Es(Ke,Lr,Yt)})}},ce.prototype.render=function(){if(!this._renderProperties)throw new A.NoElementException;if(Array.isArray(this._renderProperties))for(var Ke=0;Ke<this._renderProperties.length;Ke++)Es(this._renderProperties[Ke],this._encodings,this._options);else Es(this._renderProperties,this._encodings,this._options);return this},ce.prototype._defaults=K.default,typeof window<"u"&&(window.JsBarcode=Et),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(Ke,It){var Yt=[];return jQuery(this).each(function(){Yt.push(this)}),Et(Yt,Ke,It)}),me.exports=Et},9418:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.default=function B(U,F){(function R(B,U){if(!(B instanceof U))throw new TypeError("Cannot call a class as a function")})(this,B),this.data=U,this.text=F.text||U,this.options=F}},8514:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function f(m,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,y){return v&&f(m.prototype,v),y&&f(m,y),m}}(),U=function j(f){return f&&f.__esModule?f:{default:f}}(R(9418)),F=R(9144),I=function(f){function m(v,y){!function q(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m);var x=function O(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v.substring(1),y));return x.bytes=v.split("").map(function(A){return A.charCodeAt(0)}),x}return function G(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(m,f),N(m,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var y=this.bytes,x=y.shift()-105,A=F.SET_BY_CODE[x];if(void 0===A)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&y.unshift(F.FNC1);var P=m.next(y,1,A);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:m.getBar(x)+P.result+m.getBar((P.checksum+x)%F.MODULO)+m.getBar(F.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var y=this.options.ean128||!1;return"string"==typeof y&&(y="true"===y.toLowerCase()),y}}],[{key:"getBar",value:function(y){return F.BARS[y]?F.BARS[y].toString():""}},{key:"correctIndex",value:function(y,x){if(x===F.SET_A){var A=y.shift();return A<32?A+64:A-32}return x===F.SET_B?y.shift()-32:10*(y.shift()-48)+y.shift()-48}},{key:"next",value:function(y,x,A){if(!y.length)return{result:"",checksum:0};var P=void 0,K=void 0;if(y[0]>=200){K=y.shift()-105;var te=F.SWAP[K];void 0!==te?P=m.next(y,x+1,te):((A===F.SET_A||A===F.SET_B)&&K===F.SHIFT&&(y[0]=A===F.SET_A?y[0]>95?y[0]-96:y[0]:y[0]<32?y[0]+96:y[0]),P=m.next(y,x+1,A))}else K=m.correctIndex(y,A),P=m.next(y,x+1,A);return{result:m.getBar(K)+P.result,checksum:K*x+P.checksum}}}]),m}(U.default);D.default=I},2100:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function f(m,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,y){return v&&f(m.prototype,v),y&&f(m,y),m}}(),U=function j(f){return f&&f.__esModule?f:{default:f}}(R(8514)),F=R(9144),I=function(f){function m(v,y){return function q(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function O(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,F.A_START_CHAR+v,y))}return function G(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(m,f),N(m,[{key:"valid",value:function(){return new RegExp("^"+F.A_CHARS+"+$").test(this.data)}}]),m}(U.default);D.default=I},2943:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function f(m,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,y){return v&&f(m.prototype,v),y&&f(m,y),m}}(),U=function j(f){return f&&f.__esModule?f:{default:f}}(R(8514)),F=R(9144),I=function(f){function m(v,y){return function q(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function O(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,F.B_START_CHAR+v,y))}return function G(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(m,f),N(m,[{key:"valid",value:function(){return new RegExp("^"+F.B_CHARS+"+$").test(this.data)}}]),m}(U.default);D.default=I},5683:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function f(m,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,y){return v&&f(m.prototype,v),y&&f(m,y),m}}(),U=function j(f){return f&&f.__esModule?f:{default:f}}(R(8514)),F=R(9144),I=function(f){function m(v,y){return function q(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function O(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,F.C_START_CHAR+v,y))}return function G(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(m,f),N(m,[{key:"valid",value:function(){return new RegExp("^"+F.C_CHARS+"+$").test(this.data)}}]),m}(U.default);D.default=I},7737:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var B=j(R(8514)),F=j(R(4336));function j(f){return f&&f.__esModule?f:{default:f}}function O(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}var I=function(f){function m(v,y){if(function q(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),/^[\x00-\x7F\xC8-\xD3]+$/.test(v))var x=O(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,(0,F.default)(v),y));else x=O(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,y));return O(x)}return function G(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(m,f),m}(B.default);D.default=I},4336:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=R(9144),B=function(G){return G.match(new RegExp("^"+N.A_CHARS+"*"))[0].length},U=function(G){return G.match(new RegExp("^"+N.B_CHARS+"*"))[0].length},F=function(G){return G.match(new RegExp("^"+N.C_CHARS+"*"))[0]};function j(O,G){var I=G?N.A_CHARS:N.B_CHARS,f=O.match(new RegExp("^("+I+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(f)return f[1]+String.fromCharCode(204)+q(O.substring(f[1].length));var m=O.match(new RegExp("^"+I+"+"))[0];return m.length===O.length?O:m+String.fromCharCode(G?205:206)+j(O.substring(m.length),!G)}function q(O){var G=F(O),I=G.length;if(I===O.length)return O;O=O.substring(I);var f=B(O)>=U(O);return G+String.fromCharCode(f?206:205)+j(O,f)}D.default=function(O){var G=void 0;if(F(O).length>=2)G=N.C_START_CHAR+q(O);else{var f=B(O)>U(O);G=(f?N.A_START_CHAR:N.B_START_CHAR)+j(O,f)}return G.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(m,v){return String.fromCharCode(203)+v})}},9144:(me,D)=>{var R;function N(ni,yi,Aa){return yi in ni?Object.defineProperty(ni,yi,{value:Aa,enumerable:!0,configurable:!0,writable:!0}):ni[yi]=Aa,ni}Object.defineProperty(D,"__esModule",{value:!0});var B=D.SET_A=0,U=D.SET_B=1,F=D.SET_C=2,q=(D.SHIFT=98,D.START_A=103),O=D.START_B=104,G=D.START_C=105;D.MODULO=103,D.STOP=106,D.FNC1=207,D.SET_BY_CODE=(N(R={},q,B),N(R,O,U),N(R,G,F),R),D.SWAP={101:B,100:U,99:F},D.A_START_CHAR=String.fromCharCode(208),D.B_START_CHAR=String.fromCharCode(209),D.C_START_CHAR=String.fromCharCode(210),D.A_CHARS="[\0-_\xc8-\xcf]",D.B_CHARS="[ -\x7f\xc8-\xcf]",D.C_CHARS="(\xcf*[0-9]{2}\xcf*)",D.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},8754:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.CODE128C=D.CODE128B=D.CODE128A=D.CODE128=void 0;var B=I(R(7737)),F=I(R(2100)),q=I(R(2943)),G=I(R(5683));function I(f){return f&&f.__esModule?f:{default:f}}D.CODE128=B.default,D.CODE128A=F.default,D.CODE128B=q.default,D.CODE128C=G.default},6602:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.CODE39=void 0;var N=function(){function P(K,te){for(var ce=0;ce<te.length;ce++){var Et=te[ce];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(K,Et.key,Et)}}return function(K,te,ce){return te&&P(K.prototype,te),ce&&P(K,ce),K}}(),G=function(P){function K(te,ce){return function j(P,K){if(!(P instanceof K))throw new TypeError("Cannot call a class as a function")}(this,K),te=te.toUpperCase(),ce.mod43&&(te+=function y(P){return I[P]}(function A(P){for(var K=0,te=0;te<P.length;te++)K+=x(P[te]);return K%=43}(te))),function q(P,K){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!K||"object"!=typeof K&&"function"!=typeof K?P:K}(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,ce))}return function O(P,K){if("function"!=typeof K&&null!==K)throw new TypeError("Super expression must either be null or a function, not "+typeof K);P.prototype=Object.create(K&&K.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(P,K):P.__proto__=K)}(K,P),N(K,[{key:"encode",value:function(){for(var ce=m("*"),Et=0;Et<this.data.length;Et++)ce+=m(this.data[Et])+"0";return{data:ce+=m("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),K}(function F(P){return P&&P.__esModule?P:{default:P}}(R(9418)).default),I=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],f=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(P){return function v(P){return f[P].toString(2)}(x(P))}function x(P){return I.indexOf(P)}D.CODE39=G},4079:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function v(y,x){for(var A=0;A<x.length;A++){var P=x[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,x,A){return x&&v(y.prototype,x),A&&v(y,A),y}}(),B=R(1392),F=O(R(2651));function O(v){return v&&v.__esModule?v:{default:v}}var m=function(v){function y(x,A){!function G(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y);var P=function I(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?v:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,A));return P.fontSize=!A.flat&&A.fontSize>10*A.width?10*A.width:A.fontSize,P.guardHeight=A.height+P.fontSize/2+A.textMargin,P}return function f(v,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}(y,v),N(y,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(A,P){return this.text.substr(A,P)}},{key:"leftEncode",value:function(A,P){return(0,F.default)(A,P)}},{key:"rightText",value:function(A,P){return this.text.substr(A,P)}},{key:"rightEncode",value:function(A,P){return(0,F.default)(A,P)}},{key:"encodeGuarded",value:function(){var A={fontSize:this.fontSize},P={height:this.guardHeight};return[{data:B.SIDE_BIN,options:P},{data:this.leftEncode(),text:this.leftText(),options:A},{data:B.MIDDLE_BIN,options:P},{data:this.rightEncode(),text:this.rightText(),options:A},{data:B.SIDE_BIN,options:P}]}},{key:"encodeFlat",value:function(){return{data:[B.SIDE_BIN,this.leftEncode(),B.MIDDLE_BIN,this.rightEncode(),B.SIDE_BIN].join(""),text:this.text}}}]),y}(O(R(9418)).default);D.default=m},9619:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function v(y,x){for(var A=0;A<x.length;A++){var P=x[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,x,A){return x&&v(y.prototype,x),A&&v(y,A),y}}(),B=function v(y,x,A){null===y&&(y=Function.prototype);var P=Object.getOwnPropertyDescriptor(y,x);if(void 0===P){var K=Object.getPrototypeOf(y);return null===K?void 0:v(K,x,A)}if("value"in P)return P.value;var te=P.get;return void 0===te?void 0:te.call(A)},U=R(1392),j=function q(v){return v&&v.__esModule?v:{default:v}}(R(4079)),f=function(y){return(10-y.substr(0,12).split("").map(function(A){return+A}).reduce(function(A,P,K){return K%2?A+3*P:A+P},0)%10)%10},m=function(v){function y(x,A){(function O(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")})(this,y),-1!==x.search(/^[0-9]{12}$/)&&(x+=f(x));var P=function G(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?v:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,A));return P.lastChar=A.lastChar,P}return function I(v,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}(y,v),N(y,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===f(this.data)}},{key:"leftText",value:function(){return B(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var A=this.data.substr(1,6),P=U.EAN13_STRUCTURE[this.data[0]];return B(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"leftEncode",this).call(this,A,P)}},{key:"rightText",value:function(){return B(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var A=this.data.substr(7,6);return B(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"rightEncode",this).call(this,A,"RRRRRR")}},{key:"encodeGuarded",value:function(){var A=B(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(A.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(A.push({data:"00"}),A.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),A}}]),y}(j.default);D.default=m},5754:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function v(y,x){for(var A=0;A<x.length;A++){var P=x[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,x,A){return x&&v(y.prototype,x),A&&v(y,A),y}}(),B=R(1392),F=O(R(2651));function O(v){return v&&v.__esModule?v:{default:v}}var m=function(v){function y(x,A){return function G(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}(this,y),function I(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?v:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,A))}return function f(v,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}(y,v),N(y,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var A=B.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,F.default)(this.data,A,"01"),text:this.text}}}]),y}(O(R(9418)).default);D.default=m},1931:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function y(x,A){for(var P=0;P<A.length;P++){var K=A[P];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(x,K.key,K)}}return function(x,A,P){return A&&y(x.prototype,A),P&&y(x,P),x}}(),B=R(1392),F=O(R(2651));function O(y){return y&&y.__esModule?y:{default:y}}var v=function(y){function x(A,P){return function G(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}(this,x),function I(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?y:x}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,A,P))}return function f(y,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}(x,y),N(x,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var P=B.EAN5_STRUCTURE[function(x){return x.split("").map(function(P){return+P}).reduce(function(P,K,te){return te%2?P+9*K:P+3*K},0)%10}(this.data)];return{data:"1011"+(0,F.default)(this.data,P,"01"),text:this.text}}}]),x}(O(R(9418)).default);D.default=v},3372:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function m(v,y){for(var x=0;x<y.length;x++){var A=y[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,y,x){return y&&m(v.prototype,y),x&&m(v,x),v}}(),B=function m(v,y,x){null===v&&(v=Function.prototype);var A=Object.getOwnPropertyDescriptor(v,y);if(void 0===A){var P=Object.getPrototypeOf(v);return null===P?void 0:m(P,y,x)}if("value"in A)return A.value;var K=A.get;return void 0===K?void 0:K.call(x)},F=function j(m){return m&&m.__esModule?m:{default:m}}(R(4079)),I=function(v){return(10-v.substr(0,7).split("").map(function(x){return+x}).reduce(function(x,A,P){return P%2?x+A:x+3*A},0)%10)%10},f=function(m){function v(y,x){return function q(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}(this,v),-1!==y.search(/^[0-9]{7}$/)&&(y+=I(y)),function O(m,v){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?m:v}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y,x))}return function G(m,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);m.prototype=Object.create(v&&v.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(m,v):m.__proto__=v)}(v,m),N(v,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===I(this.data)}},{key:"leftText",value:function(){return B(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var x=this.data.substr(0,4);return B(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"leftEncode",this).call(this,x,"LLLL")}},{key:"rightText",value:function(){return B(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var x=this.data.substr(4,4);return B(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"rightEncode",this).call(this,x,"RRRR")}}]),v}(F.default);D.default=f},5821:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function v(y,x){for(var A=0;A<x.length;A++){var P=x[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,x,A){return x&&v(y.prototype,x),A&&v(y,A),y}}();D.checksum=m;var U=q(R(2651));function q(v){return v&&v.__esModule?v:{default:v}}var f=function(v){function y(x,A){(function O(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")})(this,y),-1!==x.search(/^[0-9]{11}$/)&&(x+=m(x));var P=function G(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||"object"!=typeof y&&"function"!=typeof y?v:y}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,A));return P.displayValue=A.displayValue,P.fontSize=A.fontSize>10*A.width?10*A.width:A.fontSize,P.guardHeight=A.height+P.fontSize/2+A.textMargin,P}return function I(v,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}(y,v),N(y,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==m(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var A="";return A+="101",A+=(0,U.default)(this.data.substr(0,6),"LLLLLL"),A+="01010",A+=(0,U.default)(this.data.substr(6,6),"RRRRRR"),{data:A+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var A=[];return this.displayValue&&A.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),A.push({data:"101"+(0,U.default)(this.data[0],"L"),options:{height:this.guardHeight}}),A.push({data:(0,U.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),A.push({data:"01010",options:{height:this.guardHeight}}),A.push({data:(0,U.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),A.push({data:(0,U.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&A.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),A}}]),y}(q(R(9418)).default);function m(v){var x,y=0;for(x=1;x<11;x+=2)y+=parseInt(v[x]);for(x=0;x<11;x+=2)y+=3*parseInt(v[x]);return(10-y%10)%10}D.default=f},1091:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function A(P,K){for(var te=0;te<K.length;te++){var ce=K[te];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(P,ce.key,ce)}}return function(P,K,te){return K&&A(P.prototype,K),te&&A(P,te),P}}(),U=O(R(2651)),j=O(R(9418)),q=R(5821);function O(A){return A&&A.__esModule?A:{default:A}}function I(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||"object"!=typeof P&&"function"!=typeof P?A:P}var m=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],v=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],y=function(A){function P(K,te){!function G(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}(this,P);var ce=I(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,K,te));if(ce.isValid=!1,-1!==K.search(/^[0-9]{6}$/))ce.middleDigits=K,ce.upcA=x(K,"0"),ce.text=te.text||""+ce.upcA[0]+K+ce.upcA[ce.upcA.length-1],ce.isValid=!0;else{if(-1===K.search(/^[01][0-9]{7}$/))return I(ce);if(ce.middleDigits=K.substring(1,K.length-1),ce.upcA=x(ce.middleDigits,K[0]),ce.upcA[ce.upcA.length-1]!==K[K.length-1])return I(ce);ce.isValid=!0}return ce.displayValue=te.displayValue,ce.fontSize=te.fontSize>10*te.width?10*te.width:te.fontSize,ce.guardHeight=te.height+ce.fontSize/2+te.textMargin,ce}return function f(A,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);A.prototype=Object.create(P&&P.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(A,P):A.__proto__=P)}(P,A),N(P,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var te="";return te+="101",te+=this.encodeMiddleDigits(),{data:te+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var te=[];return this.displayValue&&te.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),te.push({data:"101",options:{height:this.guardHeight}}),te.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),te.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&te.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),te}},{key:"encodeMiddleDigits",value:function(){var te=this.upcA[0],Et=v[parseInt(this.upcA[this.upcA.length-1])][parseInt(te)];return(0,U.default)(this.middleDigits,Et)}}]),P}(j.default);function x(A,P){for(var K=parseInt(A[A.length-1]),te=m[K],ce="",Et=0,ni=0;ni<te.length;ni++){var yi=te[ni];ce+="X"===yi?A[Et++]:yi}return(ce=""+P+ce)+(0,q.checksum)(ce)}D.default=y},1392:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.SIDE_BIN="101",D.MIDDLE_BIN="01010",D.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},D.EAN2_STRUCTURE=["LL","LG","GL","GG"],D.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],D.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},2651:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=R(1392);D.default=function(F,j,q){var O=F.split("").map(function(I,f){return N.BINARIES[j[f]]}).map(function(I,f){return I?I[F[f]]:""});if(q){var G=F.length-1;O=O.map(function(I,f){return f<G?I+q:I})}return O.join("")}},2708:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.UPCE=D.UPC=D.EAN2=D.EAN5=D.EAN8=D.EAN13=void 0;var B=y(R(9619)),F=y(R(3372)),q=y(R(1931)),G=y(R(5754)),f=y(R(5821)),v=y(R(1091));function y(x){return x&&x.__esModule?x:{default:x}}D.EAN13=B.default,D.EAN8=F.default,D.EAN5=q.default,D.EAN2=G.default,D.UPC=f.default,D.UPCE=v.default},8817:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.GenericBarcode=void 0;var N=function(){function I(f,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return function(f,m,v){return m&&I(f.prototype,m),v&&I(f,v),f}}(),G=function(I){function f(m,v){return function j(I,f){if(!(I instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function q(I,f){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?I:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,v))}return function O(I,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);I.prototype=Object.create(f&&f.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(I,f):I.__proto__=f)}(f,I),N(f,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),f}(function F(I){return I&&I.__esModule?I:{default:I}}(R(9418)).default);D.GenericBarcode=G},6065:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function f(m,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,y){return v&&f(m.prototype,v),y&&f(m,y),m}}(),B=R(5168),I=function(f){function m(){return function q(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function O(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return function G(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(m,f),N(m,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var y=this,x=this.data.match(/.{2}/g).map(function(A){return y.encodePair(A)}).join("");return{data:B.START_BIN+x+B.END_BIN,text:this.text}}},{key:"encodePair",value:function(y){var x=B.BINARIES[y[1]];return B.BINARIES[y[0]].split("").map(function(A,P){return("1"===A?"111":"1")+("1"===x[P]?"000":"0")}).join("")}}]),m}(function j(f){return f&&f.__esModule?f:{default:f}}(R(9418)).default);D.default=I},9643:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function f(m,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,y){return v&&f(m.prototype,v),y&&f(m,y),m}}(),U=function F(f){return f&&f.__esModule?f:{default:f}}(R(6065)),G=function(m){var v=m.substr(0,13).split("").map(function(y){return parseInt(y,10)}).reduce(function(y,x,A){return y+x*(3-A%2*2)},0);return 10*Math.ceil(v/10)-v},I=function(f){function m(v,y){return function j(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),-1!==v.search(/^[0-9]{13}$/)&&(v+=G(v)),function q(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,y))}return function O(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(m,f),N(m,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===G(this.data)}}]),m}(U.default);D.default=I},5168:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.START_BIN="1010",D.END_BIN="11101",D.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},8969:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.ITF14=D.ITF=void 0;var B=j(R(6065)),F=j(R(9643));function j(q){return q&&q.__esModule?q:{default:q}}D.ITF=B.default,D.ITF14=F.default},7037:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function f(m,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,v,y){return v&&f(m.prototype,v),y&&f(m,y),m}}(),G=function(f){function m(v,y){return function j(f,m){if(!(f instanceof m))throw new TypeError("Cannot call a class as a function")}(this,m),function q(f,m){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||"object"!=typeof m&&"function"!=typeof m?f:m}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,v,y))}return function O(f,m){if("function"!=typeof m&&null!==m)throw new TypeError("Super expression must either be null or a function, not "+typeof m);f.prototype=Object.create(m&&m.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(f,m):f.__proto__=m)}(m,f),N(m,[{key:"encode",value:function(){for(var y="110",x=0;x<this.data.length;x++){var P=parseInt(this.data[x]).toString(2);P=I(P,4-P.length);for(var K=0;K<P.length;K++)y+="0"==P[K]?"100":"110"}return{data:y+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),m}(function F(f){return f&&f.__esModule?f:{default:f}}(R(9418)).default);function I(f,m){for(var v=0;v<m;v++)f="0"+f;return f}D.default=G},3922:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var B=function F(I){return I&&I.__esModule?I:{default:I}}(R(7037)),U=R(6225),G=function(I){function f(m,v){return function j(I,f){if(!(I instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function q(I,f){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?I:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m+(0,U.mod10)(m),v))}return function O(I,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);I.prototype=Object.create(f&&f.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(I,f):I.__proto__=f)}(f,I),f}(B.default);D.default=G},8742:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var B=function F(I){return I&&I.__esModule?I:{default:I}}(R(7037)),U=R(6225),G=function(I){function f(m,v){return function j(I,f){if(!(I instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),m+=(0,U.mod10)(m),m+=(0,U.mod10)(m),function q(I,f){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?I:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,v))}return function O(I,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);I.prototype=Object.create(f&&f.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(I,f):I.__proto__=f)}(f,I),f}(B.default);D.default=G},1825:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var B=function F(I){return I&&I.__esModule?I:{default:I}}(R(7037)),U=R(6225),G=function(I){function f(m,v){return function j(I,f){if(!(I instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function q(I,f){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?I:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m+(0,U.mod11)(m),v))}return function O(I,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);I.prototype=Object.create(f&&f.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(I,f):I.__proto__=f)}(f,I),f}(B.default);D.default=G},4455:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var B=function F(I){return I&&I.__esModule?I:{default:I}}(R(7037)),U=R(6225),G=function(I){function f(m,v){return function j(I,f){if(!(I instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),m+=(0,U.mod11)(m),m+=(0,U.mod10)(m),function q(I,f){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?I:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,v))}return function O(I,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);I.prototype=Object.create(f&&f.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(I,f):I.__proto__=f)}(f,I),f}(B.default);D.default=G},6225:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.mod10=function R(B){for(var U=0,F=0;F<B.length;F++){var j=parseInt(B[F]);U+=(F+B.length)%2==0?j:2*j%10+Math.floor(2*j/10)}return(10-U%10)%10},D.mod11=function N(B){for(var U=0,F=[2,3,4,5,6,7],j=0;j<B.length;j++){var q=parseInt(B[B.length-1-j]);U+=F[j%F.length]*q}return(11-U%11)%11}},1122:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.MSI1110=D.MSI1010=D.MSI11=D.MSI10=D.MSI=void 0;var B=m(R(7037)),F=m(R(3922)),q=m(R(1825)),G=m(R(8742)),f=m(R(4455));function m(v){return v&&v.__esModule?v:{default:v}}D.MSI=B.default,D.MSI10=F.default,D.MSI11=q.default,D.MSI1010=G.default,D.MSI1110=f.default},886:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.codabar=void 0;var N=function(){function I(f,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return function(f,m,v){return m&&I(f.prototype,m),v&&I(f,v),f}}(),G=function(I){function f(m,v){(function j(I,f){if(!(I instanceof f))throw new TypeError("Cannot call a class as a function")})(this,f),0===m.search(/^[0-9\-\$\:\.\+\/]+$/)&&(m="A"+m+"A");var y=function q(I,f){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?I:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m.toUpperCase(),v));return y.text=y.options.text||y.text.replace(/[A-D]/g,""),y}return function O(I,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);I.prototype=Object.create(f&&f.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(I,f):I.__proto__=f)}(f,I),N(f,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var v=[],y=this.getEncodings(),x=0;x<this.data.length;x++)v.push(y[this.data.charAt(x)]),x!==this.data.length-1&&v.push("0");return{text:this.text,data:v.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),f}(function F(I){return I&&I.__esModule?I:{default:I}}(R(9418)).default);D.codabar=G},4168:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=R(6602),B=R(8754),U=R(2708),F=R(8969),j=R(1122),q=R(8758),O=R(886),G=R(8817);D.default={CODE39:N.CODE39,CODE128:B.CODE128,CODE128A:B.CODE128A,CODE128B:B.CODE128B,CODE128C:B.CODE128C,EAN13:U.EAN13,EAN8:U.EAN8,EAN5:U.EAN5,EAN2:U.EAN2,UPC:U.UPC,UPCE:U.UPCE,ITF14:F.ITF14,ITF:F.ITF,MSI:j.MSI,MSI10:j.MSI10,MSI11:j.MSI11,MSI1010:j.MSI1010,MSI1110:j.MSI1110,pharmacode:q.pharmacode,codabar:O.codabar,GenericBarcode:G.GenericBarcode}},8758:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.pharmacode=void 0;var N=function(){function I(f,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return function(f,m,v){return m&&I(f.prototype,m),v&&I(f,v),f}}(),G=function(I){function f(m,v){!function j(I,f){if(!(I instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f);var y=function q(I,f){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?I:f}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,m,v));return y.number=parseInt(m,10),y}return function O(I,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);I.prototype=Object.create(f&&f.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(I,f):I.__proto__=f)}(f,I),N(f,[{key:"encode",value:function(){for(var v=this.number,y="";!isNaN(v)&&0!=v;)v%2==0?(y="11100"+y,v=(v-2)/2):(y="100"+y,v=(v-1)/2);return{data:y=y.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),f}(function F(I){return I&&I.__esModule?I:{default:I}}(R(9418)).default);D.pharmacode=G},3057:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0});var R=function(){function U(F,j){for(var q=0;q<j.length;q++){var O=j[q];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}return function(F,j,q){return j&&U(F.prototype,j),q&&U(F,q),F}}(),B=function(){function U(F){(function N(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")})(this,U),this.api=F}return R(U,[{key:"handleCatch",value:function(j){if("InvalidInputException"!==j.name)throw j;if(this.api._options.valid===this.api._defaults.valid)throw j.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(j){try{var q=j.apply(void 0,arguments);return this.api._options.valid(!0),q}catch(O){return this.handleCatch(O),this.api}}}]),U}();D.default=B},723:(me,D)=>{function R(q,O){if(!(q instanceof O))throw new TypeError("Cannot call a class as a function")}function N(q,O){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?q:O}function B(q,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);q.prototype=Object.create(O&&O.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(q,O):q.__proto__=O)}Object.defineProperty(D,"__esModule",{value:!0});var U=function(q){function O(G,I){R(this,O);var f=N(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return f.name="InvalidInputException",f.symbology=G,f.input=I,f.message='"'+f.input+'" is not a valid input for '+f.symbology,f}return B(O,Error),O}(),F=function(q){function O(){R(this,O);var G=N(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return G.name="InvalidElementException",G.message="Not supported type to render on",G}return B(O,Error),O}(),j=function(q){function O(){R(this,O);var G=N(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return G.name="NoElementException",G.message="No element to render on.",G}return B(O,Error),O}();D.InvalidInputException=U,D.InvalidElementException=F,D.NoElementException=j},7164:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.default=function R(N){return N.marginTop=N.marginTop||N.margin,N.marginBottom=N.marginBottom||N.margin,N.marginRight=N.marginRight||N.margin,N.marginLeft=N.marginLeft||N.margin,N}},7020:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var B=j(R(4866)),F=j(R(530));function j(O){return O&&O.__esModule?O:{default:O}}D.default=function q(O){var G={};for(var I in F.default)F.default.hasOwnProperty(I)&&(O.hasAttribute("jsbarcode-"+I.toLowerCase())&&(G[I]=O.getAttribute("jsbarcode-"+I.toLowerCase())),O.hasAttribute("data-"+I.toLowerCase())&&(G[I]=O.getAttribute("data-"+I.toLowerCase())));return G.value=O.getAttribute("jsbarcode-value")||O.getAttribute("data-value"),(0,B.default)(G)}},8619:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(m){return typeof m}:function(m){return m&&"function"==typeof Symbol&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},U=O(R(7020)),j=O(R(2233)),q=R(723);function O(m){return m&&m.__esModule?m:{default:m}}D.default=function G(m){if("string"==typeof m)return function I(m){var v=document.querySelectorAll(m);if(0!==v.length){for(var y=[],x=0;x<v.length;x++)y.push(G(v[x]));return y}}(m);if(Array.isArray(m)){for(var v=[],y=0;y<m.length;y++)v.push(G(m[y]));return v}if(typeof HTMLCanvasElement<"u"&&m instanceof HTMLImageElement)return function f(m){var v=document.createElement("canvas");return{element:v,options:(0,U.default)(m),renderer:j.default.CanvasRenderer,afterRender:function(){m.setAttribute("src",v.toDataURL())}}}(m);if(m&&m.nodeName&&"svg"===m.nodeName.toLowerCase()||typeof SVGElement<"u"&&m instanceof SVGElement)return{element:m,options:(0,U.default)(m),renderer:j.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement)return{element:m,options:(0,U.default)(m),renderer:j.default.CanvasRenderer};if(m&&m.getContext)return{element:m,renderer:j.default.CanvasRenderer};if(m&&"object"===(typeof m>"u"?"undefined":N(m))&&!m.nodeName)return{element:m,renderer:j.default.ObjectRenderer};throw new q.InvalidElementException}},1301:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.default=function R(N){var B=[];return function U(F){if(Array.isArray(F))for(var j=0;j<F.length;j++)U(F[j]);else F.text=F.text||"",F.data=F.data||"",B.push(F)}(N),B}},6017:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0});var R=Object.assign||function(N){for(var B=1;B<arguments.length;B++){var U=arguments[B];for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&(N[F]=U[F])}return N};D.default=function(N,B){return R({},N,B)}},4866:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.default=function R(N){var B=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var U in B)B.hasOwnProperty(U)&&"string"==typeof N[U=B[U]]&&(N[U]=parseInt(N[U],10));return"string"==typeof N.displayValue&&(N.displayValue="false"!=N.displayValue),N}},530:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1799:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function G(I,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(I,v.key,v)}}return function(I,f,m){return f&&G(I.prototype,f),m&&G(I,m),I}}(),U=function j(G){return G&&G.__esModule?G:{default:G}}(R(6017)),F=R(4358),O=function(){function G(I,f,m){(function q(G,I){if(!(G instanceof I))throw new TypeError("Cannot call a class as a function")})(this,G),this.canvas=I,this.encodings=f,this.options=m}return N(G,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var f=0;f<this.encodings.length;f++){var m=(0,U.default)(this.options,this.encodings[f].options);this.drawCanvasBarcode(m,this.encodings[f]),this.drawCanvasText(m,this.encodings[f]),this.moveCanvasDrawing(this.encodings[f])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var f=this.canvas.getContext("2d");f.save(),(0,F.calculateEncodingAttributes)(this.encodings,this.options,f);var m=(0,F.getTotalWidthOfEncodings)(this.encodings),v=(0,F.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=m+this.options.marginLeft+this.options.marginRight,this.canvas.height=v,f.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(f.fillStyle=this.options.background,f.fillRect(0,0,this.canvas.width,this.canvas.height)),f.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(f,m){var x,v=this.canvas.getContext("2d"),y=m.data;x="top"==f.textPosition?f.marginTop+f.fontSize+f.textMargin:f.marginTop,v.fillStyle=f.lineColor;for(var A=0;A<y.length;A++){var P=A*f.width+m.barcodePadding;"1"===y[A]?v.fillRect(P,x,f.width,f.height):y[A]&&v.fillRect(P,x,f.width,f.height*y[A])}}},{key:"drawCanvasText",value:function(f,m){var x,A,v=this.canvas.getContext("2d");f.displayValue&&(A="top"==f.textPosition?f.marginTop+f.fontSize-f.textMargin:f.height+f.textMargin+f.marginTop+f.fontSize,v.font=f.fontOptions+" "+f.fontSize+"px "+f.font,"left"==f.textAlign||m.barcodePadding>0?(x=0,v.textAlign="left"):"right"==f.textAlign?(x=m.width-1,v.textAlign="right"):(x=m.width/2,v.textAlign="center"),v.fillText(m.text,x,A))}},{key:"moveCanvasDrawing",value:function(f){this.canvas.getContext("2d").translate(f.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),G}();D.default=O},2233:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var B=O(R(1799)),F=O(R(5794)),q=O(R(1138));function O(G){return G&&G.__esModule?G:{default:G}}D.default={CanvasRenderer:B.default,SVGRenderer:F.default,ObjectRenderer:q.default}},1138:(me,D)=>{Object.defineProperty(D,"__esModule",{value:!0});var R=function(){function U(F,j){for(var q=0;q<j.length;q++){var O=j[q];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}return function(F,j,q){return j&&U(F.prototype,j),q&&U(F,q),F}}(),B=function(){function U(F,j,q){(function N(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")})(this,U),this.object=F,this.encodings=j,this.options=q}return R(U,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),U}();D.default=B},4358:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0}),D.getTotalWidthOfEncodings=D.calculateEncodingAttributes=D.getBarcodePadding=D.getEncodingHeight=D.getMaximumHeightOfEncodings=void 0;var B=function U(f){return f&&f.__esModule?f:{default:f}}(R(6017));function F(f,m){return m.height+(m.displayValue&&f.text.length>0?m.fontSize+m.textMargin:0)+m.marginTop+m.marginBottom}function j(f,m,v){if(v.displayValue&&m<f){if("center"==v.textAlign)return Math.floor((f-m)/2);if("left"==v.textAlign)return 0;if("right"==v.textAlign)return Math.floor(f-m)}return 0}function I(f,m,v){var y;if(v)y=v;else{if(!(typeof document<"u"))return 0;y=document.createElement("canvas").getContext("2d")}y.font=m.fontOptions+" "+m.fontSize+"px "+m.font;var x=y.measureText(f);return x?x.width:0}D.getMaximumHeightOfEncodings=function G(f){for(var m=0,v=0;v<f.length;v++)f[v].height>m&&(m=f[v].height);return m},D.getEncodingHeight=F,D.getBarcodePadding=j,D.calculateEncodingAttributes=function q(f,m,v){for(var y=0;y<f.length;y++){var P,x=f[y],A=(0,B.default)(m,x.options);P=A.displayValue?I(x.text,A,v):0;var K=x.data.length*A.width;x.width=Math.ceil(Math.max(P,K)),x.height=F(x,A),x.barcodePadding=j(P,K,A)}},D.getTotalWidthOfEncodings=function O(f){for(var m=0,v=0;v<f.length;v++)m+=f[v].width;return m}},5794:(me,D,R)=>{Object.defineProperty(D,"__esModule",{value:!0});var N=function(){function I(f,m){for(var v=0;v<m.length;v++){var y=m[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(f,y.key,y)}}return function(f,m,v){return m&&I(f.prototype,m),v&&I(f,v),f}}(),U=function j(I){return I&&I.__esModule?I:{default:I}}(R(6017)),F=R(4358),O="http://www.w3.org/2000/svg",G=function(){function I(f,m,v){(function q(I,f){if(!(I instanceof f))throw new TypeError("Cannot call a class as a function")})(this,I),this.svg=f,this.encodings=m,this.options=v,this.document=v.xmlDocument||document}return N(I,[{key:"render",value:function(){var m=this.options.marginLeft;this.prepareSVG();for(var v=0;v<this.encodings.length;v++){var y=this.encodings[v],x=(0,U.default)(this.options,y.options),A=this.createGroup(m,x.marginTop,this.svg);this.setGroupOptions(A,x),this.drawSvgBarcode(A,x,y),this.drawSVGText(A,x,y),m+=y.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,F.calculateEncodingAttributes)(this.encodings,this.options);var m=(0,F.getTotalWidthOfEncodings)(this.encodings),v=(0,F.getMaximumHeightOfEncodings)(this.encodings),y=m+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(y,v),this.options.background&&this.drawRect(0,0,y,v,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(m,v,y){var A,x=y.data;A="top"==v.textPosition?v.fontSize+v.textMargin:0;for(var P=0,K=0,te=0;te<x.length;te++)K=te*v.width+y.barcodePadding,"1"===x[te]?P++:P>0&&(this.drawRect(K-v.width*P,A,v.width*P,v.height,m),P=0);P>0&&this.drawRect(K-v.width*(P-1),A,v.width*P,v.height,m)}},{key:"drawSVGText",value:function(m,v,y){var A,P,x=this.document.createElementNS(O,"text");v.displayValue&&(x.setAttribute("style","font:"+v.fontOptions+" "+v.fontSize+"px "+v.font),P="top"==v.textPosition?v.fontSize-v.textMargin:v.height+v.textMargin+v.fontSize,"left"==v.textAlign||y.barcodePadding>0?(A=0,x.setAttribute("text-anchor","start")):"right"==v.textAlign?(A=y.width-1,x.setAttribute("text-anchor","end")):(A=y.width/2,x.setAttribute("text-anchor","middle")),x.setAttribute("x",A),x.setAttribute("y",P),x.appendChild(this.document.createTextNode(y.text)),m.appendChild(x))}},{key:"setSvgAttributes",value:function(m,v){var y=this.svg;y.setAttribute("width",m+"px"),y.setAttribute("height",v+"px"),y.setAttribute("x","0px"),y.setAttribute("y","0px"),y.setAttribute("viewBox","0 0 "+m+" "+v),y.setAttribute("xmlns",O),y.setAttribute("version","1.1"),y.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(m,v,y){var x=this.document.createElementNS(O,"g");return x.setAttribute("transform","translate("+m+", "+v+")"),y.appendChild(x),x}},{key:"setGroupOptions",value:function(m,v){m.setAttribute("style","fill:"+v.lineColor+";")}},{key:"drawRect",value:function(m,v,y,x,A){var P=this.document.createElementNS(O,"rect");return P.setAttribute("x",m),P.setAttribute("y",v),P.setAttribute("width",y),P.setAttribute("height",x),A.appendChild(P),P}}]),I}();D.default=G}},me=>{me(me.s=9143)}]);